
# 入门

本章介绍使用科达电子地图 js api开发地图应用之前的一些准备工作。

## 申请使用
1. 首先，申请科达电子地图引擎以及云平台部署，填写对应的[申请函](#)
2. 通过knpm安装SDK: ``` knpm install kmap-service --save ```，或者使用 `<script>` 标签引入 `kmap-service.js` 文件
3. 登录[ 云平台](#)进行地图初始化配置， 云平台管理端使用文档可以联系地图组获取。

## 准备界面

1.添加`div`标签作为地图容器，同时为该`div`指定`id`属性；
``` html
<div id="map"></div> 
```
2.为地图容器指定高度、宽度；
``` css
html,body,#map{
    position:absolute;
    width:100%;
    height:100%;
    margin:0;
    padding:0;
}
```

3.准备地图配置文件，地图配置文件中主要包含以下内容：
``` 
{
  "portalUrl": "",
  "userName": "",
  "secretKey": "",
  "engineType": "kd",
  "indoorMapMaxZoom": 24,
  "coordinateType": 1
}
```
- portalUrl: 云平台服务地址，即服务接口的根地址，云平台的账号信息页面中查看

>穿网场景下portalUrl配置说明：

>1、业务系统和地图服务在同一海豚域名下
>使用相对路径，如： "/portal"，地图引擎将从当前访问页面的地址栏中截取域名作为地图服务域名

>2、业务系统和地图服务不在同一海豚域名下
>portalUrl需配置为地图服务映射后的域名地址

- userName: 云平台用户名 云平台的账号信息页面中查看
- secretKey: 云平台密钥 云平台的账号信息页面中查看，userName及SecretKey作为地图开发者的鉴权凭证
- indoorMapMaxZoom: 室内地图最大显示层级，非必填，最大不超过24
- coordinateType: 坐标系，非必填，coordinateType: 1表示02坐标系；coordinateType: 2表示09坐标系；coordinateType: 3表示84坐标系，默认取云平台信息配置下，基础数据坐标系设置的值。对于经纬度坐标，是需要指定坐标系类型的，同一个实地位置，不同坐标系类型下，对应的经纬度是不一样的。同时，服务端也会根据用户指定坐标系类型，返回匹配对应坐标系类型相关的经纬度数据。

4.在项目中引入kmap js-sdk:

``` 
import KMap from "kmap-service"
```

或者使用 `<script>` 标签引入 `kmap-service.js` 文件

``` 
<script src='/path/to/kmap-service'></script>
```

5.初始化地图应用

```     javascript
const map = new KMap({
    containerId:'map',
    configUrl:'./kmap.config.json',//地图配置文件地址（对应上述步骤3）
    center:[120,30],// 初始化中心点，该参数非必填，默认值是取自云平台中的地图通用配置中设置的中心点。
    zoom:11, // 初始化层级
    solution: "9999"，//初始化配图文件编号，科达引擎的solution来源于云平台，对于四维图新的矢量地图服务的接入，传入 'minemap' 字符串
    language: "zh-CN",  // 国际化参数。中文："zh-CN"，英文:"en"，默认是取浏览器语言.
    tileType: "vector",  // 瓦片类型，非必填，在矢量栅格一体化的 solution 下，可以通过该参数来强制指定瓦片类型，矢量：'vector'，栅格：'raster'     
    onLoadMap:()=>{
        console.log('地图初始化完毕！');
    },
    onError:(res)=>{  //错误回调
        console.log(res);
    }
})
```
 
 6.补充说明

`矢量地图支持旋转和倾斜，其他栅格地图，影像图，三方地图不支持旋转和倾斜。`

7.接入四维图新矢量地图服务的说明

首先需要在项目中通过 `<script>`标签，全局引入现场提供的 minemap 库，以互联网示例：`<script src="https://minemap.minedata.cn/minemapapi/v2.1.1/minemap.js"></script>`，具体使用 minemap.js 的版本，结合现场环境而定，使用现场提供的版本

然后在 `kmap.config.json` 中额外配置四维图新相关的全局参数设置、地图方案的 key 与 solution，以及地图服务的 style，如下示例所示，仅供参考：

```
{
  "domainUrl": "https://minemap.minedata.cn", // MineMap根域名地址
  "dataDomainUrl": "https://minemap.minedata.cn", // MineMap矢量数据服务根域名地址
  "serverDomainUrl": "https://sd-data.minedata.cn", // MineMap矢量数据服务新规范根域名地址
  "spriteUrl": "https://minemap.minedata.cn/minemapapi/v2.1.1/sprite/sprite", // MineMap底图雪碧图地址
  "serviceUrl": "https://service.minedata.cn/service", // MineMap后台服务根地址
  "key": "", // 地图方案的 key
  "solution": "", // 地图方案的 solution
  "style": "https://service.minedata.cn/map/solu/style/11001" // 底图样式
}
```

在 new KMap 的时候，传入参数 solution 的值为 'minemap'，如果现场四维图新矢量地图服务的投影规则 projection 是 'LATLON'，则在 new KMap 的时候传入参数 projection: 'EPSG:4326'。
本章介绍科达电子地图引擎 JS API 地图的基本要素，常用名词和一些基础知识的说明。

## 科达电子地图引擎的基本要素
使用科达电子地图引擎创建的地图的基本要素有：

**1. 地图容器 Container**

即在准备阶段所创建的指定了id的div对象，这个div将作为承载地图显示、地图控件的容器。

**2. 矢量图层 Layer**

矢量图层是指能够在视觉上覆盖一定地图范围，用来描述部分区域内的地图要素的可视化渲染，一幅地图通常由一个或者多个图层组成。

**3.卫星影像图 Layer**

科达电子地图引擎提供了卫星影像图配置，可以默认配置加载高清卫星影像图

**4. 覆盖物 Overlay**

覆盖物是用来标示某个位置点信息的一种地图要素，覆盖于图层之上，其在屏幕上的位置会随着地图的缩放和中心变化而发生改变，但是会与图层内的要素保持相对静止。

科达电子地图引擎中的覆盖物最终的呈现形式是DOM元素，支持将自定义DOM元素作为展示内容，支持覆盖物内部元素的自定义事件绑定，而且还支持覆盖物与信息窗体的绑定。

**5. 信息窗体 Popup**

信息窗体是用来描述某个位置点详细信息的一种地图要素，覆盖于图层之上，支持位置点的偏移调整和信息的屏幕显示方向调整。

科达电子地图引擎中的Popup最终的呈现形式是DOM元素，支持将自定义DOM元素作为展示内容，支持Popup内部元素的自定义事件绑定。

**6. 地图控件 Controls**

地图控件浮在所有图层和地图要素之上，用于满足一定的交互或提示功能，最终的呈现形式是DOM元素，一般相对于地图容器静止，不随着地图缩放和中心变化而发生位置的变化。

科达电子地图引擎提供了很多常用的地图控件，如比例尺控件、地图缩放控件。

**7. 几何图形编辑 Edit**

科达电子地图引擎提供了点、线、面、圆、椭圆、扇形、曲线面、复杂箭头等几何图形编辑功能，支持图形二次编辑，并提供了相应的接口，可以获取图形编辑后的几何。

## 名词解释
**1.地图级别 ZoomLevel**

级别与地图的比例尺成正比，每增大一级，地图的比例尺也增大一倍，地图显示的越详细。科达电子地图引擎地图的最小级别为0级，最大级别默认为17级，支持定值到19级。

**2. 经纬度 LngLat**

坐标通常指经纬度坐标，MineMap地图的坐标范围大致为：东西经180度（-180——180，西半球为负，东半球为正），南北纬85度（-85——85，北半球为正，南半球为负）。


**3. 地图要素 Feature**

严格意义的地图要素指的是展示在地图上的地理要素，包括道路、区域面、建筑、POI 标注、路名等。开发者自定义的geojson数据也可以看做是一种地图要素。

**4. 投影 Projection**

地图投影指的是将地球球面的经纬度坐标映射到地图平面坐标的变换和映射关系，科达电子地图引擎使用 Web 墨卡托投影，也支持经纬度投影。

## 接口入参与返回
目前，我们所有的科达电子地图引擎接口均挂载在kmap对象上，入参和返回使用JSON对象的形式。

## 常用名词说明
**1. callback**

表示接口的回调方法，通常默认为后续操作的必填回调方法，比如：截图必须有callback返回所截取的图片的信息。

**2. handler**

表示绑定和解除事件接口的回调方法，通常默认为后续操作的必填回调方法，比如：绑定解除marker或图层事件。

**3. ended**

表示接口操作结束的回调，非必填的回调方法。比如：添加Marker后，可以添加回调然后绑定事件，也可以不回调不添加事件。

## 参数约束
**1. 点坐标point:**

统一用一维数组：如point[33.432432,65.43552]，point[0]代表经度，point[1]代表纬度。

**2. 多点坐标points:**

二维数组：如points[ [120, 30], [121, 35] ]。

**3. 线polyline:**

二维数组：如polyline[ [120, 30], [121, 35] ]。

**4. 多线multiPolyline:**

三维数组：如multiPolyline[ [ [120, 30], [121, 35] ], [ [121, 31], [120, 33] ] ]。

**5. 面polygon:**

二维数组：如polygon[ [120, 30], [121, 35], [120, 35], [120, 30] ]，并且多边形数组的最后一个点坐标等于第一个坐标。

三维数组：考虑面中存在洞的情况，如polygon[ [ [120, 30], [121, 35], [121, 34], [120, 30] ], [ [119.9, 29.9], [119.9, 34.9], [119.9, 33.9], [119.9, 29.9] ] ], 第一个为多边形的外环，第二、第三...等为多边形的内环，并且多边形数组的最后一个点坐标等于第一个坐标。

**6. 多面multiPolygon:**

四维数组：如multiPolygon[ [ [ [120, 30], [121, 35], [121, 35], [120, 30] ] ], [ [ [120.5, 30.1], [121.1, 35.1], [121, 35], [120.5, 30.1] ] ] ]。

**7. 字符串:**

统一使用单引号， 如 'name'。

**8.callback 的 result:**

status = 10 表示成功，status = 20 表示失败。

除了地图展示外，当我们在地图上进行操作时，少不了要对各种交互事件进行处理。科达电子地图引擎提供了强大而灵活的事件系统，本章将向您介绍这一内容。地图的事件系统主要包含以下内容：
- 地图事件
- 图层事件
- 覆盖物事件



## 地图事件
`MapEvents`包括以下事件：
 - `mousedown` 鼠标按下事件
 - `mousemove` 鼠标移动事件
 - `mouseup` 鼠标松开事件
 - `click` 鼠标点击事件
 - `dblclick` 鼠标双击事件
 - `contextmenu` 鼠标右击事件
 - `movestart` 地图移动开始事件
 - `moveend` 地图移动结束事件
 - `load` 地图加载完成事件

其中，`mousedown`,`mouseup`,`mousemove`,`click`,`dblclick`,`contextmenu`事件的`Event`结构如下：
```
interface LngLat {
    lng: number;
    lat: number;
}
interface Point {
    x: number;
    y: number;
}

interface MapEvent {
    type: string;
    isTrusted: boolean; //区分该事件是否由用户操作引起
    lngLat: LngLat;
    originalEvent: MouseEvent;
    point: Point;
    target: any;
}
```

`movestart`,`moveend`,`load`事件的`Event`结构如下：
```
interface MapEvent {
    type: string;
    target: any;
    isTrusted: boolean;
}
```


## 图层事件
`LayerEvents`包括以下事件：
 - `mousedown` 鼠标按下事件
 - `mouseup` 鼠标松开事件
 - `click` 鼠标点击事件
 - `dblclick` 鼠标双击事件，点击图层时，地图不会放大
 - `contextmenu` 鼠标右击事件
 -  `mousemove` 鼠标移动事件
 - `mouseenter` 鼠标进入事件
 - `mouseleave` 鼠标离开事件
 - `mouseover` 鼠标进入事件，等同于`mouseenter`
 - `mouseout` 鼠标离开事件，等同于`mouseleave`
 - `dragstart` 拖拽开始事件
 - `dragging` 拖拽事件
 - `dragend` 拖拽结束事件

`LayerEvents`事件监听将会返回两个参数，`Event`和`features`。
`Event`对象结构如下：
```
interface LayerEvent {
    type: string;
    isTrusted: boolean;
    lngLat: LngLat;
    originalEvent: MouseEvent;
    point: Point;
}
```

`Feature`结构如下：
```
interface Geometry {
    type?: string;
    coordinates?: any[]
}
interface Properties {
    [key:string]:string|number
}
interface Feature {
    type: 'Feature';
    geometry: Geometry;
    properties: Properties;
}
```

## 覆盖物事件
`OverlayEvents`包括以下事件：
 - `mousedown` 鼠标按下事件
 - `mouseup` 鼠标松开事件
 - `click` 鼠标点击事件
 - `dblclick` 鼠标双击事件
 - `contextmenu` 鼠标右击事件
 - `mouseenter` 鼠标进入事件
 - `mouseover` 鼠标进入事件，类似于`mouseenter`,区别是`mouseenter`不会冒泡
 - `mousemove` 鼠标移动事件
 - `mouseout` 鼠标离开事件 
 - `dragstart` 拖拽开始事件
 - `dragging` 拖拽事件
 - `dragend` 拖拽结束事件

其中, `mousedown`,`mouseup`,`click`,`dblclick`,`contextmenu`,`mouseenter`,`mouseover`,`mousemove`,`mouseout`事件的`Event`为标准的DOM `MouseEvent`。

`dragstart`,`dragging`以及`dragend`事件的`Event`结构如下：
```
interface MapEvent {
    type: string;
    isTrusted: boolean;
    lngLat: LngLat;
    originalEvent: MouseEvent;
    point: Point;
    target: any;
}
```
## 绘制事件
**约定**: 为了区分绘制事件和地图事件，便于管理,所有的绘制事件默认会添加一个namespace：draw.
即：`draw.{eventType}`类型的事件。不支持绘制事件中继续调用画线、画多边形等方法。

### draw.create
当一个元素被创建时触发。
以下交互会触发`draw.create`事件:
- [x] 绘制元素结束
- [x] 点击创建点
- [x] 创建线或面结束时触发

### draw.update
当一个或多个元素被更新时触发。
**以下交互会触发该事件**
- [x]  `action: move `
当用户结束拖拽一个或多个选中元素时
- [x] `action: change_coordinates`
 - 处于编辑状态时，拖拽选中的节点，结束时会触发该事件
 - 处于编辑状态时，删除一个或多个选中的节点，会触发该事件
 - 处于编辑状态时，通过添加一个元素的中点来增加节点时会触发该事件

**以下交互不会触发该事件**
- [x] 创建元素
- [x] 删除元素

### draw.selectionchange
当一个或多个元素选中或取消选中时触发
**以下交互会触发该事件**
- [x] 点击一个元素进行选中
- [x] 点击一个节点进行选中
- [x] 点击选中元素外部取消选中
- [x] 点击选中节点外部取消选中
- [x] 结束绘制一个元素（元素刚绘制完成时会处于选中状态）
- [x] 手动删除元素

### draw.modechange
当绘制模式发生改变时会触发该事件
**以下交互会触发该事件**
- [x] 点击点、线、面等按钮进行绘制
- [x] 结束绘制
- [x] 当处于`普通模式`时，点击一个已选中的元素进入`编辑模式`
- [x] 当处于`编辑模式`时，点击元素外部进入`普通模式`

### draw.error

当绘制的图形不合理时会触发该事件

**可能触发该事件的时机**
- [x] 单击创建顶点。
- [x] 拖拽顶点。
- [x] 删除顶点。
- [x] 恢复删除的顶点。

**绘制以下图形会触发该事件**
- [x] 绘制带孔多边形时，多边形的轮廓线、孔洞线有相交。
- [x] 绘制带孔多边形时，多边形的孔洞包含其他孔洞。
- [x] 绘制多个多边形时，多边形的轮廓线有相交。
- [x] 绘制多个多边形时，多边形包含其他多边形。

## 事件校验
事件系统会对用户绑定的事件进行校验，不满足条件的事件将不予以绑定，并给出提示。

## 事件警告
当用户绑定的事件太多时，可能会引起地图整体性能下降，响应变慢。甚至有可能发生内存泄漏。

事件系统会对用户绑定的所有事件进行监控，当为同一元素、同一事件绑定超过10个事件监听时，会在控制台给予警告。

请确保绑定的这些事件真的是应用所必须的，避免无用的事件绑定，影响性能。
 





## 5.接口校验

**1.什么是验证模块？**

我们默认会为传入的api参数指定验证规则，并进行校验，如果有一个规则没有被满足，则会在浏览器控制台中进行警告⚠️，并拒绝执行这部分代码。

**2.如何使用？**

从业务层面来说，这部分代码是无感知的，只有在传入参数有误时才会进行提示。

**3.示例**

这是一个错误使用addLayer的示例，layerId应该传入一个string,我们这里使用了number。 

![image][id_0]

```
kmap.addLayer({
     layerId: 123,
     sourceId: 'cameraSource',
     data: sourceData,
     iconImage: 'ploace-icon',
     ended: function(res) {
         console.log(res);
     }
});
```
运行之后，会给出相应的报错提示以及运行堆栈。


![image][id_1]

[id_0]:data:image/jpeg;base64,/9j/4AAQSkZJRgABAQAAkACQAAD/4QB0RXhpZgAATU0AKgAAAAgABAEaAAUAAAABAAAAPgEbAAUAAAABAAAARgEoAAMAAAABAAIAAIdpAAQAAAABAAAATgAAAAAAAACQAAAAAQAAAJAAAAABAAKgAgAEAAAAAQAAA+igAwAEAAAAAQAAAWgAAAAA/+0AOFBob3Rvc2hvcCAzLjAAOEJJTQQEAAAAAAAAOEJJTQQlAAAAAAAQ1B2M2Y8AsgTpgAmY7PhCfv/iAjhJQ0NfUFJPRklMRQABAQAAAihBREJFAhAAAG1udHJSR0IgWFlaIAfQAAgACwATADQAGGFjc3BBUFBMAAAAAG5vbmUAAAAAAAAAAAAAAAAAAAAAAAD21gABAAAAANMtQURCRQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACmNwcnQAAAD8AAAAMmRlc2MAAAEwAAAAZHd0cHQAAAGUAAAAFGJrcHQAAAGoAAAAFHJUUkMAAAG8AAAADmdUUkMAAAHMAAAADmJUUkMAAAHcAAAADnJYWVoAAAHsAAAAFGdYWVoAAAIAAAAAFGJYWVoAAAIUAAAAFHRleHQAAAAAQ29weXJpZ2h0IDIwMDAgQWRvYmUgU3lzdGVtcyBJbmNvcnBvcmF0ZWQAAABkZXNjAAAAAAAAAApBcHBsZSBSR0IAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAWFlaIAAAAAAAAPNRAAEAAAABFsxYWVogAAAAAAAAAAAAAAAAAAAAAGN1cnYAAAAAAAAAAQHNAABjdXJ2AAAAAAAAAAEBzQAAY3VydgAAAAAAAAABAc0AAFhZWiAAAAAAAAB5vQAAQVIAAAS5WFlaIAAAAAAAAFb4AACsLwAAHQNYWVogAAAAAAAAJiIAABJ/AACxcP/AABEIAWgD6AMBIgACEQEDEQH/xAAfAAABBQEBAQEBAQAAAAAAAAAAAQIDBAUGBwgJCgv/xAC1EAACAQMDAgQDBQUEBAAAAX0BAgMABBEFEiExQQYTUWEHInEUMoGRoQgjQrHBFVLR8CQzYnKCCQoWFxgZGiUmJygpKjQ1Njc4OTpDREVGR0hJSlNUVVZXWFlaY2RlZmdoaWpzdHV2d3h5eoOEhYaHiImKkpOUlZaXmJmaoqOkpaanqKmqsrO0tba3uLm6wsPExcbHyMnK0tPU1dbX2Nna4eLj5OXm5+jp6vHy8/T19vf4+fr/xAAfAQADAQEBAQEBAQEBAAAAAAAAAQIDBAUGBwgJCgv/xAC1EQACAQIEBAMEBwUEBAABAncAAQIDEQQFITEGEkFRB2FxEyIygQgUQpGhscEJIzNS8BVictEKFiQ04SXxFxgZGiYnKCkqNTY3ODk6Q0RFRkdISUpTVFVWV1hZWmNkZWZnaGlqc3R1dnd4eXqCg4SFhoeIiYqSk5SVlpeYmZqio6Slpqeoqaqys7S1tre4ubrCw8TFxsfIycrS09TV1tfY2dri4+Tl5ufo6ery8/T19vf4+fr/2wBDAAICAgICAgMCAgMFAwMDBQYFBQUFBggGBgYGBggKCAgICAgICgoKCgoKCgoMDAwMDAwODg4ODg8PDw8PDw8PDw//2wBDAQICAgQEBAcEBAcQCwkLEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBD/3QAEAD//2gAMAwEAAhEDEQA/AP38ooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigD/9D9/KKKKACiiuU8T+N/B/gm0W+8X61aaNbscB7uZIQT7biKAOrorlvDHjTwj40s21DwjrNprNspwZLSZJlB9ypNUtW+IvgLQdYg8P614hsLDU7kgR201xGkrE9MKTnmgDtqK/PX9k/9pP4j/GP44fFvwD4vezfSfBtyItP+zwmOTaZ5U+dtx3fKg7Cvr3xB8UvA+myahoUHiLTx4gt7aaWOza4jM29ELAGP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igAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigD/0v38ooooAKKKKACiiigAooooAKKKKACiiigDEPh/QTqbaydOtzqDgA3BiUykDp8+M8Y9a26KKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooA//T/fyiiigArxXXf2hPg14Y8ZXPgDxF4qs9P1y1jjlkt5n2lRLnaM9N3Gcdcc17VX5AftFal4T0f4r+LdWj8PwR3WnajY2CuArmW/1e1k237M4JSSBY9qqNysDyoqoq4mz9DfC/7R3wR8ZahJpHh3xbZXd9FLNEYFf94WtyQ5C45A2nBHXHFc7c/td/s32chiu/HVpA6qzkOk6kIn3m5j+6O56Cvz1/ZYkgsPil4S8R2bSXEV7Z6/pk1ubaF3CaSIpI/JMahiWaZv8AaPTNfJnjvRda1b4h6tod1BeXM8Vlqhvp7q21GOezh1CTzYHlgIBIVBtAQFCBlu1VyIXMfvd4b+Pnwi8X2Gqan4b8Rw39rotsbu7kSOUCKAAnf8yDIwD0zWnF8Y/hrLLZxwa9byrqGmy6vbSK2Y5bKD/WSK/Q7P4hnI9K/Ob9mOx8ZL8LfHU/hrV77Rhd2MOoadeS6ZdSWYgtbcq6R/b9obzyu4gcDPFeL+JdR07ULLwx4o8a+HrvxPoOqeElljt9A1GDT0tZLbA1JnhH3A5ZQQOp4o5Q5j9b9W+PHwk8O+FNE8beI/EdvpOjeIQTYT3W6MT4Xd8oxn7vPTpXKa3+1j+z54fuEttT8ZWqM1vFdAoskiiCYEpIWVSArAHBNfnb480Txr4Y+EPwc0rWrux0vUY7/XXhGsTJfQ29nLYO8EMjKSN4iICjscV4Np1xr0/grxjLoLa+bKLwlpUF22kWUdzZ71hlYrdyPzGuDnK9qOQHI/oH0zUrHWdMtNY0yUXFnfRRzwyL9145VDIw9iCDWjXz38GF8V/2d4WM2t2Unhz/AIRPSfK01Y/9NjuvKTdO755iZflAx1719CVDKCiiikAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFAH//1P38ooooAK+fdW/Zt+GvifxL4k8ReLrR9Y/4SO5sbswvLJCLeewjeON4nhdHBw5zzX0FRQB82eEP2YvAHgTx7a+OPDMl3ZxadDdJZ6d5pktoJr7aLmfdIWkaSQIudzkDHFcZqn7Ffwy8Za6/if4q6lqfjbUXV03XksVunlsMBD9ljidgBwNzke1fY1FPmYHhngb4G6Z4F0HWPB9p4g1bUfDep2ps4LC8nWVbGFkZGW3k2hwCrYG4nGBiuC8NfscfBbwpo/iDQ9FsrmG18QWH9nNmcs1tbty4gJHyl3+d2IJLda+sKKOZgfMegfsn/CfTtHstK8U20vjJ7K+k1FJtZZbhjcSRCElkCqhAjAUDbVO7/ZR8GDwZ4h8DeHtX1HQbHxTfveai1m0ayTwugT7LkoQsKrwoUAj1r6ooo5mB554c+F/gjwtq9v4h0fTVj1a30u30YXhZmmaxtceVE3O04IznGc16HRRSAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKK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RRQB/9f9/KKKKACiiigAopMilyKACiikyKAFopMiloAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKAP//Q/fyiiigAr8o/2v8A9qH4n+DPiRZ+E/AxmtLHSWW4ktPsdwlxqckPzsq3CoyfZgMFiuCcEZr9XK/NT9rD4DXWveNNLv8A4a+EJrzU9X8+41Ce1hUiaUFAnnyzTpCoUDKh4pQDyFzmqhuJkX7N37UPxL8XfEXXfB/j4NqEFzC17CU0+4tW0tjGJFikZ4wpgZQSjtznj5s18uaZ+1f+0NZ6v4s1nxAL6DQLHTppYZyWeNneK4SybItlCiV2QjcI921SM9D97/A39ma68HAeN/ifHHqfiG0hZNPtoHad7GMq+8fapNrzTSlyWY7UBwEVQBXyn8M/gT8d/A3jqf4i3Xgq91bR5LjUbmGxm1d/td0zx7bKO/t5p5oDHCPlUhmfOCemKtWJ1se0fBv9oH4k6z8K/Fk/xBnW7svDWn2NtHrHh2Ga+vpLi7tFna4MTR4JiV1L/LgEHtzXMv8AG34461qukWHw6vovEd5H4USa4nuZYNMtrmTUc/ZbrypmDrNEQd4BIPoK9I/Z5+EPxP8AhL4B8dfDDX9BtHOtWlzqdne2UpELXN7CyGxcSHcDAQEV/ulMdK+d4v2UPi5428Fyad8SvCGljVPBXhybT9LlgKGbULmXa0CmTPIt0GwMxALk4AFCsOR0HjL9ovx1p/wR+F2qQ+LbnwjdX15qmnatqDRQ6hNPPp1u7D/lmykPKOCo4HevK9Q+Pvxy1vSda1weJ/Ewl0vw1puoRnRrSzezS4nSRnkuzIm5VYqD8vavof8A4Ut8ZPiB4N8D2Phbw1pnwyi8K6hfJHb3kKyMLO5svs7zPBBIUaV5Cx4cepryKT9lbxPo/wANvG03irwr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
[id_1]:data:image/jpeg;base64,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CiiivPOoKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKAJ0J2inZNIhAUU/cKoyZ/9T9xT1NJSnqaSuM+kOX8Y+FrXxloLaBeyeXC9zZXDZQSBvsd1FchSrcEOYtp9Ac1zHh74cPoWnQeG5NWN34bWxvbObTmt41SZrydpTIXGWXZG7RBB8pBz1rsvEniHT/AArpL65qu8WcMkKSugz5azSrF5jcjCIWDOeygnHFec2Pxt8J6rruieHbGO4W48RK32KWRY/K3FZni81VkMqLKkDOjFAGUrg5OBcea2hlLkvd7nBXf7Nf2vRNH0WTxZdS/YJ2ubqaWHc93MLiCaOUhJUCukdukALCRdgyFD4auz8TfCG+1ubVZdO8QCw+36k+pw7rMTmCWeyewuFJ81A6tG25OFKN1LjipNM+MmnQeGNK1XxTbtDfX1pNcyJaKZIgIL2KwbaXKtzJOhAP8OeeOd/4e/FTw38S21D/AIR2C7SKx2ETXEPlxTxyM6rJE2TkExn5WwwBUlQGFXzTWpnGNN6I5X4d/A3Sfh34nl8R2V4L1pIWjVpo5PtCNJHBHJiTzjF5beQpCiEMOBvIUV7pRRWcpN7m8YJKyCiiipKFU7WDelfP/gD4PXng34hX3iu5njuYPKuorV1ZfNKXUkbFZVMO8bREvSYoW3OEBc4+gACxAHevGfB3xisvGPje68I2umSwQpHcvBdliySm0eJZFYbAqsVmSRVDudhBYKTirjezsZzUbq54ndfAXxdM2oxR6dZm21PUZdTnSTUPM3XMjXADKWtCVURzhdgyuUDAAs+acnwB+ItxJKsrWez7CbGAy3bTiJCLcYMZhSNkHkbggVSSx3OwAA9Ui/aJ8PRaZqN3eaZeXM2l6rPpU8dkqOFmjkn2jMrx5Pkw+YxHygsFBJBxqP8AtBeCVd41tr2RhYreoI0idnBERMOFlJWUecnyvtzyQSME/oSx+cRlpS19L/r/AF6HzP1b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zJbo1wPtUt7MipbxJEjALbmIOg3hcbycHJ377xv4s0/4xypqMNzD4PtNKvnTyfImgne3EEnnHY7Tea26SOOPaCcZAOSV2qUMepuHOnZXTstdFotN7W07WM41cM4qXK9Xbr3er12vc6+L4WRQRaNbxeIL9I/D9vLb2IVLNfJEkYhyAtuEOyLMagqQASSC2CMez+CGm2ENvBa+IdSC2t4NRjLR2Eji8VDGJi72pZnCHaCxOF46AVo6p4yluNf8EX2lXQj0rXYryVoZleKT5bNp4zIN2V28BkZCQx7EYrlvB/xQ8QaxoOjXurXFtFeXGtrp9yy2cxgkh8pnb7OUdiF3YCzyhVGCrqGxnCMcfycyl8rLvLy7p/eaylhebla/HyXn5o9R8L+DW8MXV7cjWbvUBqEjzzJPHaorTybQ0xMEETFyFC8sRjjHAx2leU+BjqM/i3xbcnU7u60qCaG0tIbqQSDzY1MlxNF8oIjLSrEvUfuzjrmvVq8PMVJVffd3ZdLdL/hsz0sJKLh7qstfzCiiiuA6QooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAsIcKKdupseNgp/FXYyZ//W/cU9TSUp6mkrjPpBRnOB1NQzXUFu0SXEqxmd/LjDMBvk2ltq56thScDnAJ7Vx3xG0jXte8G6hpHhoxi/ufJA8yRoQYxKjSqsihirmMMFJVl3Y3KVyK+ZYfgl8ZZU0Yanrkc9/psDiHUH1G5kaycWl7bIiQ+UqTNvuIpDM21htIA4XOkYprcznUadkj7Fi1GynuHtIbqN54yyvGrgupQKWBXORtDqT6bh6irnIPcGvlfwL8NfiF4I8R2niS20ixmR5dUEto2rzytBFfjTQjC4mt3aVgbOQlSF+8oBx05mX4ffHLQ7LV7u11Jjq2qahZiwS2uZri2iaVrmG9nkR1TyoRbzLIqs0h8yJMsTtp8i7ke1fWJ9n5bjrVZLS2iuZryOFEuLhUWWQKA7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
本章主要介绍如何通过knpm集成科达电子地图引擎构建项目

## 前置条件

登录knpm的官网， https://kfront-dev-dev.devdolphin.com/ty-knpm/#/start
参考官网文档，初始化knpm环境
## 初始化操作

首先，创建空的项目文件夹并进入，初始化项目
```
knpm init
```
安装`kmap-service`依赖
```
knpm install kmap-service
```

安装其他的必要的开发依赖项。
例如：
```
knpm install webpack webpack-cli --save-dev
```
## 如何使用

```
import KMap from 'kmap-service';

var config = {
      configUrl: './kmap.config.json',
      containerId: 'map',
      solution: '10003',
      zoom: 13,
      onLoadMap: () => {
        console.log('地图加载成功');
      },
    };
    let kmap = new KMap(config);
```



## 7.常量说明

本章主要介绍KMap的一系列的常量，方便开发人员进行查阅

**版本信息**

|参数名|描述|实际值
|:--|:--|:--|
|KMap.VERSION|KMap版本号|3.1.0|

**移动方向**

|参数名|描述|实际值|
|:--|:--|:--|
|KMap.MOVE_DIRECTION.LEFT|左移|'left'|
|KMap.MOVE_DIRECTION.RIGHT|右移|'right'|
|KMap.MOVE_DIRECTION.TOP|上移|'top'|
|KMap.MOVE_DIRECTION.BOTTOM|下移|'bottom'|

**鼠标类型**

|参数名|描述|实际值|
|:--|:--|:--|
|KMap.MAP_HAND.MOVE|移动模式|'move'|
|KMap.MAP_HAND.CROSSHAIR|编辑模式|'crosshair'|
|KMap.MAP_HAND.COMMON|普通模式|'common'|
|KMap.MAP_HAND.POINTER|点击模式|'pointer'|
|KMap.MAP_HAND.DEFAULT|默认模式|'default'|
|KMap.MAP_HAND.CUSTOM|自定义模式|'custom'|

**计算单位**

|参数名|描述|实际值|
|:--|:--|:--|
|KMap.MEASURE_UNITS.KILOMETERS|公里|'kilometers'|
|KMap.MEASURE_UNITS.METERS|米|'meters'|
|KMap.MEASURE_UNITS.MILES|英里|'miles'|

**工具箱选项**

|参数名|描述|实际值|
|:--|:--|:--|
|KMap.TOOLBOX.FORWARD|前进|'forward'|
|KMap.TOOLBOX.GO_BACK|后退|'goBack'|
|KMap.TOOLBOX.ZOOM_TO|缩放|'zoomTo'|
|KMap.TOOLBOX.FULL_MAP|全屏|'fullMap'|
|KMap.TOOLBOX.SCALE|显示比例尺|'scale'|
|KMap.TOOLBOX.RESET|复位|'reset'|
|KMap.TOOLBOX.EAGLE|显示鹰眼|'eagle'|

**绘制样式锚点**

|参数名|描述|实际值|
|:--|:--|:--|
|KMap.DRAW_ANCHOR.MAP|地图|'map'|
|KMap.DRAW_ANCHOR.VIEWPORT|视图|'viewport'|

**可编辑图层类型**

|参数名|描述|实际值|
|:--|:--|:--|
|KMap.GEOMETRY_TYPE.POINT|点|'point'|
|KMap.GEOMETRY_TYPE.LINE|线|'line'|
|KMap.GEOMETRY_TYPE.TRIANGLE|三角形|'triangle'|
|KMap.GEOMETRY_TYPE.RECTANGLE|矩形|'rectangle'|
|KMap.GEOMETRY_TYPE.POLYGON|多边形|'polygon'|
|KMap.GEOMETRY_TYPE.CIRCLE|圆形|'circle'|
|KMap.GEOMETRY_TYPE.SECTOR|扇形|'sector'|

**关系图线样式类型**

|参数名|描述|实际值|
|:--|:--|:--|
|KMap.LINE_TYPE.SOLID|直线|'solid'|
|KMap.LINE_TYPE.DASHED|虚线|'dashed'|

**台风轨迹状态**

|参数名|描述|实际值|
|:--|:--|:--|
|KMap.TYPHOON_STATE.PLAYING|播放|'playing'|
|KMap.TYPHOON_STATE.PAUSE|暂停|'pause'|
|KMap.TYPHOON_STATE.FINISH|结束|'finish'|

**基础数据类型**

|参数名|描述|实际值|
|:--|:--|:--|
|KMap.BASIC_DATA_TYPE.POI|POI|'POI'|
|KMap.BASIC_DATA_TYPE.ROAD|道路|'road'|
|KMap.BASIC_DATA_TYPE.CROSS|路口|'cross'|
|KMap.BASIC_DATA_TYPE.ROAD_SECTION|路段|'roadSection'|
|KMap.BASIC_DATA_TYPE.WATER_FACE|水源|'waterFace'|
|KMap.BASIC_DATA_TYPE.ADDRESS|标准地址|'standardAddress'|
|KMap.BASIC_DATA_TYPE.POI_NUM|POI（数字）|1|
|KMap.BASIC_DATA_TYPE.ROAD_NUM|道路（数字）|2|
|KMap.BASIC_DATA_TYPE.CROSS_NUM|路口（数字）|3|
|KMap.BASIC_DATA_TYPE.ROAD_SECTION_NUM|路段（数字）|4|
|KMap.BASIC_DATA_TYPE.WATER_FACE_NUM|水源（数字）|5|
|KMap.BASIC_DATA_TYPE.ADDRESS_NUM|标准地址（数字）|6|

**混合聚合图层聚合模式**

|参数名|描述|实际值|
|:--|:--|:--|
|KMap.MIXED_CLUSTER_MODE.CIRCLE|环形覆盖物聚合|'circle-spread'|
|KMap.MIXED_CLUSTER_MODE.ICON|图标聚合|'icon-cluster'|

**混合聚合图层样式主题**

|参数名|描述|实际值|
|:--|:--|:--|
|KMap.MIXED_CLUSTER_THEME.DARK_BLUE|深蓝色主题|'dark-blue'|
|KMap.MIXED_CLUSTER_THEME.DARK_BLUE_CIRCLE|环形深蓝色主题|'dark-blue-circle'|

**覆盖物锚点位置**

|参数名|描述|实际值|
|:--|:--|:--|
|KMap.ANCHOR.CENTER|中心|'center'|
|KMap.ANCHOR.TOP|顶部|'top'|
|KMap.ANCHOR.BOTTOM|底部|'bottom'|
|KMap.ANCHOR.LEFT|左侧|'left'|
|KMap.ANCHOR.RIGHT|右侧|'right'|
|KMap.ANCHOR.TOP_LEFT|左上方|'top-left'|
|KMap.ANCHOR.TOP_RIGHT|右上方|'top-right'|
|KMap.ANCHOR.BOTTOM_LEFT|左下方|'bottom-left'|
|KMap.ANCHOR.BOTTOM_RIGHT|右下方|'bottom-right'|

**行政区划等级**

|参数名|描述|实际值|
|:--|:--|:--|
|KMap.AD_LEVEL.PROVINCE|省|'province'|
|KMap.AD_LEVEL.CITY|市|'city'|
|KMap.AD_LEVEL.DISTRICT|区县|'district'|
|KMap.AD_LEVEL.TOWN|镇|'town'|
|KMap.AD_LEVEL.STREET|街道|'street'|
|KMap.AD_LEVEL.GRID|网格|'grid'|

**规划类型**

|参数名|描述|实际值|
|:--|:--|:--|
|KMap.PLAN.DISTANCE|按距离|'distance'|
|KMap.PLAN.TIME|按时间|'time'|

**时间类型**

|参数名|描述|实际值|
|:--|:--|:--|
|KMap.TIME.DAY|按天|'day'|
|KMap.TIME.HOUR|按小时|'hour'|

**三方地图类型**

|参数名|描述|实际值|
|:--|:--|:--|
|KMap.THIRD_MAP.BING|必应|'bing'|
|KMap.THIRD_MAP.MAP_ABC|mapABC|'mapABC'|
|KMap.THIRD_MAP.TENCENT|腾讯地图|'tencentMap'|
|KMap.THIRD_MAP.A_MAP|高德地图|'aMap'|

**历史轨迹播放器主题**

|参数名|描述|实际值|
|:--|:--|:--|
|KMap.HISTORY_PLAYER_THEME.LIGHT|亮色风格|'LIGHT'|
|KMap.HISTORY_PLAYER_THEME.DARK|暗色风格|'DARK'|

**历史轨迹关键节点显示方式**

|参数名|描述|实际值|
|:--|:--|:--|
|KMap.HISTORY_POINT_VISIBLE_TYPE.ALL|初始化时显示历史轨迹的所有关键节点|0|
|KMap.HISTORY_POINT_VISIBLE_TYPE.STEP|在运行过程中逐步显示关键节点|1|

**历史轨迹数据处理方式**

|参数名|描述|实际值|
|:--|:--|:--|
|KMap.HISTORY_DATA_TYPE.ORIGIN|原始轨迹|0|
|KMap.HISTORY_DATA_TYPE.OPTIMIZE|优化后轨迹|1|


**轨迹视角类型**

|参数名|描述|实际值|
|:--|:--|:--|
|KMap.PERSPECTIVE_TYPE.NONE_PERSPECTIVE|不作任何处理|'NONE_PERSPECTIVE'|
|KMap.PERSPECTIVE_TYPE.FOLLOWING_PERSPECTIVE|地图中心点跟随指定的设备|'FOLLOWING_PERSPECTIVE'|
|KMap.PERSPECTIVE_TYPE.FULL_TRACK_PERSPECTIVE|地图显示全部历史轨迹|'FULL_TRACK_PERSPECTIVE'|

**运行结束模式**

|参数名|描述|实际值|
|:--|:--|:--|
|KMap.ANIMATION_FILL_MODE.FORWARDS|保留在终点位置|'FORWARDS'|
|KMap.ANIMATION_FILL_MODE.BACKWARDS|回到起点位置|'BACKWARDS'|

**运动对象方向模式**

|参数名|描述|实际值|
|:--|:--|:--|
|KMap.DIRECTION_MODE.NONE|不改变方向|'NONE'|
|KMap.DIRECTION_MODE.AUTO|自动指向运行方向|'AUTO'|
|KMap.DIRECTION_MODE.DESTINATION|始终指向固定目标|'DESTINATION'|

**轨迹线纹理样式**

|参数名|描述|实际值|
|:--|:--|:--|
|KMap.TRACK_LINE_PATTERN.BLUE|蓝色纹理|0|
|KMap.TRACK_LINE_PATTERN.RED|红色纹理|1|
|KMap.TRACK_LINE_PATTERN.YELLOW|黄色纹理|2|
|KMap.TRACK_LINE_PATTERN.GREEN|绿色纹理|3|

**载体容器的位置**

|参数名|描述|实际值|
|:--|:--|:--|
|KMap.CARRIER_SLOT_POSITION.TOP|上方|0|
|KMap.CARRIER_SLOT_POSITION.BOTTOM|下方|1|


# 基础

## 地图基础

## reset

### 描述

回到初始化地图状态

### 参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|opts|true|[ResetOptions](#resetoptions参数说明)|-|-|

#### ResetOptions参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|ended|false|[Function](#ended函数参数说明)|-|结束回调|

##### ended函数参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|res|[EndedRes](#endedres参数说明)|-|结束回调信息|

###### EndedRes参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|status|number|-|10-成功,20-失败|
|data|string|-|成功 ‘Success’|

### 示例


```javascript
kmap.reset({
   ended:()=>{}
});
```


## moveBy

### 描述

操作地图上下左右移动

### 参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|opts|true|[MoveByOptions](#movebyoptions参数说明)|-|-|

#### MoveByOptions参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|value|false|number|50|每次移动的大小，单位是像素|
|skewing|true|[MoveDirection](#movedirection参数说明)|-|移动方向|
|ended|true|[Function](#ended函数参数说明)|-|结束回调|

##### MoveDirection参数说明

|参数名称|描述|实际值|
|:--|:--|:--:|
|KMap.MOVE_DIRECTION.LEFT|左移|left|
|KMap.MOVE_DIRECTION.RIGHT|右移|right|
|KMap.MOVE_DIRECTION.TOP|上移|top|
|KMap.MOVE_DIRECTION.BOTTOM|下移|bottom|

##### ended函数参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|res|[EndedRes](#endedres参数说明)|-|-|

###### EndedRes参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|status|number|-|10-成功,20-失败|
|data|string|-|成功 ‘Success’|

### 示例


```javascript
kmap.moveBy({
   skewing:'left',
   ended:()=>{}
});
```


## flyTo

### 描述

以飞行动画的形式将地图移动到指定位置

### 参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|opts|true|[FlyToOptions](#flytooptions参数说明)|-|-|

#### FlyToOptions参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|curve|false|number|1|弧线取值,随着飞行路径出现的缩放“曲线”|
|minZoom|false|number|1|动画进行时的最小缩放级别|
|speed|false|number|1.2|动画播放速度，与 options.curve 相关的动态转换的平均速率。比如速率为 1.2 指，地图每秒以 1.2 倍于 options.curve 可见整屏的速度，随着飞行路径移动|
|zoom|false|number|'地图当前zoom'|飞行结束后地图的zoom|
|screenSpeed|false|number|1.2|动画平均速度，线性时间曲线情况下，动态转换的平均速率，按照每秒的移动的整屏数量计算。 如果指定了 options.speed 则忽略该选项。|
|point|true|[LngLat](#lnglat参数说明（类型）)|-|目标经纬度|
|ended|false|[Function](#ended函数参数说明)|-|结束回调|

##### LngLat参数说明（类型）

|参数名称|类型|说明|
|:--|:--:|:--|
|LngLat|[number, number]|经纬度坐标|

##### ended函数参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|res|[EndedRes](#endedres参数说明)|-|结束回调信息|

###### EndedRes参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|status|number|-|10-成功,20-失败|
|data|string|-|成功 ‘Success’|

### 示例


```javascript
kmap.flyTo({
   point:[124.45,23.23],
      ended:()=>{}
});
```


## panTo

### 描述

相同ZOOM下通过动画的形式平移到某个具体位置

### 参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|opts|true|[PanToOptions](#pantooptions参数说明)|-|-|

#### PanToOptions参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|point|true|[LngLat](#lnglat参数说明（类型）)|-|要平移到的经纬度|

##### LngLat参数说明（类型）

|参数名称|类型|说明|
|:--|:--:|:--|
|LngLat|[number, number]|经纬度坐标|

### 示例


```javascript
kmap.panTo({
   point: [120.59, 31.28]
});
```


## moveTolnglat

### 描述

根据坐标定位

### 参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|opts|true|[MoveTolnglatOptions](#movetolnglatoptions参数说明)|-|-|

#### MoveTolnglatOptions参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|type|true|number|-|1=通过对角坐标定位；2=通过zoom和中心点定位|
|lngLatBounds|false|Array&lt;[LngLat](#lnglat参数说明（类型）)&gt;|-|对角坐标，顺序为[sw(窗口左下), ne(窗口右上)],type为1时必填，eg: [[116.9876,40.9],[230.234,123.56]]|
|zoom|false|number|'当前缩放等级'|如果type为2起作用，如果不填默认地图当前缩放等级|
|point|false|[LngLat](#lnglat参数说明（类型）)|-|如果type为2 为必填|
|ended|false|[Function](#ended函数参数说明)|-|结束回调|

##### LngLat参数说明（类型）

|参数名称|类型|说明|
|:--|:--:|:--|
|LngLat|[number, number]|经纬度坐标|

##### ended函数参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|res|[EndedRes](#endedres参数说明)|-|结束回调信息|

###### EndedRes参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|status|number|-|10-成功,20-失败|
|data|string|-|成功 ‘Success’|

### 示例


```javascript
kmap.moveTolnglat({
   type:1,
   lngLatBounds: [[120.54095204744613, 31.281417311108214], [120.59270795260181, 31.30826077764496]]
});
kmap.moveTolnglat({
   type:2,
   zoom:13,
   point:[120.58,31.29]
});
```


## zoomIn

### 描述

地图放大1个等级

### 参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|opts|true|[ZoomInOptions](#zoominoptions参数说明)|-|-|

#### ZoomInOptions参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|ended|false|[Function](#ended函数参数说明)|-|结束回调|

##### ended函数参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|res|[EndedRes](#endedres参数说明)|-|结束回调信息|

###### EndedRes参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|status|number|-|10-成功,20-失败|
|data|string|-|成功 ‘Success’|

### 示例


```javascript
kmap.zoomIn(
   ended:()=>{
   }
);
```


## zoomOut

### 描述

地图缩小1个等级

### 参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|opts|true|[ZoomOutOptions](#zoomoutoptions参数说明)|-|-|

#### ZoomOutOptions参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|ended|false|[Function](#ended函数参数说明)|-|结束回调|

##### ended函数参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|res|[EndedRes](#endedres参数说明)|-|结束回调信息|

###### EndedRes参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|status|number|-|10-成功,20-失败|
|data|string|-|成功 ‘Success’|

### 示例


```javascript
kmap.zoomOut(
   ended:()=>{
   }
);
```


## forward

### 描述

地图前进，使用此功能地图初始化后先调用kmap.history()历史记录器，只记录当前位置和层级变化。

### 参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|opts|true|[ForwardOptions](#forwardoptions参数说明)|-|-|

#### ForwardOptions参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|ended|false|[Function](#ended函数参数说明)|-|结束回调|

##### ended函数参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|res|[EndedRes](#endedres参数说明)|-|结束回调信息|

###### EndedRes参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|status|number|-|10-成功,20-失败|
|data|string|-|成功 ‘Success’|

### 示例


```javascript
kmap.forward(
   ended:()=>{
   }
);
```


## goBack

### 描述

地图后退，使用此功能地图初始化后先调用kmap.history()历史记录器，只记录当前位置和层级变化。

### 参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|opts|true|[GoBackOptions](#gobackoptions参数说明)|-|-|

#### GoBackOptions参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|ended|false|[Function](#ended函数参数说明)|-|结束回调|

##### ended函数参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|res|[EndedRes](#endedres参数说明)|-|结束回调信息|

###### EndedRes参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|status|number|-|10-成功,20-失败|
|data|string|-|成功 ‘Success’|

### 示例


```javascript
kmap.goBack({
   ended:()=>{
   }
});
```


## fullScreen

### 描述

地图 进入/退出 全屏模式

### 参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|opts|true|[FullScreenOptions](#fullscreenoptions参数说明)|-|-|

#### FullScreenOptions参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|flag|true|boolean|-|true: 进入; false: 退出|
|ended|false|[Function](#ended函数参数说明)|-|结束回调|

##### ended函数参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|res|[EndedRes](#endedres参数说明)|-|结束回调信息|

###### EndedRes参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|status|number|-|10-成功,20-失败|
|data|string|-|成功 ‘Success’|

### 示例


```javascript
kmap.fullScreen({
   flag: true,
   ended:()=>{
   }
});
```


## screenshot

### 描述

截取地图，返回截图的 base64编码字符串，只能截取全屏地图。注意：对于重复截图操作，需要在截图操作完成，callback 返回完成之后进行下次截图

### 参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|opts|true|[ScreenShotOptions](#screenshotoptions参数说明)|-|-|

#### ScreenShotOptions参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|callback|true|[Function](#callback函数参数说明)|-|回调方法|

##### callback函数参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|res|[CallbackRes](#callbackres参数说明)|-|回调信息|

###### CallbackRes参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|status|number|-|10-成功,20-失败|
|data|string|-|返回截图的base64编码字符串|

### 示例


```javascript
kmap.screenshot({
   callback: function (res) {
       console.log(res.status); // 10 或者 20
       console.log(res.data); // 返回64位编码图片
   }
});
```


## customScreenshot

### 描述

自定义截图范围

### 参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|opts|true|[CustomScreenShotOptions](#customscreenshotoptions参数说明)|-|-|

#### CustomScreenShotOptions参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|sePoint|true|[LngLat](#lnglat参数说明（类型）)|-|东南角点位(右下角)|
|nwPoint|true|[LngLat](#lnglat参数说明（类型）)|-|西北角点位(左上角)|
|callback|true|[Function](#callback函数参数说明)|-|回调方法|

##### LngLat参数说明（类型）

|参数名称|类型|说明|
|:--|:--:|:--|
|LngLat|[number, number]|经纬度坐标|

##### callback函数参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|res|[CallbackRes](#callbackres参数说明)|-|回调信息|

###### CallbackRes参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|status|number|-|10-成功,20-失败|
|data|string|-|返回截图的base64编码字符串|

### 示例


```javascript
kmap.customScreenshot({
   sePoint:{
       lng:121.103435,lat:31.3267
   },
   nwPoint:{
       lng:121.103435,lat:31.3267
   },
   callback: function (res) {
       console.log(res.status); // 10 或者 20
       console.log(res.data); // 返回64位编码图片
   }
});
```


## mapFull

### 描述

缩放至最小配置层级

### 示例


```javascript
kmap.mapFull();
```


## getCenter

### 描述

获取地图中心点

### 参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|opts|true|[GetCenterOptions](#getcenteroptions参数说明)|-|-|

#### GetCenterOptions参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|callback|true|[Function](#callback函数参数说明)|-|回调方法|

##### callback函数参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|res|[CallbackRes](#callbackres参数说明)|-|回调信息|

###### CallbackRes参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|status|number|-|10-成功,20-失败|
|data|[LngLat](#lnglat参数说明（类型）)|-|地图当前中心点经纬度坐标|

###### LngLat参数说明（类型）

|参数名称|类型|说明|
|:--|:--:|:--|
|LngLat|[number, number]|经纬度坐标|

### 示例


```javascript
kmap.getCenter({
   callback: function (res) {
       console.log(res);
   }
});
```


## getZoom

### 描述

获取地图zoom缩放等级

### 参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|opts|true|[GetZoomOptions](#getzoomoptions参数说明)|-|-|

#### GetZoomOptions参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|callback|true|[Function](#callback函数参数说明)|-|回调方法|

##### callback函数参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|res|[CallbackRes](#callbackres参数说明)|-|回调信息|

###### CallbackRes参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|status|number|-|10-成功,20-失败|
|data|number|-|地图当前zoom缩放等级|

### 示例


```javascript
kmap.getZoom({
   callback: function (res) {
       console.log(res);
   }
});
```


## getBounds

### 描述

获取地图的对角线坐标

### 参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|opts|true|[GetBoundsOptions](#getboundsoptions参数说明)|-|-|

#### GetBoundsOptions参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|callback|true|[Function](#callback函数参数说明)|-|回调方法|

##### callback函数参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|res|[CallbackRes](#callbackres参数说明)|-|回调信息|

###### CallbackRes参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|status|number|-|10-成功,20-失败|
|data|[LngLat, LngLat]|-|返回地图对角线坐标, 顺序为[sw(窗口左下), ne(窗口右上)], eg: [[120, 30], [150, 60]]|

### 示例


```javascript
kmap.getBounds({
   callback: function (res) {
       console.log(res);
   }
});
```


## getBearing

### 描述

获取地图旋转角度

### 参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|opts|true|[GetBearingOptions](#getbearingoptions参数说明)|-|-|

#### GetBearingOptions参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|callback|true|[Function](#callback函数参数说明)|-|回调方法|

##### callback函数参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|res|[CallbackRes](#callbackres参数说明)|-|回调信息|

###### CallbackRes参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|status|number|-|10-成功,20-失败|
|data|number|-|地图旋转角度|

### 示例


```javascript
kmap.getBearing({
   callback: function (res) {
       console.log(res);
   }
});
```


## getPitch

### 描述

获取地图倾角

### 参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|opts|true|[GetPitchOptions](#getpitchoptions参数说明)|-|-|

#### GetPitchOptions参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|callback|true|[Function](#callback函数参数说明)|-|回调方法|

##### callback函数参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|res|[CallbackRes](#callbackres参数说明)|-|回调信息|

###### CallbackRes参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|status|number|-|10-成功,20-失败|
|data|number|-|地图倾角|

### 示例


```javascript
kmap.getPitch({
   callback: function (res) {
       console.log(res);
   }
});
```


## setBearing

### 描述

设置地图旋转角度

### 参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|opts|true|[SetBearingOptions](#setbearingoptions参数说明)|-|-|

#### SetBearingOptions参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|degree|true|number|-|地图旋转角度，是指南针方向的指向，例如地图方位角为 90° 对应正东指向。范围是从 0 ~ 360 度|

### 示例


```javascript
kmap.setBearing({
   degree: 30
});
```


## setMapOperationProperty

### 描述

设置地图操作属性

### 参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|opts|true|[SetMapOperationPropertyOptions](#setmapoperationpropertyoptions参数说明)|-|-|

#### SetMapOperationPropertyOptions参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|boxZoom|false|boolean|true|是否允许用户通过缩放框交互,通过按着左键+shift键的方式，使地图缩放到边界框中|
|doubleClickZoom|false|boolean|true|是否允许用户通过双击的方式进行放大地图|
|dragPan|false|boolean|true|是否允许用户点击并拖动地图|
|dragRotate|false|boolean|true|是否允许用户按鼠标右键旋转地图，或同时按ctrl+鼠标左键进行旋转地图|
|keyboard|false|boolean|true|是否允许用户通过快捷键进行地图缩放、地图旋转、地图拖动的功能|
|scrollZoom|false|boolean|true|是否允许用户通过滚轮滚动缩放地图|
|touchZoomRotate|false|boolean|true|是否允许用户进行触摸缩放、旋转交互操作|


关于使用键盘的快捷键对地图进行缩放、旋转以及平移的说明：

= / +：缩放级别增加 1 级

Shift-= / Shift-+：缩放级别增加 2 级

-：缩放级别减小 1 级。

Shift--：缩放级别减小 2 级

Arrow keys：平移 100 像素

Shift+⇢：增加 15 度旋转

Shift+⇠：减少 15 度旋转

Shift+⇡：增加 10 度倾斜角

Shift+⇣：减少 10 度倾斜角

### 示例


```javascript
kmap.setMapOperationProperty({
   doubleClickZoom: false
});
```


## setMapStyle

### 描述

设置地图样式，注意：矢量地图支持旋转和倾斜，其他栅格地图，影像图，三方地图不支持旋转和倾斜，同时**不支持不同投影规则的地图服务的切换**。

### 参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|opts|true|[SetMapStyleOptions](#setmapstyleoptions参数说明)|-|-|

#### SetMapStyleOptions参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|solution|true|string|-|地图样式编号，可在时空GIS云平台查看, 对于四维图新的矢量地图服务的接入，传入 'minemap' 字符串|
|tileType|false|[TileType](#tiletype参数说明)|-|在矢量栅格一体化的 solution 下，可以通过该参数来强制指定瓦片类型，可选值查看下方的瓦片类型常量|
|ended|false|[Function](#ended函数参数说明)|-|结束回调|

##### TileType参数说明

|参数名称|描述|实际值|
|:--|:--|:--:|
|KMap.TILE_TYPE.VECTOR|矢量|vector|
|KMap.TILE_TYPE.RASTER|栅格|raster|

##### ended函数参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|res|[EndedRes](#endedres参数说明)|-|结束回调信息|

###### EndedRes参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|status|number|-|10-成功,20-失败|
|data|string|-|成功 ‘Success’|

### 示例


```javascript
kmap.setMapStyle({
   solution: '1234'
});
```


## destroy

### 描述

销毁地图

### 参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|opts|true|[DestroyOptions](#destroyoptions参数说明)|-|-|

#### DestroyOptions参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|ended|false|[Function](#ended函数参数说明)|-|结束回调|

##### ended函数参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|res|[EndedRes](#endedres参数说明)|-|结束回调信息|

###### EndedRes参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|status|number|-|10-成功,20-失败|
|data|string|-|成功 ‘Success’|

### 示例


```javascript
kmap.destroy({
   ended: function (res) {
       if (res.status === 10) {
           console.log(res.data);
       }
   }
});
```


## setMaxBounds

### 描述

限制地图显示范围

### 参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|opts|true|[SetMaxBoundsOptions](#setmaxboundsoptions参数说明)|-|-|

#### SetMaxBoundsOptions参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|bounds|true|[LngLat, LngLat]|-|对角坐标，顺序为[sw(窗口左下), ne(窗口右上)]|
|ended|false|[Function](#ended函数参数说明)|-|结束回调|

##### ended函数参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|res|[EndedRes](#endedres参数说明)|-|结束回调信息|

###### EndedRes参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|status|number|-|10-成功,20-失败|
|data|string|-|成功 ‘Success’|

### 示例


```javascript
kmap.setMaxBounds({
   bounds: [
       [117.654009, 29.946409],
       [123.333192, 32.538396]
   ]
});
```


## setMapHand

### 描述

设置地图鼠标样式

### 参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|opts|true|[SetMapHandOptions](#setmaphandoptions参数说明)|-|-|

#### SetMapHandOptions参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|type|true|[MapHand](#maphand参数说明)|-|鼠标类型|
|url|false|string|-|选择custom(自定义模式)的必传参数，传入图片资源的地址，作为鼠标手势|
|ended|false|[Function](#ended函数参数说明)|-|结束回调|

##### MapHand参数说明

|参数名称|描述|实际值|
|:--|:--|:--:|
|KMap.MAP_HAND.MOVE|移动模式|move|
|KMap.MAP_HAND.CROSSHAIR|编辑模式|crosshair|
|KMap.MAP_HAND.COMMON|普通模式|common|
|KMap.MAP_HAND.POINTER|点击模式|pointer|
|KMap.MAP_HAND.DEFAULT|默认模式|default|
|KMap.MAP_HAND.CUSTOM|自定义模式|custom|

##### ended函数参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|res|[EndedRes](#endedres参数说明)|-|结束回调信息|

###### EndedRes参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|status|number|-|10-成功,20-失败|
|data|string|-|成功 ‘Success’|

### 示例


```javascript
kmap.setMapHand({
   type: 'move'
});
kmap.setMapHand({
   type: 'custom',
   url: '/kedamap/kmap/mouse1.svg'
});
```


## resize

### 描述

地图刷新重绘

### 参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|opts|true|[ResizeOptions](#resizeoptions参数说明)|-|-|

#### ResizeOptions参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|ended|false|[Function](#ended函数参数说明)|-|结束回调|

##### ended函数参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|res|[EndedRes](#endedres参数说明)|-|结束回调信息|

###### EndedRes参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|status|number|-|10-成功,20-失败|

### 示例


```javascript
kmap.resize();
```


## flyToMulti

### 描述

以飞行动画的形式将地图依次移动到多个指定位置

### 参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|opts|true|[FlyToMultiOptions](#flytomultioptions参数说明)|-|-|

#### FlyToMultiOptions参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|curve|false|number|1|弧线取值|
|minZoom|false|number|1|动画进行时的最小缩放级别|
|speed|false|number|1.2|动画播放速度|
|screenSpeed|false|number|1.2|动画平均速度，如果option.speed被设置了，该项会被忽略|
|points|true|Array&lt;[LngLat](#lnglat参数说明（类型）)&gt;|-|多个点|
|ended|true|[Function](#ended函数参数说明)|-|结束回调|

##### LngLat参数说明（类型）

|参数名称|类型|说明|
|:--|:--:|:--|
|LngLat|[number, number]|经纬度坐标|

##### ended函数参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|res|[EndedRes](#endedres参数说明)|-|-|

###### EndedRes参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|status|number|-|10-成功,20-失败|
|data|string|-|成功 ‘Success’|

### 示例


```javascript
var points = [
   {
       center: [120.59373520969734, 31.27269493207099],
       zoom: 9,
       pitch: 0,
       stay: 2000
   },
   {
       center: [120.65315745872203, 31.281816710162687],
       zoom: 13,
       pitch: 50,
       stay: 5000
   },
   {
       center: [120.62142713152184, 31.296834573396524],
       zoom: 16,
       pitch: 0,
       stay: 2000
   },
];
kmap.flyToMulti({
   curve:  1,
   minZoom: 10,
   screenSpeed: 1.2,
   points: points,
   ended: null
});
```


## panToMulti

### 描述

以平移的形式将地图依次移动到多个指定位置

### 参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|opts|true|[PanToMultiOptions](#pantomultioptions参数说明)|-|-|

#### PanToMultiOptions参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|speed|false|number|1|平移速度，默认1公里/s|
|points|true|Array&lt;[pointsObject](#pointsobject参数说明)&gt;|-|多个点|
|ended|false|[Function](#ended函数参数说明)|-|结束回调|

##### pointsObject参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|center|true|[LngLat](#lnglat参数说明（类型）)|-|中心点|
|zoom|false|number|-|层级，不填则缩放层级保持不变|
|pitch|false|number|-|地图倾斜角度，不填则倾角保持不变|
|bearing|false|number|-|地图旋转角度，不填则旋转角度保持不变|
|duration|false|number|-|单次平移所花费的时间，单位毫秒，优先级比speed高|

###### LngLat参数说明（类型）

|参数名称|类型|说明|
|:--|:--:|:--|
|LngLat|[number, number]|经纬度坐标|

##### ended函数参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|res|[EndedRes](#endedres参数说明)|-|结束回调信息|

###### EndedRes参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|status|number|-|10-成功,20-失败|
|data|string|-|成功 ‘Success’|

### 示例


```javascript
var points = [
{
   center: [120.64014630009751,31.26333625244446],
   pitch: 30,
   zoom:16,
   duration: 6000
},
{
   center: [120.6390858368967,31.270209534505184],
   pitch: 30
},
{
   center: [120.6390858368967,31.270209534505184],
   pitch: 30,
   duration:2000,
   bearing:90
},
{
   center: [120.64340272859681,31.27052470378922],
   zoom:16,
   pitch: 30,
},
];
kmap.panToMulti({
   points: points,
   speed:0.5,//匀速速度公里/s(比duration优先级高)
   ended: null
});
```


## isStyleLoaded

### 描述

判断地图是否加载完成

### 返回值

|类型|说明|
|:--|:--:|
|boolean|是否加载完成|

### 示例


```javascript
const t = setInterval(function() {
   if (kmap) {
       if (kmap.isStyleLoaded()) {
           //加载成功后业务处理
           clearInterval(t);
           alert("加载完成");
           //console.log("加载完成");
       }
   } else {
       clearInterval(t);
   }
}, 10);
```


## zoomTo

### 描述

地图缩放到指定级别

### 参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|opts|true|[ZoomToOptions](#zoomtooptions参数说明)|-|-|

#### ZoomToOptions参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|zoom|true|number|-|缩放级别|
|ended|false|[Function](#ended函数参数说明)|-|结束回调|

##### ended函数参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|res|[EndedRes](#endedres参数说明)|-|结束回调信息|

###### EndedRes参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|status|number|-|10-成功,20-失败|
|data|string|-|成功 ‘Success’|

### 示例


```javascript
kmap.zoomTo({
 zoom:11
});
```


## setPitch

### 描述

设置地图倾斜角度

### 参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|opts|true|[SetPitchOptions](#setpitchoptions参数说明)|-|-|

#### SetPitchOptions参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|degree|true|number|-|地图倾斜角度，按照偏离屏幕水平面的度数计算 0 ~ 60 度|

### 示例


```javascript
kmap.setPitch({
   degree: 30
});
```


## addAirpatrol

### 描述

添加高空巡逻

### 参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|opts|true|[AddAirpatrolOptions](#addairpatroloptions参数说明)|-|-|

#### AddAirpatrolOptions参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|zoom|false|number|12|展示层级|
|center|true|[LngLat](#lnglat参数说明（类型）)|-|巡逻中心点|
|pitch|false|number|-|地图倾斜角度（deg）|
|speed|true|number|-|巡逻角速度（deg/sec）|
|maxDegree|false|number|-|最大巡逻角度|
|ended|false|[Function](#function参数说明)|-|结束回调|

##### LngLat参数说明（类型）

|参数名称|类型|说明|
|:--|:--:|:--|
|LngLat|[number, number]|经纬度坐标|

#### AddAirpatrolReturn参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|remove|true|[Function](#remove函数参数说明)|-|退出巡逻|
|pause|true|[Function](#pause函数参数说明)|-|暂停巡逻|
|continue|true|[Function](#continue函数参数说明)|-|继续巡逻|

### 示例


```javascript
let patrol = kmap.addAirpatrol({
   zoom: 11,
   center: [120.56615450896817,31.317741557535214],
   pitch: 45,
   speed: 10,
   ended: function() {
   }
});
patrol.pause();
patrol.continue();
patrol.remove();
```


## getSpriteLayout

### 描述

获取添加到地图上的雪碧图图标大小

### 参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|opts|true|[GetSpriteLayoutOptions](#getspritelayoutoptions参数说明)|-|-|

#### GetSpriteLayoutOptions参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|id|true|string|-|雪碧图图标id|
|callback|true|[Function](#callback函数参数说明)|-|回调方法|

##### callback函数参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|res|[CallbackRes](#callbackres参数说明)|-|回调信息|

###### CallbackRes参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|status|number|-|10-成功,20-失败|
|data|[dataObject](#dataobject参数说明)|-|雪碧图图标大小|

###### dataObject参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|width|number|-|-|
|height|number|-|-|

### 示例


```javascript
kmap.getSpriteLayout({
   id: 'Entrance',
   callback: function (res) {
       console.log(res, 'res');
   }
})
```


## flyToFeature

### 描述

定位至指定多边形

### 参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|opts|true|[FlyToFeatureOptions](#flytofeatureoptions参数说明)|-|-|

#### FlyToFeatureOptions参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|data|true|[PolygonFeatureType](#polygonfeaturetype参数说明)|-|多边形几何数据|
|padding|false|[paddingObject](#paddingobject参数说明)|-|以给定边界添加的以像素为单位的填充量|
|ended|true|[Function](#ended函数参数说明)|-|结束回调|

##### PolygonFeatureType参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|type|true|固定值(string)-Feature|-|要素类型|
|properties|true|Object|-|要素自定义属性|
|geometry|true|[PolygonGeometry](#polygongeometry参数说明)|-|要素空间信息|

###### PolygonGeometry参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|type|true|固定值(string)-Polygon|-|要素图形类型|
|coordinates|true|[PolygonCoordinates](#polygoncoordinates参数说明（类型）)|-|要素空间信息|

###### PolygonCoordinates参数说明（类型）

|参数名称|类型|说明|
|:--|:--:|:--|
|PolygonCoordinates|Array&lt;Array&lt;[LngLat](#lnglat参数说明（类型）)&gt;&gt;|面数据坐标类型|

##### paddingObject参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|top|false|number|-|上填充值|
|bottom|false|number|-|下填充值|
|left|false|number|-|左填充值|
|right|false|number|-|右填充值|

##### ended函数参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|res|[EndedRes](#endedres参数说明)|-|-|

###### EndedRes参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|status|number|-|10-成功,20-失败|
|data|string|-|成功 ‘Success’|

### 示例


```javascript
let fitBounds = {
   "type": "Feature",
   "properties": {},
   "geometry": {
       "type": "Polygon",
       "coordinates": [
           [
               [120.68779209545909, 31.330804762418197]
               , [120.61809757641635, 31.331977791990198]
               , [120.64625004223547, 31.292086586765365]
               , [120.743067058838, 31.318780366443818]
               , [120.73963383129876, 31.344440328236843]
               , [120.68779209545909, 31.330804762418197]
           ]
       ]
   }
}
kmap.flyToFeature({
   data:fitBounds,
   padding:{ top: 10, bottom: 25, left: 15, right: 5 }
})
```


## setImageLayer

### 描述

设置是否加载影像图。【注：兼容2.x的调用方式保留，后续不再维护】

### 参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|opts|true|[SetImageLayerOptions](#setimagelayeroptions参数说明)|-|-|

#### SetImageLayerOptions参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|display|true|boolean|-|显示与影藏设置,显示影像图:true,影藏影像图:false|
|ended|false|[Function](#ended函数参数说明)|-|结束回调|

##### ended函数参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|res|[EndedRes](#endedres参数说明)|-|结束回调信息|

###### EndedRes参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|status|number|-|10-成功,20-失败|
|data|string|-|成功 ‘Success’|

### 示例


```javascript
kmap.setImageLayer({
   display: true
});
```


## setMapService

### 描述

推荐使用 setMapStyle 切换不同样式

### 参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|opts|true|[SetMapServiceOptions](#setmapserviceoptions参数说明)|-|-|

#### SetMapServiceOptions参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|serviceId|true|string|-|地图样式编号，可在时空GIS云平台查看|
|ended|false|[Function](#ended函数参数说明)|-|结束回调|

##### ended函数参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|res|[EndedRes](#endedres参数说明)|-|结束回调信息|

###### EndedRes参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|status|number|-|10-成功,20-失败|
|data|string|-|成功 ‘Success’|

### 示例


```javascript
kmap.setMapService({
   serviceId: 'scene_one'
});
```


## print

### 描述

科达地图打印，支持矢量地图和影像图打印

### 参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|opts|true|[PrintOptions](#printoptions参数说明)|-|-|

#### PrintOptions参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|center|true|[LngLat](#lnglat参数说明（类型）)|-|打印中心点|
|zoom|true|number|-|地图层级|
|size|false|[PrintSize](#printsize参数说明)|'A4'|打印尺寸（A1-A4）|
|direction|false|number|0|打印方向（0-纵向，1-横向）|
|dpi|false|number|96|打印纸张分辨率，最大支持 300 DPI|
|resolution|false|[resolutionObject](#resolutionobject参数说明)|96|自定义打印图片的分辨率，启用该参数后，size, direction, dpi 参数将失效|
|pictureQuality|false|number|-|参数pictureQuality（图片质量）的值受到参数size（打印纸张尺寸）和dpi（打印纸张分辨率）的参数影响。|
|exportFormat|false|number|0|导出格式：0： 图片，1： PDF 文件|
|ignoreBusinessLayerIds|false|Array&lt;string&gt;|-|不参与打印的业务图层 id 集合|
|legend|false|[legendObject](#legendobject参数说明)|-|图例|
|titleText|false|[PrintText](#printtext参数说明)|-|标题|
|bottomText|false|[PrintText](#printtext参数说明)|-|页脚|
|margin|false|[PrintSpace](#printspace参数说明)|-|外边距|
|padding|false|[PrintSpace](#printspace参数说明)|-|内边距|
|border|false|[PrintBorder](#printborder参数说明)|-|边框|
|download|false|boolean|true|是否自动下载|
|onprogress|false|[Function](#onprogress函数参数说明)|-|打印的进度，返回进度信息 0% -100%|
|onerror|false|[Function](#onerror函数参数说明)|-|打印过程中的异常回调|
|ended|false|[Function](#ended函数参数说明)|-|结束回调|

##### LngLat参数说明（类型）

|参数名称|类型|说明|
|:--|:--:|:--|
|LngLat|[number, number]|经纬度坐标|

##### PrintSize参数说明

|描述|实际值|
|:--|:--:|
|打印尺寸 A1|A1|
|打印尺寸 A2|A2|
|打印尺寸 A3|A3|
|打印尺寸 A4|A4|

##### resolutionObject参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|width|true|number|-|宽度|
|height|true|number|-|高度|

##### legendObject参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|width|false|number|-|图例宽度|
|height|false|number|-|图例高度|
|position|false|string|'bottom-left'|图例位置，可选值 'top-left', 'top-right', 'bottom-left', 'bottom-right'|
|baseLayerGroups|false|Array&lt;string&gt;|-|底图的图层组，用于指定显示那些图层组的图例，只在矢量地图下有效|
|userLegends|false|Array&lt;[userLegendsObject](#userlegendsobject参数说明)&gt;|-|业务相关的图例|
|verticalDistance|false|number|0|图例距离边框的竖向距离|
|transverseDistance|false|number|0|图例距离边框的横向距离|

###### userLegendsObject参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|type|true|number|-|图例类型，基础图层：0， 业务图层：1， 覆盖物：2|
|iconName|false|string|-|图标，type 为 0 或 1 的时候，可传该参数|
|imageUrl|false|string|-|图片地址，type 为 2 的时候，可传该参数|
|markerId|false|string|-|Marker 的 id，type 为 2 的时候，可传该参数，imageUrl 有值，该参数无效|
|markerType|false|string|-|Marker 的分组，type 为 2 的时候，可传该参数，imageUrl 有值，该参数无效|
|seq|false|number|-|图例的排序，从 0 开始|

##### PrintText参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|content|true|string|''|标题内容|
|color|false|[String](#string参数说明)|'#000'|标题颜色|
|fontSize|false|number|-|字体大小，标题默认 24，页脚默认是 14|

##### PrintSpace参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|width|true|number|0|边距宽度|
|color|false|[String](#string参数说明)|'#FFF'|边距底色|

##### PrintBorder参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|width|true|number|0|边距宽度|
|color|false|[String](#string参数说明)|'#FFF'|边距底色|
|type|false|[String](#string参数说明)|'solid'|边框类型|

##### onprogress函数参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|res|string|-|-|

##### onerror函数参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|res|[Error](#error参数说明)|-|-|

##### ended函数参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|res|[EndedRes](#endedres参数说明)|-|-|

###### EndedRes参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|status|number|-|10-成功,20-失败|
|data|string|-|图片的地址，在 download 参数为 false 时，返回打印的唯一 id|


**取消打印**

kmap.print 方法返回的对象，支持 cancel 方法，用于取消当前打印
```javascript
const print = kmap.print(options);
print.cancel();
```

参数pictureQuality（图片质量）的值受到参数size（打印纸张尺寸）和dpi（打印纸张分辨率）的参数影响。

具体影响规则如下：

当size为A4且dpi为96、120、150时,质量值有1（低）、2（中）、3（高） 4（最高）
当size为A4且dpi为300时，质量值有1（低）、2（中）、3（高）
当size为A3且dpi为96、120、150时,质量值有1（低）、2（中）、3（高） 4（最高）
当size为A3且dpi为300时，质量值有1（低）、2（低）
当size为A2且dpi为96、120时,质量值有1（低）、2（中）、3（高） 4（最高）
当size为A2且dpi为150时，质量值有1（低）、2（中）、3（高）
当size为A2且dpi为300时，不质量值有1（低）
当size为A1且dpi为96、120时,质量值有1（低）、2（中）、3（高）
当size为A1且dpi为150时，质量值有1（低）、2（中）
当size为A1且dpi为300时，质量值有1（低）

### 示例


```javascript
kmap.print({
   center: [120.54020431909476, 31.301644100331387],
   zoom: 8,
   size: "A4",
   direction: 0,
   dpi: 96,
   pictureQuality: 2,
   titleText: {
       content: '我是标题',
   },
   bottomText: {
       content: '我是页脚'
   },
   margin: {
       color: 'orange'
   },
   padding: {
       color: 'green'
   },
   border: {
       width: 1,
   },
   legend: {
       width: 400,
       position: 'bottom-left',
       verticalDistance: 10,
       transverseDistance: 10,
       userLegends: [
         {
           iconName: 'car-15',
           name: '小车',
           type: 1,
         }
       ],
   },
   onprogress: function (data) {
       console.log('打印进度：', data);
   },
   onerror: function (error) {
       console.log('打印错误：', error);
   },
   ended: function (res) {
       console.log('打印结束：', res.data);
   },
});
```


## getCoordinateType

### 描述

获取当前地图的坐标类型

### 参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|opts|true|[GetCoordinateTypeOptions](#getcoordinatetypeoptions参数说明)|-|-|

#### GetCoordinateTypeOptions参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|callback|false|[Function](#callback函数参数说明)|-|回调方法|

##### callback函数参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|res|[CallbackRes](#callbackres参数说明)|-|回调信息|

###### CallbackRes参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|status|number|-|10-成功,20-失败|
|data|string|-|当前地图的坐标类型，如：'WGS84', 'GCJ02'|

### 示例


```javascript
kmap.getCoordinateType({
   callback:(res)=>{
       console.log(res.data)
   }
});
```


## getClusterConfig

### 描述

获取聚合层级配置

### 参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|opts|true|[GetClusterConfigOptions](#getclusterconfigoptions参数说明)|-|-|

#### GetClusterConfigOptions参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|serviceNames|false|Array&lt;string&gt;|-|图层名称，如果不传的话，则返回通用的聚合层级配置|
|callback|true|[Function](#callback函数参数说明)|-|回调方法|

##### callback函数参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|res|[CallbackRes](#callbackres参数说明)|-|回调信息|

###### CallbackRes参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|status|number|-|10-成功,20-失败|
|data|[ClusterConfig](#clusterconfig参数说明)\|[ClusterConfigMap](#clusterconfigmap参数说明)|-|获取聚合层级配置|

###### ClusterConfig参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|region|[ClusterConfigItem](#clusterconfigitem参数说明)|-|行政区划聚合|
|province|[ClusterConfigItem](#clusterconfigitem参数说明)|-|省级等一级行政区划|
|city|[ClusterConfigItem](#clusterconfigitem参数说明)|-|市级等二级行政区划|
|district|[ClusterConfigItem](#clusterconfigitem参数说明)|-|区/县等三级行政区划|
|town|[ClusterConfigItem](#clusterconfigitem参数说明)|-|街道/乡镇等四级行政区划|
|street|[ClusterConfigItem](#clusterconfigitem参数说明)|-|社区/村级等五级行政区划|
|grid|[ClusterConfigItem](#clusterconfigitem参数说明)|-|管理网格等六级行政区划|
|hashgrid|[ClusterConfigItem](#clusterconfigitem参数说明)|-|空间网格聚合|
|kfront|[ClusterConfigItem](#clusterconfigitem参数说明)|-|前端聚合|
|nonaggs|[ClusterConfigItem](#clusterconfigitem参数说明)|-|不聚合|

###### ClusterConfigItem参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|min|number|-|最小层级|
|max|number|-|最大层级|
|enable|number|-|0: 表示禁用，1：表示启用|

### 示例


```javascript
kmap.getClusterConfig({
   callback:(res)=>{
       console.log(res.data)
   }
});
```


## setWheelZoomRate

### 描述

设置鼠标滚轮的速率，默认的速率是  1/450

### 参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|opts|true|[SetWheelZoomRateOptions](#setwheelzoomrateoptions参数说明)|-|-|

#### SetWheelZoomRateOptions参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|wheelZoomRate|true|number|-|鼠标滚轮的速率|
|callback|false|[Function](#callback函数参数说明)|-|成功回调|

##### callback函数参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|res|[CallbackRes](#callbackres参数说明)|-|成功回调信息|

###### CallbackRes参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|status|number|-|10-成功,20-失败|
|data|string|-|成功 ‘Success’|

### 示例


```javascript
kmap.setWheelZoomRate({
   wheelZoomRate: 1/300,
})
```


## getPrintArea

### 描述

获取地图打印范围

### 参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|opts|true|[GetPrintAreaOptions](#getprintareaoptions参数说明)|-|-|

#### GetPrintAreaOptions参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|center|true|[LngLat](#lnglat参数说明（类型）)|-|打印中心点|
|zoom|true|number|-|地图层级|
|size|false|[PrintSize](#printsize参数说明)|'A4'|打印尺寸（A1-A4）|
|direction|false|number|0|打印方向（0-纵向，1-横向）|
|dpi|false|number|96|打印纸张分辨率，最大支持 300 DPI|
|ended|true|[Function](#ended函数参数说明)|-|结束回调|

##### LngLat参数说明（类型）

|参数名称|类型|说明|
|:--|:--:|:--|
|LngLat|[number, number]|经纬度坐标|

##### PrintSize参数说明

|描述|实际值|
|:--|:--:|
|打印尺寸 A1|A1|
|打印尺寸 A2|A2|
|打印尺寸 A3|A3|
|打印尺寸 A4|A4|

##### ended函数参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|res|[EndedRes](#endedres参数说明)|-|-|

###### EndedRes参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|status|number|-|10-成功,20-失败|
|data|[PolygonFeatureType](#polygonfeaturetype参数说明)|-|打印范围|

###### PolygonFeatureType参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|type|固定值(string)-Feature|-|要素类型|
|properties|Object|-|要素自定义属性|
|geometry|[PolygonGeometry](#polygongeometry参数说明)|-|要素空间信息|

###### PolygonGeometry参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|type|固定值(string)-Polygon|-|要素图形类型|
|coordinates|[PolygonCoordinates](#polygoncoordinates参数说明（类型）)|-|要素空间信息|

###### PolygonCoordinates参数说明（类型）

|参数名称|类型|说明|
|:--|:--:|:--|
|PolygonCoordinates|Array&lt;Array&lt;[LngLat](#lnglat参数说明（类型）)&gt;&gt;|面数据坐标类型|

### 示例


```javascript
kmap.getPrintArea({
   center: [120.54020431909476, 31.301644100331387],
   zoom: 12,
   size: "A4",
   direction: 0,
   dpi: 96,
   ended: function (res) {
       console.log(res.data);
   },
});
```


## addImage

### 描述

添加图标

### 参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|opts|true|any|-|-|

### 示例


```javascript
const image = new Image();
image.setAttribute('crossOrigin', 'Anonymous');
image.src = './car.png';
image.onload = function() {
 kmap.addImage({
   imageId: 'icon-car',
   image,
 });
}
```

## getPrintResolution

### 描述

获取地图打印的分辨率

### 参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|opts|true|[GetPrintResolutionOptions](#getprintresolutionoptions参数说明)|-|-|

#### GetPrintResolutionOptions参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|bounds|true|Array&lt;[LngLat](#lnglat参数说明（类型）)&gt;|-|打印范围对角坐标，顺序为[sw(窗口左下), ne(窗口右上)]|
|zoom|true|number|-|层级|
|callback|true|[Function](#callback函数参数说明)|-|回调方法|

##### LngLat参数说明（类型）

|参数名称|类型|说明|
|:--|:--:|:--|
|LngLat|[number, number]|经纬度坐标|

##### callback函数参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|res|[CallbackRes](#callbackres参数说明)|-|回调信息|

###### CallbackRes参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|status|number|-|10-成功,20-失败|
|data|[dataObject](#dataobject参数说明)|-|地图打印的分辨率|

###### dataObject参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|width|number|-|-|
|height|number|-|-|


目前支持的最大像素为3508 x 4967 = 17424236，打印的分辨率宽高的乘积不超过 17424236

以下为根据最大支持的像素范围，计算出不同层级，支持最大的地理范围平方公里

| 层级 | 支持打印最大范围(单位: 平方公里) |
|-----:|------------------------------:|
| 10 | 74338 |
| 11 | 18585 |
| 12 | 4646 |
| 13 | 1161 |
| 14 | 290 |
| 15 | 72 |
| 16 | 18 |
| 17 | 4 |
| 18 | 1 |
| 19 | 0.28 |

### 示例


```javascript
kmap.getPrintResolution({
   bounds: [
       [
           120.6828160103293,
           31.315872766859925
       ],
       [
           120.70395675783465,
           31.332874865945783
       ]
   ],
   zoom: 10,
   callback: function (res) {
       console.log(res.data);
   },
});
```


## 坐标转换

## wgs84togcj02

### 描述

坐标系 WGS-84 转化 GCJ-02

### 参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|opts|true|[Wgs84togcj02Options](#wgs84togcj02options参数说明)|-|-|

#### Wgs84togcj02Options参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|point|true|[LngLat](#lnglat参数说明（类型）)|-|要转化的点坐标|
|callback|true|[Function](#callback函数参数说明)|-|回调方法|

##### LngLat参数说明（类型）

|参数名称|类型|说明|
|:--|:--:|:--|
|LngLat|[number, number]|经纬度坐标|

##### callback函数参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|res|[CallbackRes](#callbackres参数说明)|-|回调信息|

###### CallbackRes参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|status|number|-|10-成功,20-失败|
|data|[LngLat](#lnglat参数说明（类型）)|-|转换后的坐标|

###### LngLat参数说明（类型）

|参数名称|类型|说明|
|:--|:--:|:--|
|LngLat|[number, number]|经纬度坐标|

### 示例


```javascript
kmap.wgs84togcj02({
   point: [120, 30],
   callback: function (res) {
       console.log('转化后的坐标是: ' + res.data);
   }
});
```


## gcj02towgs84

### 描述

坐标系 GCJ-02 转化 WGS-84

### 参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|opts|true|[Gcj02towgs84Options](#gcj02towgs84options参数说明)|-|-|

#### Gcj02towgs84Options参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|point|true|[LngLat](#lnglat参数说明（类型）)|-|要转化的点坐标|
|callback|true|[Function](#callback函数参数说明)|-|回调方法|

##### LngLat参数说明（类型）

|参数名称|类型|说明|
|:--|:--:|:--|
|LngLat|[number, number]|经纬度坐标|

##### callback函数参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|res|[CallbackRes](#callbackres参数说明)|-|回调信息|

###### CallbackRes参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|status|number|-|10-成功,20-失败|
|data|[LngLat](#lnglat参数说明（类型）)|-|转换后的坐标|

###### LngLat参数说明（类型）

|参数名称|类型|说明|
|:--|:--:|:--|
|LngLat|[number, number]|经纬度坐标|

### 示例


```javascript
kmap.gcj02towgs84({
   point: [120, 30],
   callback: function (res) {
       console.log('转化后的坐标是: ' + res.data);
   }
});
```


## getGeoPointByPixel

### 描述

像素坐标转换经纬度坐标

### 参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|opts|true|[GetGeoPointByPixelOptions](#getgeopointbypixeloptions参数说明)|-|-|

#### GetGeoPointByPixelOptions参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|ePoint|true|[Point](#point参数说明（类型）)|-|像素坐标|
|callback|true|[Function](#callback函数参数说明)|-|回调方法|

##### Point参数说明（类型）

|参数名称|类型|说明|
|:--|:--:|:--|
|Point|[number, number]|像素坐标|

##### callback函数参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|res|[CallbackRes](#callbackres参数说明)|-|回调信息|

###### CallbackRes参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|status|number|-|10-成功,20-失败|
|data|[LngLat](#lnglat参数说明（类型）)|-|查询到的经纬度坐标|

###### LngLat参数说明（类型）

|参数名称|类型|说明|
|:--|:--:|:--|
|LngLat|[number, number]|经纬度坐标|

### 示例


```javascript
kmap.getGeoPointByPixel({
   ePoint: [30, 50],
   callback: function (res) {
       if (res.status === 10) {
           console.log(res.data);
       }
   }
});
```


## getPixelByGeoPoint

### 描述

经纬度坐标转为像素坐标

### 参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|opts|true|[GetPixelByGeoPointOptions](#getpixelbygeopointoptions参数说明)|-|-|

#### GetPixelByGeoPointOptions参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|point|true|[LngLat](#lnglat参数说明（类型）)|-|经纬度坐标|
|callback|true|[Function](#callback函数参数说明)|-|回调方法|

##### LngLat参数说明（类型）

|参数名称|类型|说明|
|:--|:--:|:--|
|LngLat|[number, number]|经纬度坐标|

##### callback函数参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|res|[CallbackRes](#callbackres参数说明)|-|回调信息|

###### CallbackRes参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|status|number|-|10-成功,20-失败|
|data|[Point](#point参数说明（类型）)|-|查询到的像素坐标|

###### Point参数说明（类型）

|参数名称|类型|说明|
|:--|:--:|:--|
|Point|[number, number]|像素坐标|

### 示例


```javascript
kmap.getPixelByGeoPoint({
   point: [120, 30],
   callback: function (res) {
       if (res.status === 10) {
           console.log(res.data);
       }
   }
});
```


## wgs84ToMercator

### 描述

将经纬度坐标转为墨卡托投影坐标

### 参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|opts|true|[Wgs84ToMercatorOptions](#wgs84tomercatoroptions参数说明)|-|-|

#### Wgs84ToMercatorOptions参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|point|true|[LngLat](#lnglat参数说明（类型）)|-|要转化的点坐标|
|callback|true|[Function](#callback函数参数说明)|-|回调方法|

##### LngLat参数说明（类型）

|参数名称|类型|说明|
|:--|:--:|:--|
|LngLat|[number, number]|经纬度坐标|

##### callback函数参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|res|[CallbackRes](#callbackres参数说明)|-|回调信息|

###### CallbackRes参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|status|number|-|10-成功,20-失败|
|data|[LngLat](#lnglat参数说明（类型）)|-|转换后的坐标，单位为米|

###### LngLat参数说明（类型）

|参数名称|类型|说明|
|:--|:--:|:--|
|LngLat|[number, number]|经纬度坐标|

### 示例


```javascript
kmap.wgs84ToMercator({
   point: [120, 31],
   callback: function (result) {
       if (result.status === 10) {
           console.log(result.data);
       }
   }
})
```


## mercatorToWgs84

### 描述

将墨卡托投影坐标转为经纬度坐标

### 参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|opts|true|[MercatorToWgs84Options](#mercatortowgs84options参数说明)|-|-|

#### MercatorToWgs84Options参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|point|true|[number, number]|-|投影坐标点，单位为米|
|callback|true|[Function](#callback函数参数说明)|-|回调方法|

##### callback函数参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|res|[CallbackRes](#callbackres参数说明)|-|回调信息|

###### CallbackRes参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|status|number|-|10-成功,20-失败|
|data|[LngLat](#lnglat参数说明（类型）)|-|转化后的经纬度坐标|

###### LngLat参数说明（类型）

|参数名称|类型|说明|
|:--|:--:|:--|
|LngLat|[number, number]|经纬度坐标|

### 示例


```javascript
kmap.mercatorToWgs84({
   point: [13358338, 3632749],
   callback: function (result) {
       if (result.status === 10) {
           console.log(result.data);
       }
   }
})
```


## 几何计算

## measureDistance

### 描述

测量两点间直线的长度或连接在一起的多条线的总长度

### 参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|opts|true|[MeasureDistanceOptions](#measuredistanceoptions参数说明)|-|-|

#### MeasureDistanceOptions参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|units|true|[Units](#units参数说明)|KMap.MEASURE_UNITS.KILOMETERS|计算单位|
|tooltip|false|[tooltipObject](#tooltipobject参数说明)|-|提示文本选项|
|showText|false|boolean|false|是否显示测距计算结果的文本|
|textStyle|false|string|-|自定义文本样式，cssText|
|textAnchor|false|[Anchor](#anchor参数说明)|KMap.ANCHOR.CENTER|锚点位置|
|textOffset|false|[Offset](#offset参数说明（类型）)|[0, 0]|文本相对于锚点的偏移量|
|closeButton|false|[closeButtonObject](#closebuttonobject参数说明)|-|删除按钮|
|drawStyles|false|[drawStylesObject](#drawstylesobject参数说明)|-|绘制的样式|
|callback|true|[Function](#callback函数参数说明)|-|回调方法|

##### Units参数说明

|参数名称|描述|实际值|
|:--|:--|:--:|
|KMap.MEASURE_UNITS.KILOMETERS|公里|kilometers|
|KMap.MEASURE_UNITS.METERS|米|meters|
|KMap.MEASURE_UNITS.MILES|英里|miles|

##### tooltipObject参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|visibility|false|[Visibility](#visibility参数说明)|'visible'|提示文本是否可见|
|className|false|string|-|通过 className 来控制样式|
|tips|false|[tipsObject](#tipsobject参数说明)|-|提示文本内容，根据语言类型，默认值会有变化|

###### Visibility参数说明

|参数名称|描述|实际值|
|:--|:--|:--:|
|KMap.VISIBILITY.VISIBLE|可见|visible|
|KMap.VISIBILITY.NONE|不可见|none|

###### tipsObject参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|begin|false|string|'单击开始绘制'|开始绘制的提示|
|finish|false|string|'双击结束绘制'|结束绘制的提示|

##### Anchor参数说明

|参数名称|描述|实际值|
|:--|:--|:--:|
|KMap.ANCHOR.CENTER|中心|center|
|KMap.ANCHOR.TOP|顶部|top|
|KMap.ANCHOR.BOTTOM|底部|bottom|
|KMap.ANCHOR.LEFT|左侧|left|
|KMap.ANCHOR.RIGHT|右侧|right|
|KMap.ANCHOR.TOP_LEFT|左上方|top-left|
|KMap.ANCHOR.TOP_RIGHT|右上方|top-right|
|KMap.ANCHOR.BOTTOM_LEFT|左下方|bottom-left|
|KMap.ANCHOR.BOTTOM_RIGHT|右下方|bottom-right|

##### Offset参数说明（类型）

|参数名称|类型|说明|
|:--|:--:|:--|
|Offset|[number, number]|相对于锚点偏移量|

##### closeButtonObject参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|style|false|string|-|自定义文本样式，cssText|
|anchor|false|[Anchor](#anchor参数说明)|KMap.ANCHOR.BOTTOM|锚点位置|
|offset|false|[Offset](#offset参数说明（类型）)|[0, -10]|文本相对于锚点的偏移量|

##### drawStylesObject参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|line-color|false|string|'#D20C0C'|线段颜色|
|line-width|false|number|2|线宽|
|line-dashed|false|boolean|true|是否是虚线|

##### callback函数参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|res|[CallbackRes](#callbackres参数说明)|-|回调信息|

###### CallbackRes参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|status|number|-|10-成功,20-失败|
|data|[dataObject](#dataobject参数说明)|-|回调数据|

###### dataObject参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|isStart|boolean|-|是否是第一个坐标点|
|index|number|-|第几个坐标点|
|isEnd|boolean|-|是否是最后一个坐标点|
|point|[LngLat](#lnglat参数说明（类型）)|-|当前点击位置的经纬坐标|
|distance|number|-|起点到当前坐标的总距离|
|layerId|string|-|绘制完成后转换成几何图层的layerId, isEnd === true时返回|
|textType|string|-|绘制完成后返回的文本分组type, isEnd === true时返回，用于后续清除测距时，使用 removeTextsByType 批量删除文本，|

###### LngLat参数说明（类型）

|参数名称|类型|说明|
|:--|:--:|:--|
|LngLat|[number, number]|经纬度坐标|

### 示例


```javascript
kmap.measureDistance({
   units: 'kilometers',
   callback: function (res) {
       var res = res.data;
       status = res.status;
       isStart = res.isStart;
       index = res.index;
       isEnd = res.isEnd;
       point = res.point;
       distance = res.distance;
   }
});
```


## measureArea

### 描述

测量多边形面积。暂不支持测量带孔多边形或一次测量多个多边形（即测量时绘制的外边线不可相交）。

### 参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|opts|true|[MeasureAreaOptions](#measureareaoptions参数说明)|-|-|

#### MeasureAreaOptions参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|units|true|[Units](#units参数说明)|KMap.MEASURE_UNITS.KILOMETERS|计算单位|
|tooltip|false|[tooltipObject](#tooltipobject参数说明)|-|提示文本选项|
|showText|false|boolean|false|是否显示测面积计算结果的文本|
|textStyle|false|string|-|自定义文本样式，cssText|
|textAnchor|false|[Anchor](#anchor参数说明)|KMap.ANCHOR.CENTER|锚点位置|
|textOffset|false|[Offset](#offset参数说明（类型）)|[0, 0]|文本相对于锚点的偏移量|
|closeButton|false|[closeButtonObject](#closebuttonobject参数说明)|-|删除按钮|
|drawStyles|false|[drawStylesObject](#drawstylesobject参数说明)|-|绘制的样式|
|callback|true|[Function](#callback函数参数说明)|-|回调方法|

##### Units参数说明

|参数名称|描述|实际值|
|:--|:--|:--:|
|KMap.MEASURE_UNITS.KILOMETERS|公里|kilometers|
|KMap.MEASURE_UNITS.METERS|米|meters|
|KMap.MEASURE_UNITS.MILES|英里|miles|

##### tooltipObject参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|visibility|false|[Visibility](#visibility参数说明)|'visible'|提示文本是否可见|
|className|false|string|-|通过 className 来控制样式|
|tips|false|[tipsObject](#tipsobject参数说明)|-|提示文本内容，根据语言类型，默认值会有变化|

###### Visibility参数说明

|参数名称|描述|实际值|
|:--|:--|:--:|
|KMap.VISIBILITY.VISIBLE|可见|visible|
|KMap.VISIBILITY.NONE|不可见|none|

###### tipsObject参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|begin|false|string|'单击开始绘制'|开始绘制的提示|
|continue|false|string|'单击继续绘制'|继续绘制的提示|
|finish|false|string|'双击结束绘制'|结束绘制的提示|

##### Anchor参数说明

|参数名称|描述|实际值|
|:--|:--|:--:|
|KMap.ANCHOR.CENTER|中心|center|
|KMap.ANCHOR.TOP|顶部|top|
|KMap.ANCHOR.BOTTOM|底部|bottom|
|KMap.ANCHOR.LEFT|左侧|left|
|KMap.ANCHOR.RIGHT|右侧|right|
|KMap.ANCHOR.TOP_LEFT|左上方|top-left|
|KMap.ANCHOR.TOP_RIGHT|右上方|top-right|
|KMap.ANCHOR.BOTTOM_LEFT|左下方|bottom-left|
|KMap.ANCHOR.BOTTOM_RIGHT|右下方|bottom-right|

##### Offset参数说明（类型）

|参数名称|类型|说明|
|:--|:--:|:--|
|Offset|[number, number]|相对于锚点偏移量|

##### closeButtonObject参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|style|false|string|-|自定义文本样式，cssText|
|anchor|false|[Anchor](#anchor参数说明)|KMap.ANCHOR.BOTTOM|锚点位置|
|offset|false|[Offset](#offset参数说明（类型）)|[0, -10]|文本相对于锚点的偏移量|

##### drawStylesObject参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|fill-color|false|string|'#FBB03B'|面的填充色|
|line-color|false|string|'#D20C0C'|线段颜色|
|line-width|false|number|2|线宽|
|line-dashed|false|boolean|true|是否是虚线|

##### callback函数参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|res|[CallbackRes](#callbackres参数说明)|-|回调信息|

###### CallbackRes参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|status|number|-|10-成功,20-失败|
|data|[dataObject](#dataobject参数说明)|-|回调数据|

###### dataObject参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|isStart|boolean|-|是否是第一个坐标点|
|index|number|-|第几个坐标点|
|isEnd|boolean|-|是否是最后一个坐标点|
|point|[LngLat](#lnglat参数说明（类型）)|-|当前点击位置的经纬坐标|
|area|number|-|所有点坐标计算出的总面积|
|layerId|string|-|绘制完成后转换成几何图层的layerId, isEnd === true时返回|
|textType|string|-|绘制完成后返回的文本分组type, isEnd === true时返回，用于后续清除测面积时，使用 removeTextsByType 批量删除文本，|

###### LngLat参数说明（类型）

|参数名称|类型|说明|
|:--|:--:|:--|
|LngLat|[number, number]|经纬度坐标|

### 示例


```javascript
kmap.measureArea({
   units: 'kilometers',
   callback: function (res) {
       var res = res.data;
       status = res.status;
       isStart = res.isStart;
       index = res.index;
       isEnd = res.isEnd;
       point = res.point;
       area = res.area;
   }
});
```


## distancePoints

### 描述

获取点到点之间的直线距离

### 参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|opts|true|[DistancePointsOptions](#distancepointsoptions参数说明)|-|-|

#### DistancePointsOptions参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|startPoint|true|[LngLat](#lnglat参数说明（类型）)|-|起点坐标|
|endPoint|true|[LngLat](#lnglat参数说明（类型）)|-|终点坐标|
|units|true|[Units](#units参数说明)|KMap.MEASURE_UNITS.KILOMETERS|计算单位|
|callback|true|[Function](#callback函数参数说明)|-|回调方法|

##### LngLat参数说明（类型）

|参数名称|类型|说明|
|:--|:--:|:--|
|LngLat|[number, number]|经纬度坐标|

##### Units参数说明

|参数名称|描述|实际值|
|:--|:--|:--:|
|KMap.MEASURE_UNITS.KILOMETERS|公里|kilometers|
|KMap.MEASURE_UNITS.METERS|米|meters|
|KMap.MEASURE_UNITS.MILES|英里|miles|

##### callback函数参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|res|[CallbackRes](#callbackres参数说明)|-|回调信息|

###### CallbackRes参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|status|number|-|10-成功,20-失败|
|data|number|-|两点间的距离|

### 示例


```javascript
kmap.distancePoints({
   startPoint: [120, 30],
   endPoint: [121, 30],
   units: 'kilometers',
   callback: function (res) {
       if (res.status === 10) {
           console.log('两点间的距离是' + res.data + '公里');
       }
   }
});
```


## distancePointToLine

### 描述

获取点到线的直线距离

### 参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|opts|true|[DistancePointToLineOptions](#distancepointtolineoptions参数说明)|-|-|

#### DistancePointToLineOptions参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|point|true|[LngLat](#lnglat参数说明（类型）)|-|点坐标|
|line|true|Array&lt;[LngLat](#lnglat参数说明（类型）)&gt;|-|线的点坐标集合|
|units|true|[Units](#units参数说明)|KMap.MEASURE_UNITS.KILOMETERS|计算单位|
|callback|true|[Function](#callback函数参数说明)|-|回调方法|

##### LngLat参数说明（类型）

|参数名称|类型|说明|
|:--|:--:|:--|
|LngLat|[number, number]|经纬度坐标|

##### Units参数说明

|参数名称|描述|实际值|
|:--|:--|:--:|
|KMap.MEASURE_UNITS.KILOMETERS|公里|kilometers|
|KMap.MEASURE_UNITS.METERS|米|meters|
|KMap.MEASURE_UNITS.MILES|英里|miles|

##### callback函数参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|res|[CallbackRes](#callbackres参数说明)|-|回调信息|

###### CallbackRes参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|status|number|-|10-成功,20-失败|
|data|number|-|点到线的直线距离|

### 示例


```javascript
kmap.distancePointToLine({
   point: [120.352641, 30.1254132],
   line: [
       [120, 30],
       [121, 35]
   ],
   units: 'kilometers',
   callback: function (res) {
       if (res.status === 10) {
           console.log('点到线的距离是' + res.data + '公里');
       }
   }
});
```


## distancePointToPolygon

### 描述

获取点到多边形质心的距离

### 参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|opts|true|[DistancePointToPolygonOptions](#distancepointtopolygonoptions参数说明)|-|-|

#### DistancePointToPolygonOptions参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|point|true|[LngLat](#lnglat参数说明（类型）)|-|点坐标|
|polygon|true|Array&lt;[LngLat](#lnglat参数说明（类型）)&gt;|-|多边形的点坐标集合|
|units|true|[Units](#units参数说明)|KMap.MEASURE_UNITS.KILOMETERS|计算单位|
|callback|true|[Function](#callback函数参数说明)|-|回调方法|

##### LngLat参数说明（类型）

|参数名称|类型|说明|
|:--|:--:|:--|
|LngLat|[number, number]|经纬度坐标|

##### Units参数说明

|参数名称|描述|实际值|
|:--|:--|:--:|
|KMap.MEASURE_UNITS.KILOMETERS|公里|kilometers|
|KMap.MEASURE_UNITS.METERS|米|meters|
|KMap.MEASURE_UNITS.MILES|英里|miles|

##### callback函数参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|res|[CallbackRes](#callbackres参数说明)|-|回调信息|

###### CallbackRes参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|status|number|-|10-成功,20-失败|
|data|number|-|点到线的直线距离|

### 示例


```javascript
kmap.distancePointToPolygon({
   point: [120.352641, 30.1254132],
   polygon: [
       [120, 30],
       [121, 35],
       [121, 36],
       [120, 30]
   ],
   units: 'kilometers',
   callback: function (res) {
       if (res.status === 10) {
           console.log('点到多边形的距离是' + res.data + '公里');
       }
   }
});
```


## getCenterOfLine

### 描述

计算两点线段的中心点坐标

### 参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|opts|true|[GetCenterOfLineOptions](#getcenteroflineoptions参数说明)|-|-|

#### GetCenterOfLineOptions参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|line|true|Array&lt;[LngLat](#lnglat参数说明（类型）)&gt;|-|线段两点坐标集合|
|callback|true|[Function](#callback函数参数说明)|-|回调方法|

##### LngLat参数说明（类型）

|参数名称|类型|说明|
|:--|:--:|:--|
|LngLat|[number, number]|经纬度坐标|

##### callback函数参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|res|[CallbackRes](#callbackres参数说明)|-|回调信息|

###### CallbackRes参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|status|number|-|10-成功,20-失败|
|data|[LngLat](#lnglat参数说明（类型）)|-|线段中心点坐标|

###### LngLat参数说明（类型）

|参数名称|类型|说明|
|:--|:--:|:--|
|LngLat|[number, number]|经纬度坐标|

### 示例


```javascript
kmap.getCenterOfLine({
   line: [[120.58,31.28],[120.59,32.15]],
   callback: function (res) {
       if (res.status === 10) {
           alert('线段中心点是: ' + res.data);
       }
   }
});
```


## getCenterOfPolygon

### 描述

获取当前传入多边形中心点的经纬度坐标

### 参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|opts|true|[GetCenterOfPolygonOptions](#getcenterofpolygonoptions参数说明)|-|-|

#### GetCenterOfPolygonOptions参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|polygon|true|Array&lt;[LngLat](#lnglat参数说明（类型）)&gt;|-|多边形点坐标集合|
|callback|true|[Function](#callback函数参数说明)|-|回调方法|

##### LngLat参数说明（类型）

|参数名称|类型|说明|
|:--|:--:|:--|
|LngLat|[number, number]|经纬度坐标|

##### callback函数参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|res|[CallbackRes](#callbackres参数说明)|-|回调信息|

###### CallbackRes参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|status|number|-|10-成功,20-失败|
|data|[LngLat](#lnglat参数说明（类型）)|-|中心点经纬度坐标|

###### LngLat参数说明（类型）

|参数名称|类型|说明|
|:--|:--:|:--|
|LngLat|[number, number]|经纬度坐标|

### 示例


```javascript
kmap.getCenterOfPolygon({
   polygon: [
       [120.56310172948486, 31.293982802065415],
       [120.56503291996796, 31.294028641723756],
       [120.5628442374113, 31.292818467248154],
       [120.56310172948486, 31.293982802065415]],
   callback: function (res) {
       alert('中心点坐标是: ' + res.data);
   }
});
```


## getDistanceOfLine

### 描述

计算线的长度

### 参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|opts|true|[GetDistanceOfLineOptions](#getdistanceoflineoptions参数说明)|-|-|

#### GetDistanceOfLineOptions参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|polyline|true|Array&lt;[LngLat](#lnglat参数说明（类型）)&gt;|-|线的点坐标集合|
|units|true|[Units](#units参数说明)|KMap.MEASURE_UNITS.KILOMETERS|计算单位|
|callback|true|[Function](#callback函数参数说明)|-|回调方法|

##### LngLat参数说明（类型）

|参数名称|类型|说明|
|:--|:--:|:--|
|LngLat|[number, number]|经纬度坐标|

##### Units参数说明

|参数名称|描述|实际值|
|:--|:--|:--:|
|KMap.MEASURE_UNITS.KILOMETERS|公里|kilometers|
|KMap.MEASURE_UNITS.METERS|米|meters|
|KMap.MEASURE_UNITS.MILES|英里|miles|

##### callback函数参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|res|[CallbackRes](#callbackres参数说明)|-|回调信息|

###### CallbackRes参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|status|number|-|10-成功,20-失败|
|data|number|-|计算结果|

### 示例


```javascript
kmap.getDistanceOfLine({
   polyline: [[120.58,31.28],[120.59,120.56],[120.66,31.65]],
   units:'miles',
   callback:function(res){
       console.log(res.data);
   }
});
```


## getAreaOfPolygon

### 描述

计算多边形面积

### 参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|opts|true|[GetAreaOfPolygonOptions](#getareaofpolygonoptions参数说明)|-|-|

#### GetAreaOfPolygonOptions参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|polygon|true|Array&lt;[LngLat](#lnglat参数说明（类型）)&gt;|-|多边形点坐标集合|
|units|true|[Units](#units参数说明)|KMap.MEASURE_UNITS.KILOMETERS|计算单位|
|callback|true|[Function](#callback函数参数说明)|-|回调方法|

##### LngLat参数说明（类型）

|参数名称|类型|说明|
|:--|:--:|:--|
|LngLat|[number, number]|经纬度坐标|

##### Units参数说明

|参数名称|描述|实际值|
|:--|:--|:--:|
|KMap.MEASURE_UNITS.KILOMETERS|公里|kilometers|
|KMap.MEASURE_UNITS.METERS|米|meters|
|KMap.MEASURE_UNITS.MILES|英里|miles|

##### callback函数参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|res|[CallbackRes](#callbackres参数说明)|-|回调信息|

###### CallbackRes参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|status|number|-|10-成功,20-失败|
|data|number|-|多边形面积|

### 示例


```javascript
kmap.getAreaOfPolygon({
   polygon: [[120.58,31.28],[120.59,120.56],[120.66,31.65]],
   units:'miles',
   callback:function(res){
       console.log(res.data);
   }
});
```


## pointIsVisible

### 描述

点坐标是否在窗口可视范围内

### 参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|opts|true|[PointIsVisibleOptions](#pointisvisibleoptions参数说明)|-|-|

#### PointIsVisibleOptions参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|point|true|[LngLat](#lnglat参数说明（类型）)|-|点坐标|
|callback|true|[Function](#callback函数参数说明)|-|回调方法|

##### LngLat参数说明（类型）

|参数名称|类型|说明|
|:--|:--:|:--|
|LngLat|[number, number]|经纬度坐标|

##### callback函数参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|res|[CallbackRes](#callbackres参数说明)|-|回调信息|

###### CallbackRes参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|status|number|-|10-成功,20-失败|
|data|boolean|-|点坐标是否在窗口可视范围内|

### 示例


```javascript
kmap.pointIsVisible({
   point: [120, 30],
   callback: function (res) {
       if (res.data === true) {
           console.log('点坐标在窗口范围内');
       } else {
           console.log('点坐标不在窗口范围内');
       }
   }
});
```


## pointInPolygon

### 描述

判断点坐标是否在多边形范围内

### 参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|opts|true|[PointInPolygonOptions](#pointinpolygonoptions参数说明)|-|-|

#### PointInPolygonOptions参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|point|true|[LngLat](#lnglat参数说明（类型）)|-|点坐标|
|polygon|true|Array&lt;[LngLat](#lnglat参数说明（类型）)&gt;|-|组成多边形的点坐标集合|
|callback|true|[Function](#callback函数参数说明)|-|回调方法|

##### LngLat参数说明（类型）

|参数名称|类型|说明|
|:--|:--:|:--|
|LngLat|[number, number]|经纬度坐标|

##### callback函数参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|res|[CallbackRes](#callbackres参数说明)|-|回调信息|

###### CallbackRes参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|status|number|-|10-成功,20-失败|
|data|boolean|-|点坐标是否在多边形范围内|

### 示例


```javascript
kmap.pointInPolygon({
   points: [100, 100],
   polygon: [
       [90, 110],
       [110, 110],
       [110, 90],
       [90, 90]
   ],
   callback: function (res) {
       if (res.status === 10) {
           console.log('点坐标在多边形范围内');
       } else {
           console.log('点坐标不在多边形范围内');
       }
   }
});
```


## getBboxOfPolygon

### 描述

获取多边形的边界框

### 参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|opts|true|[GetBboxOfPolygonOptions](#getbboxofpolygonoptions参数说明)|-|-|

#### GetBboxOfPolygonOptions参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|polygon|true|Array&lt;[LngLat](#lnglat参数说明（类型）)&gt;|-|多边形的点坐标集合|
|callback|true|[Function](#callback函数参数说明)|-|回调方法|

##### LngLat参数说明（类型）

|参数名称|类型|说明|
|:--|:--:|:--|
|LngLat|[number, number]|经纬度坐标|

##### callback函数参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|res|[CallbackRes](#callbackres参数说明)|-|回调信息|

###### CallbackRes参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|status|number|-|10-成功,20-失败|
|data|[PolygonFeatureType](#polygonfeaturetype参数说明)|-|多边形的边界框|

###### PolygonFeatureType参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|type|固定值(string)-Feature|-|要素类型|
|properties|Object|-|要素自定义属性|
|geometry|[PolygonGeometry](#polygongeometry参数说明)|-|要素空间信息|

###### PolygonGeometry参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|type|固定值(string)-Polygon|-|要素图形类型|
|coordinates|[PolygonCoordinates](#polygoncoordinates参数说明（类型）)|-|要素空间信息|

###### PolygonCoordinates参数说明（类型）

|参数名称|类型|说明|
|:--|:--:|:--|
|PolygonCoordinates|Array&lt;Array&lt;[LngLat](#lnglat参数说明（类型）)&gt;&gt;|面数据坐标类型|

### 示例


```javascript
kmap.getBboxOfPolygon({
   polygon: [
       [120, 30],
       [121, 30],
       [121, 31],
       [120, 31],
       [120, 30]
   ],
   callback: function (res) {
       console.log(res);
   }
});
```


## getBboxOfPoints

### 描述

计算多点的最小外包矩形

### 参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|opts|true|[GetBboxOfPointsOptions](#getbboxofpointsoptions参数说明)|-|-|

#### GetBboxOfPointsOptions参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|points|true|Array&lt;[LngLat](#lnglat参数说明（类型）)&gt;|-|点坐标数组|
|callback|true|[Function](#callback函数参数说明)|-|回调方法|

##### LngLat参数说明（类型）

|参数名称|类型|说明|
|:--|:--:|:--|
|LngLat|[number, number]|经纬度坐标|

##### callback函数参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|res|[CallbackRes](#callbackres参数说明)|-|回调信息|

###### CallbackRes参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|status|number|-|10-成功,20-失败|
|data|[PolygonFeatureType](#polygonfeaturetype参数说明)|-|多点的最小外包矩形|

###### PolygonFeatureType参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|type|固定值(string)-Feature|-|要素类型|
|properties|Object|-|要素自定义属性|
|geometry|[PolygonGeometry](#polygongeometry参数说明)|-|要素空间信息|

###### PolygonGeometry参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|type|固定值(string)-Polygon|-|要素图形类型|
|coordinates|[PolygonCoordinates](#polygoncoordinates参数说明（类型）)|-|要素空间信息|

###### PolygonCoordinates参数说明（类型）

|参数名称|类型|说明|
|:--|:--:|:--|
|PolygonCoordinates|Array&lt;Array&lt;[LngLat](#lnglat参数说明（类型）)&gt;&gt;|面数据坐标类型|

### 示例


```javascript
kmap.getBboxOfPoints({
   points: [
       [120, 30],
       [121, 30],
       [121, 31]
   ],
   callback: function (res) {
       console.log(res);
   }
});
```


## pointToBuffer

### 描述

根据几何点对象和缓冲区半径生成缓冲区面，并返回多边形的 geojson 数据。

### 参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|opts|true|[PointToBufferPointsOptions](#pointtobufferpointsoptions参数说明)|-|-|

#### PointToBufferPointsOptions参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|point|true|[LngLat](#lnglat参数说明（类型）)|-|点坐标|
|radius|true|number|-|生成缓冲区的半径|
|units|true|[Units](#units参数说明)|KMap.MEASURE_UNITS.KILOMETERS|计算单位|
|callback|true|[Function](#callback函数参数说明)|-|回调方法|

##### LngLat参数说明（类型）

|参数名称|类型|说明|
|:--|:--:|:--|
|LngLat|[number, number]|经纬度坐标|

##### Units参数说明

|参数名称|描述|实际值|
|:--|:--|:--:|
|KMap.MEASURE_UNITS.KILOMETERS|公里|kilometers|
|KMap.MEASURE_UNITS.METERS|米|meters|
|KMap.MEASURE_UNITS.MILES|英里|miles|

##### callback函数参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|res|[CallbackRes](#callbackres参数说明)|-|回调信息|

###### CallbackRes参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|status|number|-|10-成功,20-失败|
|data|[PolygonFeatureType](#polygonfeaturetype参数说明)|-|根据几何点对象和缓冲区半径生成缓冲区面|

###### PolygonFeatureType参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|type|固定值(string)-Feature|-|要素类型|
|properties|Object|-|要素自定义属性|
|geometry|[PolygonGeometry](#polygongeometry参数说明)|-|要素空间信息|

###### PolygonGeometry参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|type|固定值(string)-Polygon|-|要素图形类型|
|coordinates|[PolygonCoordinates](#polygoncoordinates参数说明（类型）)|-|要素空间信息|

###### PolygonCoordinates参数说明（类型）

|参数名称|类型|说明|
|:--|:--:|:--|
|PolygonCoordinates|Array&lt;Array&lt;[LngLat](#lnglat参数说明（类型）)&gt;&gt;|面数据坐标类型|

### 示例


```javascript
kmap.pointToBuffer({
   point: [120.56310172948486, 31.293982802065415],
   radius: 0.5,
   units: 'kilometers',
   callback: function (res) {
       if (res.status === 10) {
           console.log(res.data);
       }
   }
});
```


## polygonToBuffer

### 描述

根据几何面对象和缓冲区半径生成缓冲区面，并返回多边形的 geojson 数据。

### 参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|opts|true|[PolygonToBufferOptions](#polygontobufferoptions参数说明)|-|-|

#### PolygonToBufferOptions参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|polygon|true|Array&lt;[LngLat](#lnglat参数说明（类型）)&gt;|-|面的点坐标集合|
|radius|true|number|-|生成缓冲区的半径|
|units|true|[Units](#units参数说明)|KMap.MEASURE_UNITS.KILOMETERS|计算单位|
|callback|true|[Function](#callback函数参数说明)|-|回调方法|

##### LngLat参数说明（类型）

|参数名称|类型|说明|
|:--|:--:|:--|
|LngLat|[number, number]|经纬度坐标|

##### Units参数说明

|参数名称|描述|实际值|
|:--|:--|:--:|
|KMap.MEASURE_UNITS.KILOMETERS|公里|kilometers|
|KMap.MEASURE_UNITS.METERS|米|meters|
|KMap.MEASURE_UNITS.MILES|英里|miles|

##### callback函数参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|res|[CallbackRes](#callbackres参数说明)|-|回调信息|

###### CallbackRes参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|status|number|-|10-成功,20-失败|
|data|[PolygonFeatureType](#polygonfeaturetype参数说明)|-|根据几何点对象和缓冲区半径生成缓冲区面|

###### PolygonFeatureType参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|type|固定值(string)-Feature|-|要素类型|
|properties|Object|-|要素自定义属性|
|geometry|[PolygonGeometry](#polygongeometry参数说明)|-|要素空间信息|

###### PolygonGeometry参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|type|固定值(string)-Polygon|-|要素图形类型|
|coordinates|[PolygonCoordinates](#polygoncoordinates参数说明（类型）)|-|要素空间信息|

###### PolygonCoordinates参数说明（类型）

|参数名称|类型|说明|
|:--|:--:|:--|
|PolygonCoordinates|Array&lt;Array&lt;[LngLat](#lnglat参数说明（类型）)&gt;&gt;|面数据坐标类型|

### 示例


```javascript
kmap.polygonToBuffer({
   polygon: [
       [120.56310172948486, 31.293982802065415],
       [120.57503291996796, 31.224028641723756],
       [120.5328442374113, 31.242818467248154],
       [120.56310172948486, 31.293982802065415]
   ],
   radius: 0.5,
   units: 'kilometers',
   callback: function (res) {
       if (res.status === 10) {
           console.log(res.data);
       }
   }
});
```


## lineToBuffer

### 描述

根据线的点坐标集合和缓冲区半径形成多边形，并返回多边形的 geojson 数据。

### 参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|opts|true|[LineToBufferPointsOptions](#linetobufferpointsoptions参数说明)|-|-|

#### LineToBufferPointsOptions参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|polyline|true|Array&lt;[LngLat](#lnglat参数说明（类型）)&gt;\|Array&lt;Array&lt;[LngLat](#lnglat参数说明（类型）)&gt;&gt;|-|线的点坐标集合，支持单线和多线|
|radius|true|number|-|生成缓冲区的半径|
|units|true|[Units](#units参数说明)|KMap.MEASURE_UNITS.KILOMETERS|计算单位|
|callback|true|[Function](#callback函数参数说明)|-|回调方法|

##### LngLat参数说明（类型）

|参数名称|类型|说明|
|:--|:--:|:--|
|LngLat|[number, number]|经纬度坐标|

##### Units参数说明

|参数名称|描述|实际值|
|:--|:--|:--:|
|KMap.MEASURE_UNITS.KILOMETERS|公里|kilometers|
|KMap.MEASURE_UNITS.METERS|米|meters|
|KMap.MEASURE_UNITS.MILES|英里|miles|

##### callback函数参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|res|[CallbackRes](#callbackres参数说明)|-|回调信息|

###### CallbackRes参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|status|number|-|10-成功,20-失败|
|data|[PolygonFeatureType](#polygonfeaturetype参数说明)\|[MultiPolygonFeatureType](#multipolygonfeaturetype参数说明)|-|根据线的点坐标集合和缓冲区半径形成多边形|

###### PolygonFeatureType参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|type|固定值(string)-Feature|-|要素类型|
|properties|Object|-|要素自定义属性|
|geometry|[PolygonGeometry](#polygongeometry参数说明)|-|要素空间信息|

###### PolygonGeometry参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|type|固定值(string)-Polygon|-|要素图形类型|
|coordinates|[PolygonCoordinates](#polygoncoordinates参数说明（类型）)|-|要素空间信息|

###### PolygonCoordinates参数说明（类型）

|参数名称|类型|说明|
|:--|:--:|:--|
|PolygonCoordinates|Array&lt;Array&lt;[LngLat](#lnglat参数说明（类型）)&gt;&gt;|面数据坐标类型|

###### MultiPolygonFeatureType参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|type|固定值(string)-Feature|-|要素类型|
|properties|Object|-|要素自定义属性|
|geometry|[MultiPolygonGeometry](#multipolygongeometry参数说明)|-|要素空间信息|

###### MultiPolygonGeometry参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|type|固定值(string)-MultiPolygon|-|要素图形类型|
|coordinates|Array&lt;[PolygonCoordinates](#polygoncoordinates参数说明（类型）)&gt;|-|要素空间信息|

### 示例


```javascript
kmap.lineToBuffer({
   polyline: [
       [120.61105945996144, 31.30433439717133],
       [120.66530445507857, 31.349791381295276]
   ],
   radius: 0.5,
   units: 'kilometers',
   callback: function (res) {
       if (res.status === 10) {
           console.log(res.data);
       }
   }
});
```


## pointsInPolygon

### 描述

只返回在多边形范围内的点坐标的集合

### 参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|opts|true|[PointsInPolygonOptions](#pointsinpolygonoptions参数说明)|-|-|

#### PointsInPolygonOptions参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|points|true|Array&lt;[LngLat](#lnglat参数说明（类型）)&gt;|-|点坐标数组|
|polygon|true|Array&lt;[LngLat](#lnglat参数说明（类型）)&gt;|-|组成多边形的点坐标集合|
|callback|true|[Function](#callback函数参数说明)|-|回调方法|

##### LngLat参数说明（类型）

|参数名称|类型|说明|
|:--|:--:|:--|
|LngLat|[number, number]|经纬度坐标|

##### callback函数参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|res|[CallbackRes](#callbackres参数说明)|-|回调信息|

###### CallbackRes参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|status|number|-|10-成功,20-失败|
|data|[PointFeatureCollectionType](#pointfeaturecollectiontype参数说明)|-|多边形范围内的点坐标的集合|

###### PointFeatureCollectionType参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|type|固定值(string)-FeatureCollection|-|要素类型|
|features|Array&lt;[PointFeatureType](#pointfeaturetype参数说明)&gt;|-|点要素集合|

###### PointFeatureType参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|type|固定值(string)-Feature|-|要素类型|
|properties|Object|-|要素自定义属性|
|geometry|[PointGeometry](#pointgeometry参数说明)|-|要素空间信息|

###### PointGeometry参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|type|固定值(string)-Point|-|要素图形类型|
|coordinates|[LngLat](#lnglat参数说明（类型）)|-|要素空间信息|

###### LngLat参数说明（类型）

|参数名称|类型|说明|
|:--|:--:|:--|
|LngLat|[number, number]|经纬度坐标|

### 示例


```javascript
kmap.pointsInPolygon({
   point: [
       [120.57794006344278, 31.294694063683096],//可见
       [120.458801269518, 31.363318025535648],//可见
       [119.83537323819314, 31.367854704938634],//不可见
   ],
   polygon: [
       [119.99978454588665, 31.50392839106918],
       [121.16021545409478, 31.50392839106918],
       [121.16021545409478, 31.075585044949733],
       [119.99978454588665, 31.075585044949733],
       [119.99978454588665, 31.50392839106918]
   ],
   callback: function (res) {
       console.log(res);
   }
});
```


## getLineChunks

### 描述

根据线数据和分段参数，返回拆分后的数据。

### 参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|opts|true|[GetLineChunksOptions](#getlinechunksoptions参数说明)|-|-|

#### GetLineChunksOptions参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|line|true|Array&lt;[LngLat](#lnglat参数说明（类型）)&gt;|-|线的点坐标集合|
|segmentLength|true|number|-|每个分段的长度|
|units|true|[Units](#units参数说明)|KMap.MEASURE_UNITS.KILOMETERS|计算单位|
|callback|true|[Function](#callback函数参数说明)|-|回调方法|

##### LngLat参数说明（类型）

|参数名称|类型|说明|
|:--|:--:|:--|
|LngLat|[number, number]|经纬度坐标|

##### Units参数说明

|参数名称|描述|实际值|
|:--|:--|:--:|
|KMap.MEASURE_UNITS.KILOMETERS|公里|kilometers|
|KMap.MEASURE_UNITS.METERS|米|meters|
|KMap.MEASURE_UNITS.MILES|英里|miles|

##### callback函数参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|res|[CallbackRes](#callbackres参数说明)|-|回调信息|

###### CallbackRes参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|status|number|-|10-成功,20-失败|
|data|[LngLat](#lnglat参数说明（类型）)|-|中心点经纬度坐标|

###### LngLat参数说明（类型）

|参数名称|类型|说明|
|:--|:--:|:--|
|LngLat|[number, number]|经纬度坐标|

### 示例


```javascript
kmap.getLineChunks({
   line: [
       [120.45916401303316, 31.314189309179497],
       [120.54087482846182, 31.2911615833239]
   ],
   segmentLength: 3,
   callback: res => {
       console.log('res', res)
  }
});
```


## polygonMultistageBuffer

### 描述

生成多边形多级缓冲区,根据polygon及半径区间计算多级缓冲区，并返回多边形的 geojson 数据。

### 参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|opts|true|[PolygonMultistageBufferOptions](#polygonmultistagebufferoptions参数说明)|-|-|

#### PolygonMultistageBufferOptions参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|code|true|string|-|行政区划编码|
|keyword|true|string|-|关键字（该关键字需精确匹配，以保证查询结果唯一）|
|levels|true|Array&lt;[number, number]&gt;|-|生成缓冲区的半径区间|
|callback|true|[Function](#callback函数参数说明)|-|回调方法|

##### callback函数参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|res|[CallbackRes](#callbackres参数说明)|-|回调信息|

###### CallbackRes参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|status|number|-|10-成功,20-失败|
|data|[dataObject](#dataobject参数说明)|-|包含两个字段：basePolygon 根据行政区划及关键字查询的基础多边形，multistageBuffer 根据基础多边形生成的多级缓冲多边形|

###### dataObject参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|basePolygon|[PolygonFeatureType](#polygonfeaturetype参数说明)|-|-|
|multistageBuffer|[PolygonFeatureType](#polygonfeaturetype参数说明)|-|-|

###### PolygonFeatureType参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|type|固定值(string)-Feature|-|要素类型|
|properties|Object|-|要素自定义属性|
|geometry|[PolygonGeometry](#polygongeometry参数说明)|-|要素空间信息|

###### PolygonGeometry参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|type|固定值(string)-Polygon|-|要素图形类型|
|coordinates|[PolygonCoordinates](#polygoncoordinates参数说明（类型）)|-|要素空间信息|

###### PolygonCoordinates参数说明（类型）

|参数名称|类型|说明|
|:--|:--:|:--|
|PolygonCoordinates|Array&lt;Array&lt;[LngLat](#lnglat参数说明（类型）)&gt;&gt;|面数据坐标类型|

### 示例


```javascript
kmap.polygonMultistageBuffer({
   code: '320500',
   keyword: '斜塘河',
   levels: [[0, 2.0], [2, 4], [8, 10]],
   callback: function (res) {
       if(res.status !== 10) return;
       //  添加几何图形
       kmap.addGeometryLayer({
           data: res.data.multistageBuffer,
           defaultStyles: {
               'fill-color': 'rgba(151,235,241,0.7)',
               'fill-outline-color':'blue',//多边形外边线
               'line-width':2
           },
           end: function(id) {
               geometryLayerId = id;
           }
       });
       var params = {
           searchOpts: {
               type: 'geometry',
               value: res.data.multistageBuffer,

           },
           serviceName: 'layers_test1',
           icons: [{
               iconName: 'weather-alarm-lev-1-24'
           }],
           clustered: true,
           clusteredFilters: [{
                   count: 0,
                   circleColor: 'orange'
               }, {
                   count: 5,
                   circleColor: 'red'
               }, {
                   count: 10,
                   circleColor: 'purple'
           }],
           ended: function(){
           }
       };
       // 显示缓冲区内点位数据
       typicalLayerId = kmap.addTypicalLayer(params);
   }
});
```


## getSector

### 描述

根据传入的参数，返回一个扇形的geoJson数据。

### 参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|opts|true|[GetSectorOptions](#getsectoroptions参数说明)|-|-|

#### GetSectorOptions参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|center|true|[LngLat](#lnglat参数说明（类型）)|-|扇形圆心经纬度坐标|
|radius|true|number|-|扇形半径长度|
|bearing1|true|number|-|扇形第一条半径相对于12点钟方向的角度度数|
|bearing2|true|number|-|扇形第二条半径相对于12点钟方向的角度度数|
|options|false|[optionsObject](#optionsobject参数说明)|-|其他参数|
|callback|false|[Function](#callback函数参数说明)|-|回调方法|

##### LngLat参数说明（类型）

|参数名称|类型|说明|
|:--|:--:|:--|
|LngLat|[number, number]|经纬度坐标|

##### optionsObject参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|steps|true|number|-|步数|
|units|true|[Units](#units参数说明)|-|计算单位|
|properties|true|Object|-|要素属性|

###### Units参数说明

|参数名称|描述|实际值|
|:--|:--|:--:|
|KMap.MEASURE_UNITS.KILOMETERS|公里|kilometers|
|KMap.MEASURE_UNITS.METERS|米|meters|
|KMap.MEASURE_UNITS.MILES|英里|miles|

##### callback函数参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|res|[CallbackRes](#callbackres参数说明)|-|回调信息|

###### CallbackRes参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|status|number|-|10-成功,20-失败|
|data|[PolygonFeatureType](#polygonfeaturetype参数说明)|-|扇形 GeoJson 数据|

###### PolygonFeatureType参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|type|固定值(string)-Feature|-|要素类型|
|properties|Object|-|要素自定义属性|
|geometry|[PolygonGeometry](#polygongeometry参数说明)|-|要素空间信息|

###### PolygonGeometry参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|type|固定值(string)-Polygon|-|要素图形类型|
|coordinates|[PolygonCoordinates](#polygoncoordinates参数说明（类型）)|-|要素空间信息|

###### PolygonCoordinates参数说明（类型）

|参数名称|类型|说明|
|:--|:--:|:--|
|PolygonCoordinates|Array&lt;Array&lt;[LngLat](#lnglat参数说明（类型）)&gt;&gt;|面数据坐标类型|

### 示例


```javascript
kmap.getSector({
   options:{
       steps:360
   },
   center: [parseFloat(center[0]), parseFloat(center[1])],
   radius: parseFloat(radius),
   bearing1: parseFloat(bearing1),
   bearing2: parseFloat(bearing2),
   callback: function (res) {
       alert('F12打开控制台查看结果');
   }
});
```


## union

### 描述

两个多边形合并成一个多边形

### 参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|opts|true|[UnionOptions](#unionoptions参数说明)|-|-|

#### UnionOptions参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|firstPolygon|true|[PolygonFeatureType](#polygonfeaturetype参数说明)\|[MultiPolygonFeatureType](#multipolygonfeaturetype参数说明)|-|需要合并的第一个多边形，只允许type为Polygon或者MultiPolygon的GeoJson格式|
|lastPolygon|true|[PolygonFeatureType](#polygonfeaturetype参数说明)\|[MultiPolygonFeatureType](#multipolygonfeaturetype参数说明)|-|需要合并的第二个多边形，只允许type为Polygon或者MultiPolygon的GeoJson格式|
|polygons|true|Array&lt;[PolygonFeatureType](#polygonfeaturetype参数说明)&gt;|-|扩展支持多边形集合，在使用参数 polygons 时，firstPolygon 和 lastPolygon 参数无效|
|properties|false|[propertiesObject](#propertiesobject参数说明)|-|自定义属性值，用以合并之后的多边形的属性|
|callback|false|[Function](#callback函数参数说明)|-|回调方法|

##### PolygonFeatureType参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|type|true|固定值(string)-Feature|-|要素类型|
|properties|true|Object|-|要素自定义属性|
|geometry|true|[PolygonGeometry](#polygongeometry参数说明)|-|要素空间信息|

###### PolygonGeometry参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|type|true|固定值(string)-Polygon|-|要素图形类型|
|coordinates|true|[PolygonCoordinates](#polygoncoordinates参数说明（类型）)|-|要素空间信息|

###### PolygonCoordinates参数说明（类型）

|参数名称|类型|说明|
|:--|:--:|:--|
|PolygonCoordinates|Array&lt;Array&lt;[LngLat](#lnglat参数说明（类型）)&gt;&gt;|面数据坐标类型|

##### MultiPolygonFeatureType参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|type|true|固定值(string)-Feature|-|要素类型|
|properties|true|Object|-|要素自定义属性|
|geometry|true|[MultiPolygonGeometry](#multipolygongeometry参数说明)|-|要素空间信息|

###### MultiPolygonGeometry参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|type|true|固定值(string)-MultiPolygon|-|要素图形类型|
|coordinates|true|Array&lt;[PolygonCoordinates](#polygoncoordinates参数说明（类型）)&gt;|-|要素空间信息|

##### callback函数参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|res|[CallbackRes](#callbackres参数说明)|-|回调信息|

###### CallbackRes参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|status|number|-|10-成功,20-失败|
|data|[PolygonFeatureType](#polygonfeaturetype参数说明)\|[MultiPolygonFeatureType](#multipolygonfeaturetype参数说明)|-|返回的合并之后多边形geoJson数据|

### 示例


```javascript
let poy1 = {
 type: 'Feature',
 properties: {},
 geometry: {
   type: 'Polygon',
   coordinates: [
     [
       [120.513626127684, 31.28576644113336],
       [120.513626127684, 31.31466185806299],
       [120.60271838232205, 31.31466185806299],
       [120.60271838232205, 31.28576644113336],
       [120.513626127684, 31.28576644113336],
     ],
   ],
 },
};
let poy2 = {
 type: 'Feature',
 properties: {},
 geometry: {
   type: 'Polygon',
   coordinates: [
     [
       [120.54950335546658, 31.302195379131064],
       [120.54950335546658, 31.342815360736452],
       [120.64803698583836, 31.342815360736452],
       [120.64803698583836, 31.302195379131064],
       [120.54950335546658, 31.302195379131064],
     ],
   ],
 },
};
kmap.union({
 firstPolygon: poy1,
 lastPolygon: poy2,
 properties: {
   status: 1,
 },
 callback: (res) => {
   console.log(res);
 },
});
```


## getSeparatedPolygons

### 描述

用一条分割线分割多边形，暂不支持分割MultiPolygon

### 参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|opts|true|[GetSeparatedPolygonsOptions](#getseparatedpolygonsoptions参数说明)|-|-|

#### GetSeparatedPolygonsOptions参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|splitter|true|[LineFeatureType](#linefeaturetype参数说明)|-|用于分割多边形的线|
|polygons|true|Array&lt;[PolygonFeatureType](#polygonfeaturetype参数说明)&gt;|-|需要分割的多边形几何|
|callback|true|[Function](#callback函数参数说明)|-|回调方法|

##### LineFeatureType参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|type|true|固定值(string)-Feature|-|要素类型|
|properties|true|Object|-|要素自定义属性|
|geometry|true|[LineStringGeometry](#linestringgeometry参数说明)|-|要素空间信息|

###### LineStringGeometry参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|type|true|固定值(string)-LineString|-|要素图形类型|
|coordinates|true|Array&lt;[LngLat](#lnglat参数说明（类型）)&gt;|-|要素空间信息|

###### LngLat参数说明（类型）

|参数名称|类型|说明|
|:--|:--:|:--|
|LngLat|[number, number]|经纬度坐标|

##### PolygonFeatureType参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|type|true|固定值(string)-Feature|-|要素类型|
|properties|true|Object|-|要素自定义属性|
|geometry|true|[PolygonGeometry](#polygongeometry参数说明)|-|要素空间信息|

###### PolygonGeometry参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|type|true|固定值(string)-Polygon|-|要素图形类型|
|coordinates|true|[PolygonCoordinates](#polygoncoordinates参数说明（类型）)|-|要素空间信息|

###### PolygonCoordinates参数说明（类型）

|参数名称|类型|说明|
|:--|:--:|:--|
|PolygonCoordinates|Array&lt;Array&lt;[LngLat](#lnglat参数说明（类型）)&gt;&gt;|面数据坐标类型|

##### callback函数参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|res|[CallbackRes](#callbackres参数说明)|-|回调信息|

###### CallbackRes参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|status|number|-|10-成功,20-失败|
|data|Array&lt;[SeparatedResult](#separatedresult参数说明)&gt;|-|多边形分割结果|

###### SeparatedResult参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|from|[PolygonFeatureType](#polygonfeaturetype参数说明)|-|分割前的多边形信息|
|to|[PolygonFeatureType](#polygonfeaturetype参数说明)\|[MultiPolygonFeatureType](#multipolygonfeaturetype参数说明)|-|分割后的多边形（集合）信息|

###### MultiPolygonFeatureType参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|type|固定值(string)-Feature|-|要素类型|
|properties|Object|-|要素自定义属性|
|geometry|[MultiPolygonGeometry](#multipolygongeometry参数说明)|-|要素空间信息|

###### MultiPolygonGeometry参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|type|固定值(string)-MultiPolygon|-|要素图形类型|
|coordinates|Array&lt;[PolygonCoordinates](#polygoncoordinates参数说明（类型）)&gt;|-|要素空间信息|

###### PolygonCoordinates参数说明（类型）

|参数名称|类型|说明|
|:--|:--:|:--|
|PolygonCoordinates|Array&lt;Array&lt;[LngLat](#lnglat参数说明（类型）)&gt;&gt;|面数据坐标类型|

### 示例


```javascript
kmap.getSeparatedPolygons({
  splitter: {
    type: 'Feature',
    properties: {},
    geometry: {
      type: 'LineString',
      coordinates: [
        [120.22978542632939, 31.400987180904465],
        [120.8745455581647, 31.41622404094464],
        [120.54632900543055, 31.584835901783407],
      ]
    }
  },
  polygons: [
    {
      type: 'Feature',
      properties: {},
      geometry: {
        type: 'Polygon',
        coordinates: [
          [
            [120.33278225250353, 31.562020852574776],
            [120.77772854156552, 31.564361114563212],
            [120.75094936676174, 31.234979956804693],
            [120.35544155426123, 31.25611372345972],
            [120.33278225250353, 31.562020852574776],
          ],
          [
            [120.54220913238436, 31.522227416494317],
            [120.69052456207226, 31.521642092348458],
            [120.67129848785379, 31.411536039843824],
            [120.54907558746288, 31.41388006967756],
            [120.54220913238436, 31.522227416494317],
          ],
          [
            [120.41792629547126, 31.385161669401228],
            [120.54838894195603, 31.381058323620593],
            [120.46461819000206, 31.287218715386373],
            [120.41792629547126, 31.385161669401228],
          ]
        ]
      },
    },
    {
      type: 'Feature',
      properties: {},
      geometry: {
        type: 'Polygon',
        coordinates: [
          [
            [120.4762911636368, 31.451962344326702],
            [120.62186001129396, 31.44083220271142],
            [120.52984951324612, 31.329458118222746],
            [120.4762911636368, 31.451962344326702],
          ],
        ]
      },
    },
  ],
  callback(res) {
    console.log('res.data', res.data);
  }
});
```


## cutPolygons

### 描述

支持多个多边形按顺序依次裁剪

### 参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|opts|true|[CutPolygons](#cutpolygons参数说明)|-|-|

#### CutPolygons参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|polygons|true|Array&lt;Array&lt;[LngLat](#lnglat参数说明（类型）)&gt;&gt;|-|多边形集合|
|callback|true|[Function](#callback函数参数说明)|-|回调方法|

##### LngLat参数说明（类型）

|参数名称|类型|说明|
|:--|:--:|:--|
|LngLat|[number, number]|经纬度坐标|

##### callback函数参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|res|[CallbackRes](#callbackres参数说明)|-|回调信息|

###### CallbackRes参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|status|number|-|10-成功,20-失败|
|data|[PolygonFeatureType](#polygonfeaturetype参数说明)|-|中心点经纬度坐标|

###### PolygonFeatureType参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|type|固定值(string)-Feature|-|要素类型|
|properties|Object|-|要素自定义属性|
|geometry|[PolygonGeometry](#polygongeometry参数说明)|-|要素空间信息|

###### PolygonGeometry参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|type|固定值(string)-Polygon|-|要素图形类型|
|coordinates|[PolygonCoordinates](#polygoncoordinates参数说明（类型）)|-|要素空间信息|

###### PolygonCoordinates参数说明（类型）

|参数名称|类型|说明|
|:--|:--:|:--|
|PolygonCoordinates|Array&lt;Array&lt;[LngLat](#lnglat参数说明（类型）)&gt;&gt;|面数据坐标类型|

### 示例


```javascript
kmap.cutPolygons({
   polygons: [
     [
         [128, -26],
         [141, -26],
         [141, -21],
         [128, -21],
         [128, -26]
     ],
     [
         [126, -28],
         [140, -28],
         [140, -20],
         [126, -20],
         [126, -28]
     ],
   ],
   callback: function (res) {
       console.log(res);
   }
});
```


## intersect

### 描述

计算多个多边形的交集

### 参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|opts|true|[IntersectOptions](#intersectoptions参数说明)|-|-|

#### IntersectOptions参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|polygons|true|Array&lt;[PolygonFeatureType](#polygonfeaturetype参数说明)&gt;|-|多边形集合|
|properties|false|[propertiesObject](#propertiesobject参数说明)|-|自定义属性值，用以交集之后的多边形的属性|
|callback|false|[Function](#callback函数参数说明)|-|回调方法|

##### PolygonFeatureType参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|type|true|固定值(string)-Feature|-|要素类型|
|properties|true|Object|-|要素自定义属性|
|geometry|true|[PolygonGeometry](#polygongeometry参数说明)|-|要素空间信息|

###### PolygonGeometry参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|type|true|固定值(string)-Polygon|-|要素图形类型|
|coordinates|true|[PolygonCoordinates](#polygoncoordinates参数说明（类型）)|-|要素空间信息|

###### PolygonCoordinates参数说明（类型）

|参数名称|类型|说明|
|:--|:--:|:--|
|PolygonCoordinates|Array&lt;Array&lt;[LngLat](#lnglat参数说明（类型）)&gt;&gt;|面数据坐标类型|

##### callback函数参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|res|[CallbackRes](#callbackres参数说明)|-|回调信息|

###### CallbackRes参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|status|number|-|10-成功,20-失败|
|data|[PolygonFeatureType](#polygonfeaturetype参数说明)\|[MultiPolygonFeatureType](#multipolygonfeaturetype参数说明)|-|返回的交集之后多边形geoJson数据|

###### MultiPolygonFeatureType参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|type|固定值(string)-Feature|-|要素类型|
|properties|Object|-|要素自定义属性|
|geometry|[MultiPolygonGeometry](#multipolygongeometry参数说明)|-|要素空间信息|

###### MultiPolygonGeometry参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|type|固定值(string)-MultiPolygon|-|要素图形类型|
|coordinates|Array&lt;[PolygonCoordinates](#polygoncoordinates参数说明（类型）)&gt;|-|要素空间信息|

###### PolygonCoordinates参数说明（类型）

|参数名称|类型|说明|
|:--|:--:|:--|
|PolygonCoordinates|Array&lt;Array&lt;[LngLat](#lnglat参数说明（类型）)&gt;&gt;|面数据坐标类型|

### 示例


```javascript
let poy1 = {
 type: 'Feature',
 properties: {},
 geometry: {
   type: 'Polygon',
   coordinates: [
     [
       [120.513626127684, 31.28576644113336],
       [120.513626127684, 31.31466185806299],
       [120.60271838232205, 31.31466185806299],
       [120.60271838232205, 31.28576644113336],
       [120.513626127684, 31.28576644113336],
     ],
   ],
 },
};
let poy2 = {
 type: 'Feature',
 properties: {},
 geometry: {
   type: 'Polygon',
   coordinates: [
     [
       [120.54950335546658, 31.302195379131064],
       [120.54950335546658, 31.342815360736452],
       [120.64803698583836, 31.342815360736452],
       [120.64803698583836, 31.302195379131064],
       [120.54950335546658, 31.302195379131064],
     ],
   ],
 },
};
kmap.intersect({
 polygons: [poy1, poy2],
 properties: {
   status: 1,
 },
 callback: (res) => {
   console.log(res);
 },
});
```


## getBezierArrow

### 描述

计算组成贝塞尔箭头的曲线，以及三角形箭头

### 参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|opts|true|[GetBezierArrow](#getbezierarrow参数说明)|-|-|

#### GetBezierArrow参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|nodes|true|Array&lt;[LngLat](#lnglat参数说明（类型）)&gt;|-|顶点坐标数组|
|triangleStyle|false|[triangleStyleObject](#trianglestyleobject参数说明)|-|三角形箭头的大小|
|callback|true|[Function](#callback函数参数说明)|-|回调方法|

##### LngLat参数说明（类型）

|参数名称|类型|说明|
|:--|:--:|:--|
|LngLat|[number, number]|经纬度坐标|

##### triangleStyleObject参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|width|false|number|30|三角形底边的宽度，单位像素|
|height|false|number|30|三角形顶点距离底边的高度，单位像素|
|arrowType|false|[ArrowType](#arrowtype参数说明)|KMap.ARROW_TYPE.TRIANGLE|箭头的风格，默认是三角形|

###### ArrowType参数说明

|参数名称|描述|实际值|
|:--|:--|:--:|
|KMap.ARROW_TYPE.TRIANGLE|三角形箭头|triangle|
|KMap.ARROW_TYPE.POLYLINE|折线箭头|polyline|

##### callback函数参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|res|[CallbackRes](#callbackres参数说明)|-|回调信息|

###### CallbackRes参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|status|number|-|10-成功,20-失败|
|data|[FeatureCollectionType](#featurecollectiontype参数说明)|-|曲线和三角形面组成的集合|

###### FeatureCollectionType参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|type|固定值(string)-FeatureCollection|-|要素类型|
|features|Array&lt;[FeatureType](#featuretype参数说明)&gt;|-|要素集合|

###### FeatureType参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|type|固定值(string)-Feature|-|要素类型|
|properties|object|-|要素自定义属性|
|geometry|[PolygonGeometry](#polygongeometry参数说明)\|[LineStringGeometry](#linestringgeometry参数说明)\|[PointGeometry](#pointgeometry参数说明)\|[MultiLineStringGeometry](#multilinestringgeometry参数说明)\|[MultiPolygonGeometry](#multipolygongeometry参数说明)|-|要素空间信息|

###### PolygonGeometry参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|type|固定值(string)-Polygon|-|要素图形类型|
|coordinates|[PolygonCoordinates](#polygoncoordinates参数说明（类型）)|-|要素空间信息|

###### PolygonCoordinates参数说明（类型）

|参数名称|类型|说明|
|:--|:--:|:--|
|PolygonCoordinates|Array&lt;Array&lt;[LngLat](#lnglat参数说明（类型）)&gt;&gt;|面数据坐标类型|

###### LineStringGeometry参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|type|固定值(string)-LineString|-|要素图形类型|
|coordinates|Array&lt;[LngLat](#lnglat参数说明（类型）)&gt;|-|要素空间信息|

###### LngLat参数说明（类型）

|参数名称|类型|说明|
|:--|:--:|:--|
|LngLat|[number, number]|经纬度坐标|

###### PointGeometry参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|type|固定值(string)-Point|-|要素图形类型|
|coordinates|[LngLat](#lnglat参数说明（类型）)|-|要素空间信息|

###### MultiLineStringGeometry参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|type|固定值(string)-MultiLineString|-|要素图形类型|
|coordinates|Array&lt;Array&lt;[LngLat](#lnglat参数说明（类型）)&gt;&gt;|-|要素空间信息|

###### MultiPolygonGeometry参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|type|固定值(string)-MultiPolygon|-|要素图形类型|
|coordinates|Array&lt;[PolygonCoordinates](#polygoncoordinates参数说明（类型）)&gt;|-|要素空间信息|

### 示例


```javascript
kmap.getBezierArrow({
   nodes: [
       [
           120.46673775365304,
           31.25309873005361
       ],
       [
           120.48541893987976,
           31.316488688082643
       ],
       [
           120.56975900122643,
           31.319305030240443
       ],
       [
           120.6024510771237,
           31.240885400914564
       ],
       [
           120.51124293260546,
           31.219978153538605
       ]
   ],
   triangleStyle:{
       width: 30,
       height: 30
   },
   callback: function (res) {
       console.log(res);
   }
});
```


## polygonSelfIsIntersecting

### 描述

计算多边形是否自交

### 参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|opts|true|[PolygonSelfIsIntersecting](#polygonselfisintersecting参数说明)|-|-|

#### PolygonSelfIsIntersecting参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|polygon|true|[PolygonGeometry](#polygongeometry参数说明)|-|面的几何数据|
|callback|true|[Function](#callback函数参数说明)|-|回调方法|

##### PolygonGeometry参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|type|true|固定值(string)-Polygon|-|要素图形类型|
|coordinates|true|[PolygonCoordinates](#polygoncoordinates参数说明（类型）)|-|要素空间信息|

###### PolygonCoordinates参数说明（类型）

|参数名称|类型|说明|
|:--|:--:|:--|
|PolygonCoordinates|Array&lt;Array&lt;[LngLat](#lnglat参数说明（类型）)&gt;&gt;|面数据坐标类型|

##### callback函数参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|res|[CallbackRes](#callbackres参数说明)|-|回调信息|

###### CallbackRes参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|status|number|-|-|
|data|string|-|成功 'Success'|

### 示例


```javascript
kmap.polygonSelfIsIntersecting({
   polygon: {
       "type": "Polygon",
       "coordinates": [
           [
               [
                   121.38166455954553,
                   31.17811953557441
               ],
               [
                   121.57220277378428,
                   31.244633805322948
               ],
               [
                   121.51517092734633,
                   30.97940770560568
               ],
               [
                   121.48276646914127,
                   31.332139521860398
               ],
               [
                   121.38166455954553,
                   31.17811953557441
               ]
           ]
       ]
   },
   callback: function (res) {
       console.log(res);
   }
});
```


## getGeometryByControlNodes

### 描述

根据控制点计算几何图形

### 参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|opts|true|[GetGeometryByControlNodesOptions](#getgeometrybycontrolnodesoptions参数说明)|-|-|

#### GetGeometryByControlNodesOptions参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|type|true|[GetGeometryType](#getgeometrytype参数说明)|-|几何图形类型|
|nodes|true|Array&lt;[LngLat](#lnglat参数说明（类型）)&gt;|-|控制节点数组|
|callback|true|[Function](#callback函数参数说明)|-|回调方法|

##### GetGeometryType参数说明

|参数名称|描述|实际值|
|:--|:--|:--:|
|KMap.DRAW_TYPE.BEZIER_CURVE|贝塞尔曲线|BezierCurve|
|KMap.DRAW_TYPE.LUNE|弓形|Lune|
|KMap.DRAW_TYPE.STRAIGHT_ARROW|细直箭头|StraightArrow|
|KMap.DRAW_TYPE.DOUBLE_ARROW|双箭头|DoubleArrow|
|KMap.DRAW_TYPE.ATTACK_ARROW|进攻方向箭头|AttackArrow|
|KMap.DRAW_TYPE.SWALLOW_TAIL_ATTACK_ARROW|燕尾进攻方向箭头|SwallowTailAttackArrow|

##### LngLat参数说明（类型）

|参数名称|类型|说明|
|:--|:--:|:--|
|LngLat|[number, number]|经纬度坐标|

##### callback函数参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|res|[CallbackRes](#callbackres参数说明)|-|回调信息|

###### CallbackRes参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|status|number|-|10-成功,20-失败|
|data|[PolygonGeometry](#polygongeometry参数说明)\|[LineStringGeometry](#linestringgeometry参数说明)\|Array&lt;[PolygonGeometry](#polygongeometry参数说明)\|[LineStringGeometry](#linestringgeometry参数说明)&gt;|-|几何图形|

###### PolygonGeometry参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|type|固定值(string)-Polygon|-|要素图形类型|
|coordinates|[PolygonCoordinates](#polygoncoordinates参数说明（类型）)|-|要素空间信息|

###### PolygonCoordinates参数说明（类型）

|参数名称|类型|说明|
|:--|:--:|:--|
|PolygonCoordinates|Array&lt;Array&lt;[LngLat](#lnglat参数说明（类型）)&gt;&gt;|面数据坐标类型|

###### LineStringGeometry参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|type|固定值(string)-LineString|-|要素图形类型|
|coordinates|Array&lt;[LngLat](#lnglat参数说明（类型）)&gt;|-|要素空间信息|

###### LngLat参数说明（类型）

|参数名称|类型|说明|
|:--|:--:|:--|
|LngLat|[number, number]|经纬度坐标|

### 示例


```javascript
kmap.getGeometryByControlNodes({
   type: 'lune',
   nodes: [
       [
           120.46673775365304,
           31.25309873005361
       ],
       [
           120.48541893987976,
           31.316488688082643
       ],
       [
           120.56975900122643,
           31.319305030240443
       ]
   ],
   callback: function (res) {
       console.log(res);
   }
});
```


## getDestination

### 描述

根据源点、地理方位角和距离计算目标点

### 参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|opts|true|[GetDestinationOptions](#getdestinationoptions参数说明)|-|-|

#### GetDestinationOptions参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|origin|true|[LngLat](#lnglat参数说明（类型）)|-|源点|
|radius|true|number|-|半径，单位是公里|
|bearing|true|number|-|方位角，取值范围通常是 0° 到 360°，以顺时针方向增长的，例如，0° 表示正北方，90° 表示正东方，180° 表示正南方，270° 表示正西方|
|callback|true|[Function](#callback函数参数说明)|-|回调方法|

##### LngLat参数说明（类型）

|参数名称|类型|说明|
|:--|:--:|:--|
|LngLat|[number, number]|经纬度坐标|

##### callback函数参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|res|[CallbackRes](#callbackres参数说明)|-|回调信息|

###### CallbackRes参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|status|number|-|10-成功,20-失败|
|data|[LngLat](#lnglat参数说明（类型）)|-|经纬度坐标|

###### LngLat参数说明（类型）

|参数名称|类型|说明|
|:--|:--:|:--|
|LngLat|[number, number]|经纬度坐标|

### 示例


```javascript
kmap.getDestination({
   origin: [120.56310172948486, 31.293982802065415],
   distance: 3,
   bearing: 120,
   callback: function (res) {
       console.log(res.data);
   }
});
```


## 地图控件

## eagle

### 描述

开启/关闭 鹰眼控件

### 参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|opts|true|[EagleOptions](#eagleoptions参数说明)|-|-|

#### EagleOptions参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|flag|false|boolean|false|true: 开启; false: 关闭|
|style|false|[styleObject](#styleobject参数说明)|-|设置鹰眼大小|
|ended|false|[Function](#ended函数参数说明)|-|结束回调|

##### styleObject参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|width|true|number|200|设置鹰容器初始化宽度,设置范围在[100,300]以内，若超出则为默认宽度:200|
|height|true|number|150|设置鹰眼容器初始化高度,设置范围在[100,300]以内，若超出则为默认高度:150|

##### ended函数参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|res|[EndedRes](#endedres参数说明)|-|结束回调信息|

###### EndedRes参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|status|number|-|10-成功,20-失败|
|data|string|-|成功 ‘Success’|

### 示例


```javascript
kmap.eagle({
   flag: true,
       style: {
            height:250,
            width:150
      }
});
```


## scale

### 描述

开启/关闭 比例尺控件

### 参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|opts|true|[ScaleOptions](#scaleoptions参数说明)|-|-|

#### ScaleOptions参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|flag|true|boolean|false|true: 开启; false: 关闭|
|anchor|true|string|'bottom-left'|方向可以取'top-left'或'top-right'或'bottom-left'或'bottom-right|
|ended|false|[Function](#ended函数参数说明)|-|结束回调|

##### ended函数参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|res|[EndedRes](#endedres参数说明)|-|结束回调信息|

###### EndedRes参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|status|number|-|10-成功,20-失败|
|data|string|-|成功 ‘Success’|

### 示例


```javascript
kmap.scale({
   flag:true
});
```


## swipeMap

### 描述

拉窗对比，例如将电子地图与影像地图进行对比。【注：兼容2.x的调用方式保留，后续不再维护】

### 参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|opts|true|[SwipeMapOptions](#swipemapoptions参数说明)|-|-|

#### SwipeMapOptions参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|historyStyle|true|Array&lt;string&gt;\|[StyleOptions](#styleoptions参数说明)|-|传入历史窗体的样式solution，或者是已数组形式的服务地址|
|currentStyle|true|Array&lt;string&gt;\|[StyleOptions](#styleoptions参数说明)|-|传入当前窗体的样式solution，或者是已数组形式的服务地址|
|zoom|true|number|-|缩放等级|
|center|true|number|-|中心点坐标|
|ended|true|[Function](#ended函数参数说明)|-|结束回调|

##### StyleOptions参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|solutionId|true|string|-|样式文件solution|

##### ended函数参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|res|[EndedRes](#endedres参数说明)|-|-|

###### EndedRes参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|status|number|-|10-成功,20-失败|

### 示例


```javascript
kmap.swipeMap({
   zoom: 10,
   currentStyle: {
       solutionId: '30023',
   },
   historyStyle: {
       solutionId: '10009',
   },
});
```


## removeSwipeMap

### 描述

删除拉窗对比

### 参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|opts|true|[RemoveSwipeMapOptions](#removeswipemapoptions参数说明)|-|-|

#### RemoveSwipeMapOptions参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|ended|false|[Function](#ended函数参数说明)|-|结束回调|

##### ended函数参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|res|[EndedRes](#endedres参数说明)|-|结束回调信息|

###### EndedRes参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|status|number|-|10-成功,20-失败|

### 示例


```javascript
kmap.removeSwipeMap();
```


## resetNorth

### 描述

地图朝向北方

### 参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|opts|true|[ResetNorthOptions](#resetnorthoptions参数说明)|-|-|

#### ResetNorthOptions参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|callback|false|[Function](#callback函数参数说明)|-|回调方法|

##### callback函数参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|res|[CallbackRes](#callbackres参数说明)|-|回调信息|

###### CallbackRes参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|status|number|-|10-成功,20-失败|
|data|string|-|成功 ‘Success’|

### 示例


```javascript
kmap.resetNorth({
   callback：function（{
   }）
})
```


## addTools

### 描述

地图工具箱

### 参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|opts|true|[AddToolsOptions](#addtoolsoptions参数说明)|-|-|

#### AddToolsOptions参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|toolBox|false|boolean|false|工具箱|
|compass|false|boolean|false|罗盘|
|zoomControl|false|boolean|false|层级控制器|
|toolBoxOptions|false|Array&lt;[ToolBox](#toolbox参数说明)&gt;|['forward', 'goBack', 'zoomTo', 'fullMap', 'scale', 'reset', 'eagle']|工具箱选项|
|styleType|false|[StyleType](#styletype参数说明)|KMap.STYLE_TYPE.LIGHT|控制罗盘和层级控制器的风格，默认是亮色系|

##### ToolBox参数说明

|描述|实际值|
|:--|:--:|
|前进|forward|
|后退|goBack|
|缩放|zoomTo|
|全屏|fullMap|
|显示比例尺|scale|
|复位|reset|
|显示鹰眼|eagle|

##### StyleType参数说明

|参数名称|描述|实际值|
|:--|:--|:--:|
|KMap.STYLE_TYPE.LIGHT|亮色风格|light|
|KMap.STYLE_TYPE.DARK|暗色风格|dark|

### 示例


```javascript
kmap.addTools({
   compass: true,
   zoomControl: true,
   toolBox: true,
   toolBoxOptions: [
       'forward', 'goBack', 'zoomTo', 'fullMap', 'scale', 'reset', 'eagle',
       {
           name: 'screenshot',
           callback: imgDate
       },
       {
           name: 'customScreenshot',
           callback: customImgDate
       }
   ]
});
```


## addMagnifying

### 描述

在地图中添加一个指定最大层级的放大镜，对底图进行放大

### 参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|opts|true|[AddMagnifyingOptions](#addmagnifyingoptions参数说明)|-|-|

#### AddMagnifyingOptions参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|point|true|[LngLat](#lnglat参数说明（类型）)|-|放大镜放置的点位|
|zoom|true|number|-|地图最大层级|
|width|false|number|200|放大镜容器的宽|
|height|false|number|200|放大镜容器的高|
|offset|false|[Offset](#offset参数说明（类型）)|[0, 0]|偏移量|
|isShow|false|boolean|true|是否在地图上显示放大镜|
|dataUrl|false|boolean|false|是否需要返回放大镜内地图的base64截图数据|
|ended|false|[Function](#ended函数参数说明)|-|结束回调|

##### LngLat参数说明（类型）

|参数名称|类型|说明|
|:--|:--:|:--|
|LngLat|[number, number]|经纬度坐标|

##### Offset参数说明（类型）

|参数名称|类型|说明|
|:--|:--:|:--|
|Offset|[number, number]|相对于锚点偏移量|

##### ended函数参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|res|[EndedRes](#endedres参数说明)|-|结束回调信息|

###### EndedRes参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|status|number|-|10-成功,20-失败|
|data|string|-|返回放大镜内地图的base64截图数据|

### 示例


```javascript
kmap.addMagnifying({
   point: [120, 31],
   isShow: true,
   dataUrl: true,
   ended: function(res) {
       console.log('add-res', res);
   }
});
```


## removeMagnifying

### 描述

删除地图上的放大镜

### 参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|opts|true|[RemoveMagnifyingOptions](#removemagnifyingoptions参数说明)|-|-|

#### RemoveMagnifyingOptions参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|ended|false|[Function](#ended函数参数说明)|-|结束回调|

##### ended函数参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|res|[EndedRes](#endedres参数说明)|-|结束回调信息|

###### EndedRes参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|status|number|-|10-成功,20-失败|

### 示例


```javascript
kmap.removeMagnifying();
```


## mapLinkage

### 描述

双屏联动。【注：兼容2.x的调用方式保留，后续不再维护】

### 参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|opts|true|[MapLinkageOptions](#maplinkageoptions参数说明)|-|-|

#### MapLinkageOptions参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|historyStyle|true|Array&lt;string&gt;\|[StyleOptions](#styleoptions参数说明)|-|传入历史窗体的样式solution，或者是已数组形式的服务地址|
|currentStyle|true|Array&lt;string&gt;\|[StyleOptions](#styleoptions参数说明)|-|传入当前窗体的样式solution，或者是已数组形式的服务地址|
|zoom|true|number|-|缩放等级|
|center|true|number|-|中心点坐标|
|ended|true|[Function](#ended函数参数说明)|-|结束回调|

##### StyleOptions参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|solutionId|true|string|-|样式文件solution|

##### ended函数参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|res|[EndedRes](#endedres参数说明)|-|-|

###### EndedRes参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|status|number|-|10-成功,20-失败|

### 示例


```javascript
kmap.mapLinkage({
   zoom: 10,
   currentStyle: {
       solutionId: '30023',
   },
   historyStyle: {
       solutionId: '10009',
   },
});
```


## removeMapLinkage

### 描述

删除双屏联动

### 参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|opts|true|[RemoveMapLinkageOptions](#removemaplinkageoptions参数说明)|-|-|

#### RemoveMapLinkageOptions参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|ended|false|[Function](#ended函数参数说明)|-|结束回调|

##### ended函数参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|res|[EndedRes](#endedres参数说明)|-|结束回调信息|

###### EndedRes参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|status|number|-|10-成功,20-失败|

### 示例


```javascript
kmap.removeMapLinkage();
```


## 地图事件

## addEventOnMap

### 描述

添加地图事件。支持绑定多次回调，当多次绑定同一个回调函数时，只绑定一次。

### 参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|opts|true|[AddEventOnMapOptions](#addeventonmapoptions参数说明)|-|-|

#### AddEventOnMapOptions参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|event|true|[MapEventType](#mapeventtype参数说明)|-|事件名称|
|handler|true|[Function](#function参数说明)|-|事件回调|

##### MapEventType参数说明

|描述|实际值|
|:--|:--:|
|鼠标按下|mousedown|
|鼠标移动|mousemove|
|鼠标弹起|mouseup|
|点击|click|
|双击|dblclick|
|右击|contextmenu|
|地图移动开始|movestart|
|地图移动结束|moveend|
|地图加载完成|load|

### 示例


```javascript
kmap.addEventOnMap({
   event: 'click',
   handler: function(res) {
       console.log(res);
   }
});
```


## removeEventOnMap

### 描述

移除地图事件

### 参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|opts|true|[RemoveEventOnMapOptions](#removeeventonmapoptions参数说明)|-|-|

#### RemoveEventOnMapOptions参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|event|true|[MapEventType](#mapeventtype参数说明)|-|事件名称|
|handler|true|[Function](#function参数说明)|-|事件回调|

##### MapEventType参数说明

|描述|实际值|
|:--|:--:|
|鼠标按下|mousedown|
|鼠标移动|mousemove|
|鼠标弹起|mouseup|
|点击|click|
|双击|dblclick|
|右击|contextmenu|
|地图移动开始|movestart|
|地图移动结束|moveend|
|地图加载完成|load|

### 示例


```javascript
kmap.removeEventOnMap({
   event: 'click',
   handler:your_event_listener
});
```


## 地图服务

## addMapServicesBySolutions

### 描述

添加多个地图服务，支持与底图相同投影规则的栅格、影像地图服务

### 参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|opts|true|[AddMapServicesBySolutions](#addmapservicesbysolutions参数说明)|-|-|

#### AddMapServicesBySolutions参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|solutions|true|Array&lt;string&gt;|-|地图服务标识|
|beforeSolution|false|string|-|将参数 solutions 指定的地图服务，添加在 beforeSolution 对应地图服务的下方,如果不指定,将依次添加到底图的上方|
|ended|false|[Function](#ended函数参数说明)|-|结束回调|

##### ended函数参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|res|[EndedRes](#endedres参数说明)|-|-|

###### EndedRes参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|status|number|-|10-成功,20-失败|
|data|string|-|成功 ‘Success’|

### 示例


```javascript
kmap.addMapServicesBySolutions({
   solutions: ['30045'],
   ended(res) {
     console.log(res);
   },
});
```


## removeMapServicesBySolutions

### 描述

删除添加的地图服务

### 参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|opts|true|[RemoveMapServicesBySolutions](#removemapservicesbysolutions参数说明)|-|-|

#### RemoveMapServicesBySolutions参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|solutions|true|Array&lt;string&gt;|-|地图服务标识|
|ended|false|[Function](#ended函数参数说明)|-|结束回调|

##### ended函数参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|res|[EndedRes](#endedres参数说明)|-|-|

###### EndedRes参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|status|number|-|10-成功,20-失败|
|data|string|-|成功 ‘Success’|

### 示例


```javascript
kmap.removeMapServicesBySolutions({
   solutions: ['30045'],
   ended(res) {
     console.log(res);
   },
});
```


## showMapServicesBySolutions

### 描述

显示添加的地图服务

### 参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|opts|true|[ShowMapServicesBySolutions](#showmapservicesbysolutions参数说明)|-|-|

#### ShowMapServicesBySolutions参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|solutions|true|Array&lt;string&gt;|-|地图服务标识|
|ended|false|[Function](#ended函数参数说明)|-|结束回调|

##### ended函数参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|res|[EndedRes](#endedres参数说明)|-|-|

###### EndedRes参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|status|number|-|10-成功,20-失败|
|data|string|-|成功 ‘Success’|

### 示例


```javascript
kmap.showMapServicesBySolutions({
   solutions: ['30045'],
   ended(res) {
     console.log(res);
   },
});
```


## hideMapServicesBySolutions

### 描述

隐藏添加的地图服务

### 参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|opts|true|[HideMapServicesBySolutions](#hidemapservicesbysolutions参数说明)|-|-|

#### HideMapServicesBySolutions参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|solutions|true|Array&lt;string&gt;|-|地图服务标识|
|ended|false|[Function](#ended函数参数说明)|-|结束回调|

##### ended函数参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|res|[EndedRes](#endedres参数说明)|-|-|

###### EndedRes参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|status|number|-|10-成功,20-失败|
|data|string|-|成功 ‘Success’|

### 示例


```javascript
kmap.hideMapServicesBySolutions({
   solutions: ['30045'],
   ended(res) {
     console.log(res);
   },
});
```


# 绘制

## 图形绘制

## drawPoint

### 描述

在地图上添加几何图形 - 点。为了支持每个图形单独配置样式，调用此接口的设置的样式仅对当前图形生效，不会影响其他图形。

### 参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|opts|true|[DrawPointOptions](#drawpointoptions参数说明)|-|-|

#### DrawPointOptions参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|callback|true|[Function](#callback函数参数说明)|-|成功绘制后的回调函数, 返回该几何图形相关信息|
|finally|false|[Function](#finally函数参数说明)|-|结束绘制后的回调函数|
|styles|false|[PointFeatureStyleOptions](#pointfeaturestyleoptions参数说明)|-|配置绘制的颜色|
|tooltip|false|[tooltipObject](#tooltipobject参数说明)|-|提示文本选项|
|featureDraggable|false|boolean|true|编辑图形时是否能够拖拽整个图形|

##### callback函数参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|event|[CallbackEvent](#callbackevent参数说明)|-|图形信息|

###### CallbackEvent参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|status|number|-|10-成功,20-失败|
|data|[dataObject](#dataobject参数说明)|-|几何图形相关信息|

###### dataObject参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|id|string|-|图形id|
|type|固定值(string)-Point|-|图形类型|
|coordinates|[LngLat](#lnglat参数说明（类型）)|-|图形空间信息|

###### LngLat参数说明（类型）

|参数名称|类型|说明|
|:--|:--:|:--|
|LngLat|[number, number]|经纬度坐标|

##### PointFeatureStyleOptions参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|point-inactive|false|[PointStyleType](#pointstyletype参数说明)|-|非编辑状态的点|
|point-active|false|[PointStyleType](#pointstyletype参数说明)|-|编辑状态的点|
|point-stroke-active|false|[PointStyleType](#pointstyletype参数说明)|-|编辑状态的点外描边|
|point-point-stroke-inactive|false|[PointStyleType](#pointstyletype参数说明)|-|非编辑状态的点外描边|

###### PointStyleType参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|circle-radius|false|number|-|半径，要显示顶点外轮廓，需要保证外轮廓半径大于顶点半径，单位px|
|circle-color|false|string|-|颜色，支持 rgb,rgba,16 进制色值,颜色名称|
|circle-blur|false|number|-|模糊度|
|circle-opacity|false|string|-|不透明度，取值范围[0-1]|
|circle-stroke-width|false|number|-|边框宽度，单位px|
|circle-stroke-color|false|string|-|边框颜色，支持 rgb,rgba,16 进制色值,颜色名称|
|circle-stroke-opacity|false|number|-|边框不透明度，取值范围[0-1]|

##### tooltipObject参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|visibility|false|[Visibility](#visibility参数说明)|'visible'|提示文本是否可见|
|tips|false|[tipsObject](#tipsobject参数说明)|-|提示文本内容，根据语言类型，默认值会有变化|

###### Visibility参数说明

|参数名称|描述|实际值|
|:--|:--|:--:|
|KMap.VISIBILITY.VISIBLE|可见|visible|
|KMap.VISIBILITY.NONE|不可见|none|

###### tipsObject参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|begin|false|string|'单击开始绘制'|开始绘制的提示|

### 示例


```javascript
var pointData;
kmap.drawPoint({
    callback: function (res) {
        if (res.status === 10) {
            pointData = res.data;
        }
    }
});
```


## drawLine

### 描述

在地图上添加几何图形 - 线。为了支持每个图形单独配置样式，调用此接口的设置的样式仅对当前图形生效，不会影响其他图形。

### 参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|opts|true|[DrawLineOptions](#drawlineoptions参数说明)|-|-|

#### DrawLineOptions参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|callback|true|[Function](#callback函数参数说明)|-|成功绘制后的回调函数, 返回该几何图形相关信息|
|finally|false|[Function](#finally函数参数说明)|-|结束绘制后的回调函数|
|styles|false|[LineFeatureStyleOptions](#linefeaturestyleoptions参数说明)|-|配置绘制的颜色|
|tooltip|false|[tooltipObject](#tooltipobject参数说明)|-|提示文本选项|
|featureDraggable|false|boolean|true|编辑图形时是否能够拖拽整个图形|
|isEditStatusKept|false|boolean|false|绘制线完成后，是否一直保持编辑状态|

##### callback函数参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|event|[CallbackEvent](#callbackevent参数说明)|-|图形信息|

###### CallbackEvent参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|status|number|-|10-成功,20-失败|
|data|[dataObject](#dataobject参数说明)|-|几何图形相关信息|

###### dataObject参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|id|string|-|图形id|
|type|固定值(string)-LineString|-|图形类型|
|coordinates|Array&lt;[LngLat](#lnglat参数说明（类型）)&gt;|-|图形空间信息|

###### LngLat参数说明（类型）

|参数名称|类型|说明|
|:--|:--:|:--|
|LngLat|[number, number]|经纬度坐标|

##### LineFeatureStyleOptions参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|point-active|false|[PointStyleType](#pointstyletype参数说明)|-|线和面编辑状态下的激活顶点（端点）|
|point-stroke-active|false|[PointStyleType](#pointstyletype参数说明)|-|线和面编辑状态下的激活顶点（端点）外描边|
|polygon-and-line-vertex-inactive|false|[PointStyleType](#pointstyletype参数说明)|-|编辑状态的顶点(端点)|
|polygon-and-line-vertex-stroke-inactive|false|[PointStyleType](#pointstyletype参数说明)|-|编辑状态的顶点(端点)描边|
|line-active|false|[LineStyleType](#linestyletype参数说明)|-|编辑状态的线|
|line-inactive|false|[LineStyleType](#linestyletype参数说明)|-|非编辑状态的线|

###### PointStyleType参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|circle-radius|false|number|-|半径，要显示顶点外轮廓，需要保证外轮廓半径大于顶点半径，单位px|
|circle-color|false|string|-|颜色，支持 rgb,rgba,16 进制色值,颜色名称|
|circle-blur|false|number|-|模糊度|
|circle-opacity|false|string|-|不透明度，取值范围[0-1]|
|circle-stroke-width|false|number|-|边框宽度，单位px|
|circle-stroke-color|false|string|-|边框颜色，支持 rgb,rgba,16 进制色值,颜色名称|
|circle-stroke-opacity|false|number|-|边框不透明度，取值范围[0-1]|

###### LineStyleType参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|line-color|false|string|-|填充颜色，支持 rgb,rgba,16 进制色值,颜色名称|
|line-opacity|false|number|-|不透明度，取值范围[0-1]|
|line-pattern|false|string|-|填充纹理, 需指定雪碧图名称，指定填充纹理会导致填充颜色失效|
|line-width|false|number|-|宽度，单位px|
|line-gap-width|false|number|-|内部间隙宽度，单位px|
|line-offset|false|number|-|相对于线方向偏移|
|line-blur|false|number|-|模糊度|
|line-dasharray|false|[number, number]|-|虚线线段的长度及间距，例：[0.2, 2]，目前填写此值将会应用蓝色虚线样式，使用后line-color将会失效；设置line-pattern时，line-dasharray将会失效|
|line-dashed|false|boolean|-|线段是否以虚线显示，默认编辑状态是虚线显示，非编辑状态下是实线显示|

##### tooltipObject参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|visibility|false|[Visibility](#visibility参数说明)|'visible'|提示文本是否可见|
|showPosition|false|boolean|false|是否显示鼠标所在的坐标|
|className|false|string|-|通过 className 来控制样式|
|tips|false|[tipsObject](#tipsobject参数说明)|-|提示文本内容，根据语言类型，默认值会有变化|

###### Visibility参数说明

|参数名称|描述|实际值|
|:--|:--|:--:|
|KMap.VISIBILITY.VISIBLE|可见|visible|
|KMap.VISIBILITY.NONE|不可见|none|

###### tipsObject参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|begin|false|string|'单击开始绘制'|开始绘制的提示|
|finish|false|string|'双击结束绘制'|结束绘制的提示|

### 示例


```javascript
var lineData;
kmap.drawLine({
    callback: function (res) {
        if (res.status === 10) {
            lineData = res.data;
        }
    }
});
```


## drawTriangle

### 描述

在地图上添加几何图形 - 三角形。为了支持每个图形单独配置样式，调用此接口的设置的样式仅对当前图形生效，不会影响其他图形。

### 参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|opts|true|[DrawTriangleOptions](#drawtriangleoptions参数说明)|-|-|

#### DrawTriangleOptions参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|callback|true|[Function](#callback函数参数说明)|-|成功绘制后的回调函数, 返回该几何图形相关信息|
|finally|false|[Function](#finally函数参数说明)|-|结束绘制后的回调函数|
|styles|false|[FeatureStyleOptions](#featurestyleoptions参数说明)|-|配置绘制的颜色|
|featureDraggable|false|boolean|true|编辑图形时是否能够拖拽整个图形|
|tooltip|false|[tooltipObject](#tooltipobject参数说明)|-|提示文本选项|

##### callback函数参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|event|[CallbackEvent](#callbackevent参数说明)|-|图形信息|

###### CallbackEvent参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|status|number|-|10-成功,20-失败|
|data|[dataObject](#dataobject参数说明)|-|几何图形相关信息|

###### dataObject参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|id|string|-|图形id|
|type|固定值(string)-Polygon|-|图形类型|
|coordinates|Array&lt;[LngLat](#lnglat参数说明（类型）)&gt;|-|图形空间信息|

###### LngLat参数说明（类型）

|参数名称|类型|说明|
|:--|:--:|:--|
|LngLat|[number, number]|经纬度坐标|

##### FeatureStyleOptions参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|point-active|false|[PointStyleType](#pointstyletype参数说明)|-|线和面编辑状态下的激活顶点（端点）|
|point-stroke-active|false|[PointStyleType](#pointstyletype参数说明)|-|线和面编辑状态下的激活顶点（端点）外描边|
|polygon-and-line-vertex-inactive|false|[PointStyleType](#pointstyletype参数说明)|-|编辑状态的顶点(端点)|
|polygon-and-line-vertex-stroke-inactive|false|[PointStyleType](#pointstyletype参数说明)|-|编辑状态的顶点(端点)描边|
|polygon-stroke-inactive|false|[LineStyleType](#linestyletype参数说明)|-|非编辑状态的多边形边线|
|polygon-stroke-active|false|[LineStyleType](#linestyletype参数说明)|-|编辑状态的多边形边线|
|polygon-fill-inactive|false|[PolygonStyleType](#polygonstyletype参数说明)|-|非编辑状态的多边形|
|polygon-fill-active|false|[PolygonStyleType](#polygonstyletype参数说明)|-|编辑状态的多边形|

###### PointStyleType参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|circle-radius|false|number|-|半径，要显示顶点外轮廓，需要保证外轮廓半径大于顶点半径，单位px|
|circle-color|false|string|-|颜色，支持 rgb,rgba,16 进制色值,颜色名称|
|circle-blur|false|number|-|模糊度|
|circle-opacity|false|string|-|不透明度，取值范围[0-1]|
|circle-stroke-width|false|number|-|边框宽度，单位px|
|circle-stroke-color|false|string|-|边框颜色，支持 rgb,rgba,16 进制色值,颜色名称|
|circle-stroke-opacity|false|number|-|边框不透明度，取值范围[0-1]|

###### LineStyleType参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|line-color|false|string|-|填充颜色，支持 rgb,rgba,16 进制色值,颜色名称|
|line-opacity|false|number|-|不透明度，取值范围[0-1]|
|line-pattern|false|string|-|填充纹理, 需指定雪碧图名称，指定填充纹理会导致填充颜色失效|
|line-width|false|number|-|宽度，单位px|
|line-gap-width|false|number|-|内部间隙宽度，单位px|
|line-offset|false|number|-|相对于线方向偏移|
|line-blur|false|number|-|模糊度|
|line-dasharray|false|[number, number]|-|虚线线段的长度及间距，例：[0.2, 2]，目前填写此值将会应用蓝色虚线样式，使用后line-color将会失效；设置line-pattern时，line-dasharray将会失效|
|line-dashed|false|boolean|-|线段是否以虚线显示，默认编辑状态是虚线显示，非编辑状态下是实线显示|

###### PolygonStyleType参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|fill-color|false|string|-|填充颜色，支持 rgb,rgba,16 进制色值,颜色名称|
|fill-outline-color|false|number|-|边框颜色，支持 rgb,rgba,16 进制色值,颜色名称|
|fill-opacity|false|number|-|不透明度，取值范围[0-1]|
|fill-pattern|false|string|-|填充纹理, 需指定雪碧图名称，指定填充纹理会导致填充颜色失效|

##### tooltipObject参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|visibility|false|[Visibility](#visibility参数说明)|'visible'|提示文本是否可见|
|tips|false|[tipsObject](#tipsobject参数说明)|-|提示文本内容，根据语言类型，默认值会有变化|

###### Visibility参数说明

|参数名称|描述|实际值|
|:--|:--|:--:|
|KMap.VISIBILITY.VISIBLE|可见|visible|
|KMap.VISIBILITY.NONE|不可见|none|

###### tipsObject参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|begin|false|string|'单击开始绘制'|开始绘制的提示|
|continue|false|string|'单击继续绘制'|继续绘制的提示|
|finish|false|string|'单击结束绘制'|结束绘制的提示|

### 示例


```javascript
var triangleData;
kmap.drawTriangle({
    callback: function (res) {
        if (res.status === 10) {
            triangleData = res.data;
        }
    }
});
```


## drawRectangle

### 描述

在地图上添加几何图形 - 矩形。为了支持每个图形单独配置样式，调用此接口的设置的样式仅对当前图形生效，不会影响其他图形。

### 参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|opts|true|[DrawRectangleOptions](#drawrectangleoptions参数说明)|-|-|

#### DrawRectangleOptions参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|callback|true|[Function](#callback函数参数说明)|-|成功绘制后的回调函数, 返回该几何图形相关信息|
|finally|false|[Function](#finally函数参数说明)|-|结束绘制后的回调函数|
|styles|false|[FeatureStyleOptions](#featurestyleoptions参数说明)|-|配置绘制的颜色|
|featureDraggable|false|boolean|true|编辑图形时是否能够拖拽整个图形|
|tooltip|false|[tooltipObject](#tooltipobject参数说明)|-|提示文本选项|

##### callback函数参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|event|[CallbackEvent](#callbackevent参数说明)|-|图形信息|

###### CallbackEvent参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|status|number|-|10-成功,20-失败|
|data|[dataObject](#dataobject参数说明)|-|几何图形相关信息|

###### dataObject参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|id|string|-|图形id|
|type|固定值(string)-Polygon|-|图形类型|
|coordinates|Array&lt;[LngLat](#lnglat参数说明（类型）)&gt;|-|图形空间信息|

###### LngLat参数说明（类型）

|参数名称|类型|说明|
|:--|:--:|:--|
|LngLat|[number, number]|经纬度坐标|

##### FeatureStyleOptions参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|point-active|false|[PointStyleType](#pointstyletype参数说明)|-|线和面编辑状态下的激活顶点（端点）|
|point-stroke-active|false|[PointStyleType](#pointstyletype参数说明)|-|线和面编辑状态下的激活顶点（端点）外描边|
|polygon-and-line-vertex-inactive|false|[PointStyleType](#pointstyletype参数说明)|-|编辑状态的顶点(端点)|
|polygon-and-line-vertex-stroke-inactive|false|[PointStyleType](#pointstyletype参数说明)|-|编辑状态的顶点(端点)描边|
|polygon-stroke-inactive|false|[LineStyleType](#linestyletype参数说明)|-|非编辑状态的多边形边线|
|polygon-stroke-active|false|[LineStyleType](#linestyletype参数说明)|-|编辑状态的多边形边线|
|polygon-fill-inactive|false|[PolygonStyleType](#polygonstyletype参数说明)|-|非编辑状态的多边形|
|polygon-fill-active|false|[PolygonStyleType](#polygonstyletype参数说明)|-|编辑状态的多边形|

###### PointStyleType参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|circle-radius|false|number|-|半径，要显示顶点外轮廓，需要保证外轮廓半径大于顶点半径，单位px|
|circle-color|false|string|-|颜色，支持 rgb,rgba,16 进制色值,颜色名称|
|circle-blur|false|number|-|模糊度|
|circle-opacity|false|string|-|不透明度，取值范围[0-1]|
|circle-stroke-width|false|number|-|边框宽度，单位px|
|circle-stroke-color|false|string|-|边框颜色，支持 rgb,rgba,16 进制色值,颜色名称|
|circle-stroke-opacity|false|number|-|边框不透明度，取值范围[0-1]|

###### LineStyleType参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|line-color|false|string|-|填充颜色，支持 rgb,rgba,16 进制色值,颜色名称|
|line-opacity|false|number|-|不透明度，取值范围[0-1]|
|line-pattern|false|string|-|填充纹理, 需指定雪碧图名称，指定填充纹理会导致填充颜色失效|
|line-width|false|number|-|宽度，单位px|
|line-gap-width|false|number|-|内部间隙宽度，单位px|
|line-offset|false|number|-|相对于线方向偏移|
|line-blur|false|number|-|模糊度|
|line-dasharray|false|[number, number]|-|虚线线段的长度及间距，例：[0.2, 2]，目前填写此值将会应用蓝色虚线样式，使用后line-color将会失效；设置line-pattern时，line-dasharray将会失效|
|line-dashed|false|boolean|-|线段是否以虚线显示，默认编辑状态是虚线显示，非编辑状态下是实线显示|

###### PolygonStyleType参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|fill-color|false|string|-|填充颜色，支持 rgb,rgba,16 进制色值,颜色名称|
|fill-outline-color|false|number|-|边框颜色，支持 rgb,rgba,16 进制色值,颜色名称|
|fill-opacity|false|number|-|不透明度，取值范围[0-1]|
|fill-pattern|false|string|-|填充纹理, 需指定雪碧图名称，指定填充纹理会导致填充颜色失效|

##### tooltipObject参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|visibility|false|[Visibility](#visibility参数说明)|'visible'|提示文本是否可见|
|tips|false|[tipsObject](#tipsobject参数说明)|-|提示文本内容，根据语言类型，默认值会有变化|

###### Visibility参数说明

|参数名称|描述|实际值|
|:--|:--|:--:|
|KMap.VISIBILITY.VISIBLE|可见|visible|
|KMap.VISIBILITY.NONE|不可见|none|

###### tipsObject参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|begin|false|string|'按住鼠标拖动绘制'|开始绘制的提示|
|releaseToFinish|false|string|'松开鼠标结束绘制'|松开鼠标结束绘制的提示|
|finish|false|string|'单击结束绘制'|结束绘制的提示|

### 示例


```javascript
var rectangleData;
kmap.drawRectangle({
    callback: function (res) {
        if (res.status === 10) {
            rectangleData = res.data;
        }
    }
});
```


## drawCircular

### 描述

在地图上添加几何图形 - 圆形。为了支持每个图形单独配置样式，调用此接口的设置的样式仅对当前图形生效，不会影响其他图形。

### 参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|opts|true|[DrawCircularOptions](#drawcircularoptions参数说明)|-|-|

#### DrawCircularOptions参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|callback|true|[Function](#callback函数参数说明)|-|成功绘制后的回调函数, 返回该几何图形相关信息|
|finally|false|[Function](#finally函数参数说明)|-|结束绘制后的回调函数|
|styles|false|[FeatureStyleOptions](#featurestyleoptions参数说明)|-|配置绘制的颜色|
|featureDraggable|false|boolean|true|编辑图形时是否能够拖拽整个图形|
|tooltip|false|[tooltipObject](#tooltipobject参数说明)|-|提示文本选项|

##### callback函数参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|event|[CallbackEvent](#callbackevent参数说明)|-|图形信息|

###### CallbackEvent参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|status|number|-|10-成功,20-失败|
|data|[dataObject](#dataobject参数说明)|-|几何图形相关信息|

###### dataObject参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|id|string|-|图形id|
|type|固定值(string)-Polygon|-|图形类型|
|coordinates|Array&lt;[LngLat](#lnglat参数说明（类型）)&gt;|-|图形空间信息|

###### LngLat参数说明（类型）

|参数名称|类型|说明|
|:--|:--:|:--|
|LngLat|[number, number]|经纬度坐标|

##### FeatureStyleOptions参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|point-active|false|[PointStyleType](#pointstyletype参数说明)|-|线和面编辑状态下的激活顶点（端点）|
|point-stroke-active|false|[PointStyleType](#pointstyletype参数说明)|-|线和面编辑状态下的激活顶点（端点）外描边|
|polygon-and-line-vertex-inactive|false|[PointStyleType](#pointstyletype参数说明)|-|编辑状态的顶点(端点)|
|polygon-and-line-vertex-stroke-inactive|false|[PointStyleType](#pointstyletype参数说明)|-|编辑状态的顶点(端点)描边|
|polygon-stroke-inactive|false|[LineStyleType](#linestyletype参数说明)|-|非编辑状态的多边形边线|
|polygon-stroke-active|false|[LineStyleType](#linestyletype参数说明)|-|编辑状态的多边形边线|
|polygon-fill-inactive|false|[PolygonStyleType](#polygonstyletype参数说明)|-|非编辑状态的多边形|
|polygon-fill-active|false|[PolygonStyleType](#polygonstyletype参数说明)|-|编辑状态的多边形|

###### PointStyleType参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|circle-radius|false|number|-|半径，要显示顶点外轮廓，需要保证外轮廓半径大于顶点半径，单位px|
|circle-color|false|string|-|颜色，支持 rgb,rgba,16 进制色值,颜色名称|
|circle-blur|false|number|-|模糊度|
|circle-opacity|false|string|-|不透明度，取值范围[0-1]|
|circle-stroke-width|false|number|-|边框宽度，单位px|
|circle-stroke-color|false|string|-|边框颜色，支持 rgb,rgba,16 进制色值,颜色名称|
|circle-stroke-opacity|false|number|-|边框不透明度，取值范围[0-1]|

###### LineStyleType参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|line-color|false|string|-|填充颜色，支持 rgb,rgba,16 进制色值,颜色名称|
|line-opacity|false|number|-|不透明度，取值范围[0-1]|
|line-pattern|false|string|-|填充纹理, 需指定雪碧图名称，指定填充纹理会导致填充颜色失效|
|line-width|false|number|-|宽度，单位px|
|line-gap-width|false|number|-|内部间隙宽度，单位px|
|line-offset|false|number|-|相对于线方向偏移|
|line-blur|false|number|-|模糊度|
|line-dasharray|false|[number, number]|-|虚线线段的长度及间距，例：[0.2, 2]，目前填写此值将会应用蓝色虚线样式，使用后line-color将会失效；设置line-pattern时，line-dasharray将会失效|
|line-dashed|false|boolean|-|线段是否以虚线显示，默认编辑状态是虚线显示，非编辑状态下是实线显示|

###### PolygonStyleType参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|fill-color|false|string|-|填充颜色，支持 rgb,rgba,16 进制色值,颜色名称|
|fill-outline-color|false|number|-|边框颜色，支持 rgb,rgba,16 进制色值,颜色名称|
|fill-opacity|false|number|-|不透明度，取值范围[0-1]|
|fill-pattern|false|string|-|填充纹理, 需指定雪碧图名称，指定填充纹理会导致填充颜色失效|

##### tooltipObject参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|visibility|false|[Visibility](#visibility参数说明)|'visible'|提示文本是否可见|
|tips|false|[tipsObject](#tipsobject参数说明)|-|提示文本内容，根据语言类型，默认值会有变化|

###### Visibility参数说明

|参数名称|描述|实际值|
|:--|:--|:--:|
|KMap.VISIBILITY.VISIBLE|可见|visible|
|KMap.VISIBILITY.NONE|不可见|none|

###### tipsObject参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|begin|false|string|'按住鼠标拖动绘制'|开始绘制的提示|
|unit|false|string|'公里'|距离单位|

### 示例


```javascript
var circleData;
kmap.drawCircular({
    callback: function (res) {
        if (res.status === 10) {
            circleData = res.data;
        }
    }
});
```


## drawSector

### 描述

在地图上添加几何图形 - 扇形。为了支持每个图形单独配置样式，调用此接口的设置的样式仅对当前图形生效，不会影响其他图形。

### 参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|opts|true|[DrawSectorOptions](#drawsectoroptions参数说明)|-|-|

#### DrawSectorOptions参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|callback|true|[Function](#callback函数参数说明)|-|成功绘制后的回调函数, 返回该几何图形相关信息|
|finally|false|[Function](#finally函数参数说明)|-|结束绘制后的回调函数|
|styles|false|[FeatureStyleOptions](#featurestyleoptions参数说明)|-|配置绘制的颜色|
|featureDraggable|false|boolean|true|编辑图形时是否能够拖拽整个图形|
|tooltip|false|[tooltipObject](#tooltipobject参数说明)|-|提示文本选项|

##### callback函数参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|event|[CallbackEvent](#callbackevent参数说明)|-|图形信息|

###### CallbackEvent参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|status|number|-|10-成功,20-失败|
|data|[dataObject](#dataobject参数说明)|-|几何图形相关信息|

###### dataObject参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|id|string|-|图形id|
|type|固定值(string)-Polygon|-|图形类型|
|coordinates|Array&lt;[LngLat](#lnglat参数说明（类型）)&gt;|-|图形空间信息|

###### LngLat参数说明（类型）

|参数名称|类型|说明|
|:--|:--:|:--|
|LngLat|[number, number]|经纬度坐标|

##### FeatureStyleOptions参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|point-active|false|[PointStyleType](#pointstyletype参数说明)|-|线和面编辑状态下的激活顶点（端点）|
|point-stroke-active|false|[PointStyleType](#pointstyletype参数说明)|-|线和面编辑状态下的激活顶点（端点）外描边|
|polygon-and-line-vertex-inactive|false|[PointStyleType](#pointstyletype参数说明)|-|编辑状态的顶点(端点)|
|polygon-and-line-vertex-stroke-inactive|false|[PointStyleType](#pointstyletype参数说明)|-|编辑状态的顶点(端点)描边|
|polygon-stroke-inactive|false|[LineStyleType](#linestyletype参数说明)|-|非编辑状态的多边形边线|
|polygon-stroke-active|false|[LineStyleType](#linestyletype参数说明)|-|编辑状态的多边形边线|
|polygon-fill-inactive|false|[PolygonStyleType](#polygonstyletype参数说明)|-|非编辑状态的多边形|
|polygon-fill-active|false|[PolygonStyleType](#polygonstyletype参数说明)|-|编辑状态的多边形|

###### PointStyleType参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|circle-radius|false|number|-|半径，要显示顶点外轮廓，需要保证外轮廓半径大于顶点半径，单位px|
|circle-color|false|string|-|颜色，支持 rgb,rgba,16 进制色值,颜色名称|
|circle-blur|false|number|-|模糊度|
|circle-opacity|false|string|-|不透明度，取值范围[0-1]|
|circle-stroke-width|false|number|-|边框宽度，单位px|
|circle-stroke-color|false|string|-|边框颜色，支持 rgb,rgba,16 进制色值,颜色名称|
|circle-stroke-opacity|false|number|-|边框不透明度，取值范围[0-1]|

###### LineStyleType参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|line-color|false|string|-|填充颜色，支持 rgb,rgba,16 进制色值,颜色名称|
|line-opacity|false|number|-|不透明度，取值范围[0-1]|
|line-pattern|false|string|-|填充纹理, 需指定雪碧图名称，指定填充纹理会导致填充颜色失效|
|line-width|false|number|-|宽度，单位px|
|line-gap-width|false|number|-|内部间隙宽度，单位px|
|line-offset|false|number|-|相对于线方向偏移|
|line-blur|false|number|-|模糊度|
|line-dasharray|false|[number, number]|-|虚线线段的长度及间距，例：[0.2, 2]，目前填写此值将会应用蓝色虚线样式，使用后line-color将会失效；设置line-pattern时，line-dasharray将会失效|
|line-dashed|false|boolean|-|线段是否以虚线显示，默认编辑状态是虚线显示，非编辑状态下是实线显示|

###### PolygonStyleType参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|fill-color|false|string|-|填充颜色，支持 rgb,rgba,16 进制色值,颜色名称|
|fill-outline-color|false|number|-|边框颜色，支持 rgb,rgba,16 进制色值,颜色名称|
|fill-opacity|false|number|-|不透明度，取值范围[0-1]|
|fill-pattern|false|string|-|填充纹理, 需指定雪碧图名称，指定填充纹理会导致填充颜色失效|

##### tooltipObject参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|visibility|false|[Visibility](#visibility参数说明)|'visible'|提示文本是否可见|
|tips|false|[tipsObject](#tipsobject参数说明)|-|提示文本内容，根据语言类型，默认值会有变化|

###### Visibility参数说明

|参数名称|描述|实际值|
|:--|:--|:--:|
|KMap.VISIBILITY.VISIBLE|可见|visible|
|KMap.VISIBILITY.NONE|不可见|none|

###### tipsObject参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|begin|false|string|'单击开始绘制'|开始绘制的提示|
|continue|false|string|'单击继续绘制'|继续绘制的提示|
|finish|false|string|'单击结束绘制'|结束绘制的提示|

### 示例


```javascript
var sectorData;
kmap.drawSector({
    callback: function (res) {
        if (res.status === 10) {
            sectorData = res.data;
        }
    }
});
```


## drawArrow

### 描述

在地图上添加几何图形 - 箭头。为了支持每个图形单独配置样式，调用此接口的设置的样式仅对当前图形生效，不会影响其他图形。

### 参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|opts|true|[DrawArrowOptions](#drawarrowoptions参数说明)|-|-|

#### DrawArrowOptions参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|callback|true|[Function](#callback函数参数说明)|-|成功绘制后的回调函数, 返回该几何图形相关信息|
|finally|false|[Function](#finally函数参数说明)|-|结束绘制后的回调函数|
|styles|false|[FeatureStyleOptions](#featurestyleoptions参数说明)|-|配置绘制的颜色|
|featureDraggable|false|boolean|true|编辑图形时是否能够拖拽整个图形|
|tooltip|false|[tooltipObject](#tooltipobject参数说明)|-|提示文本选项|

##### callback函数参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|event|[CallbackEvent](#callbackevent参数说明)|-|图形信息|

###### CallbackEvent参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|status|number|-|10-成功,20-失败|
|data|[dataObject](#dataobject参数说明)|-|几何图形相关信息|

###### dataObject参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|id|string|-|图形id|
|type|固定值(string)-Polygon|-|图形类型|
|coordinates|Array&lt;[LngLat](#lnglat参数说明（类型）)&gt;|-|图形空间信息|

###### LngLat参数说明（类型）

|参数名称|类型|说明|
|:--|:--:|:--|
|LngLat|[number, number]|经纬度坐标|

##### FeatureStyleOptions参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|point-active|false|[PointStyleType](#pointstyletype参数说明)|-|线和面编辑状态下的激活顶点（端点）|
|point-stroke-active|false|[PointStyleType](#pointstyletype参数说明)|-|线和面编辑状态下的激活顶点（端点）外描边|
|polygon-and-line-vertex-inactive|false|[PointStyleType](#pointstyletype参数说明)|-|编辑状态的顶点(端点)|
|polygon-and-line-vertex-stroke-inactive|false|[PointStyleType](#pointstyletype参数说明)|-|编辑状态的顶点(端点)描边|
|polygon-stroke-inactive|false|[LineStyleType](#linestyletype参数说明)|-|非编辑状态的多边形边线|
|polygon-stroke-active|false|[LineStyleType](#linestyletype参数说明)|-|编辑状态的多边形边线|
|polygon-fill-inactive|false|[PolygonStyleType](#polygonstyletype参数说明)|-|非编辑状态的多边形|
|polygon-fill-active|false|[PolygonStyleType](#polygonstyletype参数说明)|-|编辑状态的多边形|

###### PointStyleType参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|circle-radius|false|number|-|半径，要显示顶点外轮廓，需要保证外轮廓半径大于顶点半径，单位px|
|circle-color|false|string|-|颜色，支持 rgb,rgba,16 进制色值,颜色名称|
|circle-blur|false|number|-|模糊度|
|circle-opacity|false|string|-|不透明度，取值范围[0-1]|
|circle-stroke-width|false|number|-|边框宽度，单位px|
|circle-stroke-color|false|string|-|边框颜色，支持 rgb,rgba,16 进制色值,颜色名称|
|circle-stroke-opacity|false|number|-|边框不透明度，取值范围[0-1]|

###### LineStyleType参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|line-color|false|string|-|填充颜色，支持 rgb,rgba,16 进制色值,颜色名称|
|line-opacity|false|number|-|不透明度，取值范围[0-1]|
|line-pattern|false|string|-|填充纹理, 需指定雪碧图名称，指定填充纹理会导致填充颜色失效|
|line-width|false|number|-|宽度，单位px|
|line-gap-width|false|number|-|内部间隙宽度，单位px|
|line-offset|false|number|-|相对于线方向偏移|
|line-blur|false|number|-|模糊度|
|line-dasharray|false|[number, number]|-|虚线线段的长度及间距，例：[0.2, 2]，目前填写此值将会应用蓝色虚线样式，使用后line-color将会失效；设置line-pattern时，line-dasharray将会失效|
|line-dashed|false|boolean|-|线段是否以虚线显示，默认编辑状态是虚线显示，非编辑状态下是实线显示|

###### PolygonStyleType参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|fill-color|false|string|-|填充颜色，支持 rgb,rgba,16 进制色值,颜色名称|
|fill-outline-color|false|number|-|边框颜色，支持 rgb,rgba,16 进制色值,颜色名称|
|fill-opacity|false|number|-|不透明度，取值范围[0-1]|
|fill-pattern|false|string|-|填充纹理, 需指定雪碧图名称，指定填充纹理会导致填充颜色失效|

##### tooltipObject参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|visibility|false|[Visibility](#visibility参数说明)|'visible'|提示文本是否可见|
|tips|false|[tipsObject](#tipsobject参数说明)|-|提示文本内容，根据语言类型，默认值会有变化|

###### Visibility参数说明

|参数名称|描述|实际值|
|:--|:--|:--:|
|KMap.VISIBILITY.VISIBLE|可见|visible|
|KMap.VISIBILITY.NONE|不可见|none|

###### tipsObject参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|begin|false|string|'单击开始绘制'|开始绘制的提示|
|finish|false|string|'单击结束绘制'|结束绘制的提示|

### 示例


```javascript
var arrowData;
kmap.drawArrow({
    callback: function (res) {
        if (res.status === 10) {
            arrowData = res.data;
        }
    }
});
```


## drawPolygon

### 描述

在地图上添加几何图形 - 多边形。为了支持每个图形单独配置样式，调用此接口的设置的样式仅对当前图形生效，不会影响其他图形。（绘制时的边线不可相交）。

### 参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|opts|true|[DrawPolygonOptions](#drawpolygonoptions参数说明)|-|-|

#### DrawPolygonOptions参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|callback|true|[Function](#callback函数参数说明)|-|成功绘制后的回调函数, 返回该几何图形相关信息|
|finally|false|[Function](#finally函数参数说明)|-|结束绘制后的回调函数|
|styles|false|[FeatureStyleOptions](#featurestyleoptions参数说明)|-|配置绘制的颜色|
|featureDraggable|false|boolean|true|编辑图形时是否能够拖拽整个图形|
|capture|false|Array&lt;[CaptureOptions](#captureoptions参数说明)&gt;|-|绘制图形时顶点吸附内容的配置|
|holes|false|boolean|-|是否需要绘制孔洞，开启后绘制完外轮廓线即可绘制孔洞，绘制的孔洞需要在外轮廓线的内部|
|tooltip|false|[tooltipObject](#tooltipobject参数说明)|-|提示文本选项|

##### callback函数参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|event|[CallbackEvent](#callbackevent参数说明)|-|图形信息|

###### CallbackEvent参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|status|number|-|10-成功,20-失败|
|data|[dataObject](#dataobject参数说明)|-|几何图形相关信息|

###### dataObject参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|id|string|-|图形id|
|type|固定值(string)-Polygon|-|图形类型|
|coordinates|Array&lt;[LngLat](#lnglat参数说明（类型）)&gt;|-|图形空间信息|

###### LngLat参数说明（类型）

|参数名称|类型|说明|
|:--|:--:|:--|
|LngLat|[number, number]|经纬度坐标|

##### FeatureStyleOptions参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|point-active|false|[PointStyleType](#pointstyletype参数说明)|-|线和面编辑状态下的激活顶点（端点）|
|point-stroke-active|false|[PointStyleType](#pointstyletype参数说明)|-|线和面编辑状态下的激活顶点（端点）外描边|
|polygon-and-line-vertex-inactive|false|[PointStyleType](#pointstyletype参数说明)|-|编辑状态的顶点(端点)|
|polygon-and-line-vertex-stroke-inactive|false|[PointStyleType](#pointstyletype参数说明)|-|编辑状态的顶点(端点)描边|
|polygon-stroke-inactive|false|[LineStyleType](#linestyletype参数说明)|-|非编辑状态的多边形边线|
|polygon-stroke-active|false|[LineStyleType](#linestyletype参数说明)|-|编辑状态的多边形边线|
|polygon-fill-inactive|false|[PolygonStyleType](#polygonstyletype参数说明)|-|非编辑状态的多边形|
|polygon-fill-active|false|[PolygonStyleType](#polygonstyletype参数说明)|-|编辑状态的多边形|

###### PointStyleType参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|circle-radius|false|number|-|半径，要显示顶点外轮廓，需要保证外轮廓半径大于顶点半径，单位px|
|circle-color|false|string|-|颜色，支持 rgb,rgba,16 进制色值,颜色名称|
|circle-blur|false|number|-|模糊度|
|circle-opacity|false|string|-|不透明度，取值范围[0-1]|
|circle-stroke-width|false|number|-|边框宽度，单位px|
|circle-stroke-color|false|string|-|边框颜色，支持 rgb,rgba,16 进制色值,颜色名称|
|circle-stroke-opacity|false|number|-|边框不透明度，取值范围[0-1]|

###### LineStyleType参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|line-color|false|string|-|填充颜色，支持 rgb,rgba,16 进制色值,颜色名称|
|line-opacity|false|number|-|不透明度，取值范围[0-1]|
|line-pattern|false|string|-|填充纹理, 需指定雪碧图名称，指定填充纹理会导致填充颜色失效|
|line-width|false|number|-|宽度，单位px|
|line-gap-width|false|number|-|内部间隙宽度，单位px|
|line-offset|false|number|-|相对于线方向偏移|
|line-blur|false|number|-|模糊度|
|line-dasharray|false|[number, number]|-|虚线线段的长度及间距，例：[0.2, 2]，目前填写此值将会应用蓝色虚线样式，使用后line-color将会失效；设置line-pattern时，line-dasharray将会失效|
|line-dashed|false|boolean|-|线段是否以虚线显示，默认编辑状态是虚线显示，非编辑状态下是实线显示|

###### PolygonStyleType参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|fill-color|false|string|-|填充颜色，支持 rgb,rgba,16 进制色值,颜色名称|
|fill-outline-color|false|number|-|边框颜色，支持 rgb,rgba,16 进制色值,颜色名称|
|fill-opacity|false|number|-|不透明度，取值范围[0-1]|
|fill-pattern|false|string|-|填充纹理, 需指定雪碧图名称，指定填充纹理会导致填充颜色失效|

##### CaptureOptions参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|layerId|true|string|-|需要吸附的图层的id，支持几何图层和绘制图层，要吸附绘制图层，传入固定值'draw'；可吸附顶点及轮廓线，顶点的吸附范围及优先级更大|

##### tooltipObject参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|visibility|false|[Visibility](#visibility参数说明)|'visible'|提示文本是否可见|
|showPosition|false|boolean|false|是否显示鼠标所在的坐标|
|className|false|string|-|通过 className 来控制样式|
|tips|false|[tipsObject](#tipsobject参数说明)|-|提示文本内容，根据语言类型，默认值会有变化|

###### Visibility参数说明

|参数名称|描述|实际值|
|:--|:--|:--:|
|KMap.VISIBILITY.VISIBLE|可见|visible|
|KMap.VISIBILITY.NONE|不可见|none|

###### tipsObject参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|begin|false|string|'单击开始绘制'|开始绘制的提示|
|beginHoles|false|string|'单击多边形内部开始绘制孔洞，单击多边形外部结束绘制'|开始绘制孔洞的提示|
|continue|false|string|'单击继续绘制'|继续绘制的提示|
|continueHoles|false|string|'单击多边形内部继续绘制孔洞'|继续绘制孔洞的提示|
|finish|false|string|'双击结束绘制'|结束绘制的提示|
|finishOutline|false|string|'双击结束绘制外轮廓线'|结束绘制外轮廓线的提示|
|finishHoles|false|string|'双击结束绘制孔洞'|结束绘制孔洞的提示|
|overflow|false|string|'当前鼠标移出父级辖区边界，请保持在父级辖区内绘制边界点'|当前鼠标移出父级辖区边界|
|overlap|false|string|'当前鼠标移入其他辖区边界，不可绘制边界点'|当前鼠标移入其他辖区边界的提示|


绘制带孔多边形时，绘制的第一条线为多边形轮廓线，后续的线为孔洞。

若绘制的图形存在轮廓线相交，则会显示优化后的结果。

编辑带孔多边形时，单击多边形内部继续添加孔洞，双击添加孔洞顶点，单击多边形外部退出编辑模式。

绘制时若当前线段顶点数大于2，按下Backspace删除上一个绘制的顶点，按下R恢复上次删除的顶点。

编辑时鼠标按下delete,若此时选中顶点则删除顶点，若此时选中孔洞则删除孔洞，否则删除图形。

编辑时鼠标选中顶点时按下delete删除顶点，若当前线段剩余顶点少于3则删除线段，若该线段为外轮廓则删除整个图形。

编辑或绘制孔洞时，若孔洞覆盖整个图形，则会移除当前图形。

### 示例


```javascript
var polygonData;
kmap.drawPolygon({
    callback: function (res) {
        if (res.status === 10) {
            polygonData = res.data;
        }
    }
});
```


## updateCommonEdge

### 描述

将所有图形转为可更新公共顶点的状态；点击线段可在线段上创建顶点，若有多个线段重合，则会在所有线段上创建顶点。

### 参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|opts|true|[UpdateCommonEdgeOptions](#updatecommonedgeoptions参数说明)|-|-|

#### UpdateCommonEdgeOptions参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|callback|true|[Function](#callback函数参数说明)|-|回调函数, 回调参数包含更新后的图形信息|

##### callback函数参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|event|[CallbackEvent](#callbackevent参数说明)|-|图形信息|

###### CallbackEvent参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|status|number|-|10-成功,20-失败|
|data|[FeatureCollectionType](#featurecollectiontype参数说明)|-|更新后的图形信息|

###### FeatureCollectionType参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|type|固定值(string)-FeatureCollection|-|要素类型|
|features|Array&lt;[FeatureType](#featuretype参数说明)&gt;|-|要素集合|

###### FeatureType参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|type|固定值(string)-Feature|-|要素类型|
|properties|object|-|要素自定义属性|
|geometry|[PolygonGeometry](#polygongeometry参数说明)\|[LineStringGeometry](#linestringgeometry参数说明)\|[PointGeometry](#pointgeometry参数说明)\|[MultiLineStringGeometry](#multilinestringgeometry参数说明)\|[MultiPolygonGeometry](#multipolygongeometry参数说明)|-|要素空间信息|

###### PolygonGeometry参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|type|固定值(string)-Polygon|-|要素图形类型|
|coordinates|[PolygonCoordinates](#polygoncoordinates参数说明（类型）)|-|要素空间信息|

###### PolygonCoordinates参数说明（类型）

|参数名称|类型|说明|
|:--|:--:|:--|
|PolygonCoordinates|Array&lt;Array&lt;[LngLat](#lnglat参数说明（类型）)&gt;&gt;|面数据坐标类型|

###### LineStringGeometry参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|type|固定值(string)-LineString|-|要素图形类型|
|coordinates|Array&lt;[LngLat](#lnglat参数说明（类型）)&gt;|-|要素空间信息|

###### LngLat参数说明（类型）

|参数名称|类型|说明|
|:--|:--:|:--|
|LngLat|[number, number]|经纬度坐标|

###### PointGeometry参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|type|固定值(string)-Point|-|要素图形类型|
|coordinates|[LngLat](#lnglat参数说明（类型）)|-|要素空间信息|

###### MultiLineStringGeometry参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|type|固定值(string)-MultiLineString|-|要素图形类型|
|coordinates|Array&lt;Array&lt;[LngLat](#lnglat参数说明（类型）)&gt;&gt;|-|要素空间信息|

###### MultiPolygonGeometry参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|type|固定值(string)-MultiPolygon|-|要素图形类型|
|coordinates|Array&lt;[PolygonCoordinates](#polygoncoordinates参数说明（类型）)&gt;|-|要素空间信息|

### 示例


```javascript
kmap.updateCommonEdge({
    callback: function (res) {
        console.log(res);
    }
});
```


## drawMultiPolygon

### 描述

在地图上添加几何图形 - 多个多边形。为了支持每个图形单独配置样式，调用此接口的设置的样式仅对当前图形生效，不会影响其他图形。

### 参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|opts|true|[DrawMultiPolygonOptions](#drawmultipolygonoptions参数说明)|-|-|

#### DrawMultiPolygonOptions参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|capture|false|Array&lt;[CaptureOptions](#captureoptions参数说明)&gt;|-|绘制图形时顶点吸附内容的配置|
|holes|false|boolean|-|是否需要绘制孔洞，开启后绘制完外轮廓线即可绘制孔洞，绘制的孔洞需要在外轮廓线的内部|
|tooltip|false|[tooltipObject](#tooltipobject参数说明)|-|提示文本选项|
|ended|false|[Function](#ended函数参数说明)|-|单面绘制结束的回调方法|
|callback|true|[Function](#callback函数参数说明)|-|成功绘制后的回调函数, 返回该几何图形相关信息，此函数仅在退出多面绘制状态时（结束多面、再次绘制图形、删除当前图形）调用。|
|finally|false|[Function](#finally函数参数说明)|-|结束绘制后的回调函数，此函数仅在退出多面绘制状态时（结束多面、再次绘制图形、删除当前图形）调用。|
|styles|false|[FeatureStyleOptions](#featurestyleoptions参数说明)|-|配置绘制的颜色|
|featureDraggable|false|boolean|true|编辑图形时是否能够拖拽整个图形|

##### CaptureOptions参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|layerId|true|string|-|需要吸附的图层的id，支持几何图层和绘制图层，要吸附绘制图层，传入固定值'draw'；可吸附顶点及轮廓线，顶点的吸附范围及优先级更大|

##### tooltipObject参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|visibility|false|[Visibility](#visibility参数说明)|'visible'|提示文本是否可见|
|showPosition|false|boolean|false|是否显示鼠标所在的坐标|
|className|false|string|-|通过 className 来控制样式|
|tips|false|[tipsObject](#tipsobject参数说明)|-|提示文本内容，根据语言类型，默认值会有变化|

###### Visibility参数说明

|参数名称|描述|实际值|
|:--|:--|:--:|
|KMap.VISIBILITY.VISIBLE|可见|visible|
|KMap.VISIBILITY.NONE|不可见|none|

###### tipsObject参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|begin|false|string|'单击开始绘制'|开始绘制的提示|
|beginHoles|false|string|'单击多边形内部开始绘制孔洞，单击多边形外部结束绘制'|开始绘制孔洞的提示|
|continue|false|string|'单击继续绘制'|继续绘制的提示|
|continueHoles|false|string|'单击多边形内部继续绘制孔洞'|继续绘制孔洞的提示|
|finish|false|string|'双击结束绘制'|结束绘制的提示|
|finishOutline|false|string|'双击结束绘制外轮廓线'|结束绘制外轮廓线的提示|
|finishHoles|false|string|'双击结束绘制孔洞'|结束绘制孔洞的提示|

##### callback函数参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|event|[CallbackEvent](#callbackevent参数说明)|-|图形信息|

###### CallbackEvent参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|status|number|-|10-成功,20-失败|
|data|[dataObject](#dataobject参数说明)|-|几何图形相关信息|

###### dataObject参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|id|string|-|图形id|
|type|固定值(string)-MultiPolygon|-|图形类型|
|coordinates|Array&lt;Array&lt;Array&lt;[LngLat](#lnglat参数说明（类型）)&gt;&gt;&gt;|-|图形空间信息|

##### FeatureStyleOptions参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|point-active|false|[PointStyleType](#pointstyletype参数说明)|-|线和面编辑状态下的激活顶点（端点）|
|point-stroke-active|false|[PointStyleType](#pointstyletype参数说明)|-|线和面编辑状态下的激活顶点（端点）外描边|
|polygon-and-line-vertex-inactive|false|[PointStyleType](#pointstyletype参数说明)|-|编辑状态的顶点(端点)|
|polygon-and-line-vertex-stroke-inactive|false|[PointStyleType](#pointstyletype参数说明)|-|编辑状态的顶点(端点)描边|
|polygon-stroke-inactive|false|[LineStyleType](#linestyletype参数说明)|-|非编辑状态的多边形边线|
|polygon-stroke-active|false|[LineStyleType](#linestyletype参数说明)|-|编辑状态的多边形边线|
|polygon-fill-inactive|false|[PolygonStyleType](#polygonstyletype参数说明)|-|非编辑状态的多边形|
|polygon-fill-active|false|[PolygonStyleType](#polygonstyletype参数说明)|-|编辑状态的多边形|

###### PointStyleType参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|circle-radius|false|number|-|半径，要显示顶点外轮廓，需要保证外轮廓半径大于顶点半径，单位px|
|circle-color|false|string|-|颜色，支持 rgb,rgba,16 进制色值,颜色名称|
|circle-blur|false|number|-|模糊度|
|circle-opacity|false|string|-|不透明度，取值范围[0-1]|
|circle-stroke-width|false|number|-|边框宽度，单位px|
|circle-stroke-color|false|string|-|边框颜色，支持 rgb,rgba,16 进制色值,颜色名称|
|circle-stroke-opacity|false|number|-|边框不透明度，取值范围[0-1]|

###### LineStyleType参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|line-color|false|string|-|填充颜色，支持 rgb,rgba,16 进制色值,颜色名称|
|line-opacity|false|number|-|不透明度，取值范围[0-1]|
|line-pattern|false|string|-|填充纹理, 需指定雪碧图名称，指定填充纹理会导致填充颜色失效|
|line-width|false|number|-|宽度，单位px|
|line-gap-width|false|number|-|内部间隙宽度，单位px|
|line-offset|false|number|-|相对于线方向偏移|
|line-blur|false|number|-|模糊度|
|line-dasharray|false|[number, number]|-|虚线线段的长度及间距，例：[0.2, 2]，目前填写此值将会应用蓝色虚线样式，使用后line-color将会失效；设置line-pattern时，line-dasharray将会失效|
|line-dashed|false|boolean|-|线段是否以虚线显示，默认编辑状态是虚线显示，非编辑状态下是实线显示|

###### PolygonStyleType参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|fill-color|false|string|-|填充颜色，支持 rgb,rgba,16 进制色值,颜色名称|
|fill-outline-color|false|number|-|边框颜色，支持 rgb,rgba,16 进制色值,颜色名称|
|fill-opacity|false|number|-|不透明度，取值范围[0-1]|
|fill-pattern|false|string|-|填充纹理, 需指定雪碧图名称，指定填充纹理会导致填充颜色失效|


此方法同步返回多面图形id，向这个多面补充面信息时需要传入此id。

每次调用均会生成一个新的多面，调用后开始绘制第一个面，要补充后续图形时，需要调用continueMultiPolygonDrawing接口。

要结束绘制多面，需调用stopMultiPolygonDrawing接口。若在绘制过程中调用绘制图形或删除了此多面，也会自动退出绘制多面。

### 示例


```javascript
kmap.drawMultiPolygon({
    callback: function (res) {
        if (res.status === 10) {
            console.log(res.data);
        }
    }
});
```


## continueMultiPolygonDrawing

### 描述

为已经存在的多面图形补充面信息。

### 参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|opts|true|[ContinueMultiPolygonOptions](#continuemultipolygonoptions参数说明)|-|-|

#### ContinueMultiPolygonOptions参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|id|true|string|-|需要补充面的多面id，通过drawMultiPolygon同步返回|
|tooltip|false|[tooltipObject](#tooltipobject参数说明)|-|提示文本选项|
|ended|false|[Function](#ended函数参数说明)|-|单面绘制结束的回调方法|
|onError|false|[Function](#onerror函数参数说明)|-|错误回调函数|

##### tooltipObject参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|visibility|false|[Visibility](#visibility参数说明)|'visible'|提示文本是否可见|
|tips|false|[tipsObject](#tipsobject参数说明)|-|提示文本内容，根据语言类型，默认值会有变化|

###### Visibility参数说明

|参数名称|描述|实际值|
|:--|:--|:--:|
|KMap.VISIBILITY.VISIBLE|可见|visible|
|KMap.VISIBILITY.NONE|不可见|none|

###### tipsObject参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|begin|false|string|'单击开始绘制'|开始绘制的提示|
|beginHoles|false|string|'单击多边形内部开始绘制孔洞，单击多边形外部结束绘制'|开始绘制孔洞的提示|
|continue|false|string|'单击继续绘制'|继续绘制的提示|
|continueHoles|false|string|'单击多边形内部继续绘制孔洞'|继续绘制孔洞的提示|
|finish|false|string|'双击结束绘制'|结束绘制的提示|
|finishOutline|false|string|'双击结束绘制外轮廓线'|结束绘制外轮廓线的提示|
|finishHoles|false|string|'双击结束绘制孔洞'|结束绘制孔洞的提示|

##### onError函数参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|error|[IErrorCodeInfo](#ierrorcodeinfo参数说明)|-|错误信息|

###### IErrorCodeInfo参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|code|string|-|错误码编号|
|message|string|-|错误信息|

### 示例


```javascript
kmap.continueMultiPolygonDrawing({
    id: 'multi-polygon-id'
});
```


## stopMultiPolygonDrawing

### 描述

退出绘制多面状态，若正在绘制多面图形，则会立即结束。

### 示例


```javascript
kmap.stopMultiPolygonDrawing();
```


## drawEllipse

### 描述

在地图上添加几何图形 - 椭圆形。为了支持每个图形单独配置样式，调用此接口的设置的样式仅对当前图形生效，不会影响其他图形。

### 参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|opts|true|[DrawEllipseOptions](#drawellipseoptions参数说明)|-|-|

#### DrawEllipseOptions参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|callback|true|[Function](#callback函数参数说明)|-|成功绘制后的回调函数, 返回该几何图形相关信息|
|finally|false|[Function](#finally函数参数说明)|-|结束绘制后的回调函数|
|styles|false|[FeatureStyleOptions](#featurestyleoptions参数说明)|-|配置绘制的颜色|
|featureDraggable|false|boolean|true|编辑图形时是否能够拖拽整个图形|
|tooltip|false|[tooltipObject](#tooltipobject参数说明)|-|提示文本选项|

##### callback函数参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|event|[CallbackEvent](#callbackevent参数说明)|-|图形信息|

###### CallbackEvent参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|status|number|-|10-成功,20-失败|
|data|[dataObject](#dataobject参数说明)|-|几何图形相关信息|

###### dataObject参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|id|string|-|图形id|
|type|固定值(string)-Polygon|-|图形类型|
|coordinates|Array&lt;[LngLat](#lnglat参数说明（类型）)&gt;|-|图形空间信息|

###### LngLat参数说明（类型）

|参数名称|类型|说明|
|:--|:--:|:--|
|LngLat|[number, number]|经纬度坐标|

##### FeatureStyleOptions参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|point-active|false|[PointStyleType](#pointstyletype参数说明)|-|线和面编辑状态下的激活顶点（端点）|
|point-stroke-active|false|[PointStyleType](#pointstyletype参数说明)|-|线和面编辑状态下的激活顶点（端点）外描边|
|polygon-and-line-vertex-inactive|false|[PointStyleType](#pointstyletype参数说明)|-|编辑状态的顶点(端点)|
|polygon-and-line-vertex-stroke-inactive|false|[PointStyleType](#pointstyletype参数说明)|-|编辑状态的顶点(端点)描边|
|polygon-stroke-inactive|false|[LineStyleType](#linestyletype参数说明)|-|非编辑状态的多边形边线|
|polygon-stroke-active|false|[LineStyleType](#linestyletype参数说明)|-|编辑状态的多边形边线|
|polygon-fill-inactive|false|[PolygonStyleType](#polygonstyletype参数说明)|-|非编辑状态的多边形|
|polygon-fill-active|false|[PolygonStyleType](#polygonstyletype参数说明)|-|编辑状态的多边形|

###### PointStyleType参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|circle-radius|false|number|-|半径，要显示顶点外轮廓，需要保证外轮廓半径大于顶点半径，单位px|
|circle-color|false|string|-|颜色，支持 rgb,rgba,16 进制色值,颜色名称|
|circle-blur|false|number|-|模糊度|
|circle-opacity|false|string|-|不透明度，取值范围[0-1]|
|circle-stroke-width|false|number|-|边框宽度，单位px|
|circle-stroke-color|false|string|-|边框颜色，支持 rgb,rgba,16 进制色值,颜色名称|
|circle-stroke-opacity|false|number|-|边框不透明度，取值范围[0-1]|

###### LineStyleType参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|line-color|false|string|-|填充颜色，支持 rgb,rgba,16 进制色值,颜色名称|
|line-opacity|false|number|-|不透明度，取值范围[0-1]|
|line-pattern|false|string|-|填充纹理, 需指定雪碧图名称，指定填充纹理会导致填充颜色失效|
|line-width|false|number|-|宽度，单位px|
|line-gap-width|false|number|-|内部间隙宽度，单位px|
|line-offset|false|number|-|相对于线方向偏移|
|line-blur|false|number|-|模糊度|
|line-dasharray|false|[number, number]|-|虚线线段的长度及间距，例：[0.2, 2]，目前填写此值将会应用蓝色虚线样式，使用后line-color将会失效；设置line-pattern时，line-dasharray将会失效|
|line-dashed|false|boolean|-|线段是否以虚线显示，默认编辑状态是虚线显示，非编辑状态下是实线显示|

###### PolygonStyleType参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|fill-color|false|string|-|填充颜色，支持 rgb,rgba,16 进制色值,颜色名称|
|fill-outline-color|false|number|-|边框颜色，支持 rgb,rgba,16 进制色值,颜色名称|
|fill-opacity|false|number|-|不透明度，取值范围[0-1]|
|fill-pattern|false|string|-|填充纹理, 需指定雪碧图名称，指定填充纹理会导致填充颜色失效|

##### tooltipObject参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|visibility|false|[Visibility](#visibility参数说明)|'visible'|提示文本是否可见|
|tips|false|[tipsObject](#tipsobject参数说明)|-|提示文本内容，根据语言类型，默认值会有变化|

###### Visibility参数说明

|参数名称|描述|实际值|
|:--|:--|:--:|
|KMap.VISIBILITY.VISIBLE|可见|visible|
|KMap.VISIBILITY.NONE|不可见|none|

###### tipsObject参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|begin|false|string|'按住鼠标拖动绘制'|开始绘制的提示|
|releaseToFinish|false|string|'松开鼠标结束绘制'|松开鼠标结束绘制的提示|

### 示例


```javascript
kmap.drawEllipse({
    callback: function (res) {
        if (res.status === 10) {
            console.log(res.data);
        }
    }
});
```


## drawBezierArrow

### 描述

在地图上添加几何图形 - 贝塞尔箭头。为了支持每个图形单独配置样式，调用此接口的设置的样式仅对当前图形生效，不会影响其他图形。

### 参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|opts|true|[DrawBezierArrowOptions](#drawbezierarrowoptions参数说明)|-|-|

#### DrawBezierArrowOptions参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|callback|true|[Function](#callback函数参数说明)|-|成功绘制后的回调函数, 返回该几何图形相关信息|
|finally|false|[Function](#finally函数参数说明)|-|结束绘制后的回调函数|
|styles|false|[FeatureStyleOptions](#featurestyleoptions参数说明)|-|配置绘制的颜色|
|featureDraggable|false|boolean|true|编辑图形时是否能够拖拽整个图形|
|triangleStyle|false|[triangleStyleObject](#trianglestyleobject参数说明)|-|三角形箭头的大小|
|tooltip|false|[tooltipObject](#tooltipobject参数说明)|-|提示文本选项|

##### callback函数参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|event|[CallbackEvent](#callbackevent参数说明)|-|图形信息|

###### CallbackEvent参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|status|number|-|10-成功,20-失败|
|data|[dataObject](#dataobject参数说明)|-|几何图形相关信息|

###### dataObject参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|nodes|Array&lt;[LngLat](#lnglat参数说明（类型）)&gt;|-|顶点数据|
|geojson|[FeatureCollectionType](#featurecollectiontype参数说明)|-|曲线和三角形面组成的集合|

###### LngLat参数说明（类型）

|参数名称|类型|说明|
|:--|:--:|:--|
|LngLat|[number, number]|经纬度坐标|

###### FeatureCollectionType参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|type|固定值(string)-FeatureCollection|-|要素类型|
|features|Array&lt;[FeatureType](#featuretype参数说明)&gt;|-|要素集合|

###### FeatureType参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|type|固定值(string)-Feature|-|要素类型|
|properties|object|-|要素自定义属性|
|geometry|[PolygonGeometry](#polygongeometry参数说明)\|[LineStringGeometry](#linestringgeometry参数说明)\|[PointGeometry](#pointgeometry参数说明)\|[MultiLineStringGeometry](#multilinestringgeometry参数说明)\|[MultiPolygonGeometry](#multipolygongeometry参数说明)|-|要素空间信息|

###### PolygonGeometry参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|type|固定值(string)-Polygon|-|要素图形类型|
|coordinates|[PolygonCoordinates](#polygoncoordinates参数说明（类型）)|-|要素空间信息|

###### PolygonCoordinates参数说明（类型）

|参数名称|类型|说明|
|:--|:--:|:--|
|PolygonCoordinates|Array&lt;Array&lt;[LngLat](#lnglat参数说明（类型）)&gt;&gt;|面数据坐标类型|

###### LineStringGeometry参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|type|固定值(string)-LineString|-|要素图形类型|
|coordinates|Array&lt;[LngLat](#lnglat参数说明（类型）)&gt;|-|要素空间信息|

###### PointGeometry参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|type|固定值(string)-Point|-|要素图形类型|
|coordinates|[LngLat](#lnglat参数说明（类型）)|-|要素空间信息|

###### MultiLineStringGeometry参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|type|固定值(string)-MultiLineString|-|要素图形类型|
|coordinates|Array&lt;Array&lt;[LngLat](#lnglat参数说明（类型）)&gt;&gt;|-|要素空间信息|

###### MultiPolygonGeometry参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|type|固定值(string)-MultiPolygon|-|要素图形类型|
|coordinates|Array&lt;[PolygonCoordinates](#polygoncoordinates参数说明（类型）)&gt;|-|要素空间信息|

##### FeatureStyleOptions参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|point-active|false|[PointStyleType](#pointstyletype参数说明)|-|线和面编辑状态下的激活顶点（端点）|
|point-stroke-active|false|[PointStyleType](#pointstyletype参数说明)|-|线和面编辑状态下的激活顶点（端点）外描边|
|polygon-and-line-vertex-inactive|false|[PointStyleType](#pointstyletype参数说明)|-|编辑状态的顶点(端点)|
|polygon-and-line-vertex-stroke-inactive|false|[PointStyleType](#pointstyletype参数说明)|-|编辑状态的顶点(端点)描边|
|polygon-stroke-inactive|false|[LineStyleType](#linestyletype参数说明)|-|非编辑状态的多边形边线|
|polygon-stroke-active|false|[LineStyleType](#linestyletype参数说明)|-|编辑状态的多边形边线|
|polygon-fill-inactive|false|[PolygonStyleType](#polygonstyletype参数说明)|-|非编辑状态的多边形|
|polygon-fill-active|false|[PolygonStyleType](#polygonstyletype参数说明)|-|编辑状态的多边形|

###### PointStyleType参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|circle-radius|false|number|-|半径，要显示顶点外轮廓，需要保证外轮廓半径大于顶点半径，单位px|
|circle-color|false|string|-|颜色，支持 rgb,rgba,16 进制色值,颜色名称|
|circle-blur|false|number|-|模糊度|
|circle-opacity|false|string|-|不透明度，取值范围[0-1]|
|circle-stroke-width|false|number|-|边框宽度，单位px|
|circle-stroke-color|false|string|-|边框颜色，支持 rgb,rgba,16 进制色值,颜色名称|
|circle-stroke-opacity|false|number|-|边框不透明度，取值范围[0-1]|

###### LineStyleType参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|line-color|false|string|-|填充颜色，支持 rgb,rgba,16 进制色值,颜色名称|
|line-opacity|false|number|-|不透明度，取值范围[0-1]|
|line-pattern|false|string|-|填充纹理, 需指定雪碧图名称，指定填充纹理会导致填充颜色失效|
|line-width|false|number|-|宽度，单位px|
|line-gap-width|false|number|-|内部间隙宽度，单位px|
|line-offset|false|number|-|相对于线方向偏移|
|line-blur|false|number|-|模糊度|
|line-dasharray|false|[number, number]|-|虚线线段的长度及间距，例：[0.2, 2]，目前填写此值将会应用蓝色虚线样式，使用后line-color将会失效；设置line-pattern时，line-dasharray将会失效|
|line-dashed|false|boolean|-|线段是否以虚线显示，默认编辑状态是虚线显示，非编辑状态下是实线显示|

###### PolygonStyleType参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|fill-color|false|string|-|填充颜色，支持 rgb,rgba,16 进制色值,颜色名称|
|fill-outline-color|false|number|-|边框颜色，支持 rgb,rgba,16 进制色值,颜色名称|
|fill-opacity|false|number|-|不透明度，取值范围[0-1]|
|fill-pattern|false|string|-|填充纹理, 需指定雪碧图名称，指定填充纹理会导致填充颜色失效|

##### triangleStyleObject参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|width|false|number|30|三角形底边的宽度，单位像素|
|height|false|number|30|三角形顶点距离底边的高度，单位像素|
|arrowType|false|[ArrowType](#arrowtype参数说明)|KMap.ARROW_TYPE.TRIANGLE|箭头的风格，默认是三角形|

###### ArrowType参数说明

|参数名称|描述|实际值|
|:--|:--|:--:|
|KMap.ARROW_TYPE.TRIANGLE|三角形箭头|triangle|
|KMap.ARROW_TYPE.POLYLINE|折线箭头|polyline|

##### tooltipObject参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|visibility|false|[Visibility](#visibility参数说明)|'visible'|提示文本是否可见|
|tips|false|[tipsObject](#tipsobject参数说明)|-|提示文本内容，根据语言类型，默认值会有变化|

###### Visibility参数说明

|参数名称|描述|实际值|
|:--|:--|:--:|
|KMap.VISIBILITY.VISIBLE|可见|visible|
|KMap.VISIBILITY.NONE|不可见|none|

###### tipsObject参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|begin|false|string|'单击开始绘制'|开始绘制的提示|
|finish|false|string|'双击结束绘制'|结束绘制的提示|

### 示例


```javascript
kmap.drawBezierArrow({
    callback: function (res) {
        if (res.status === 10) {
            console.log(res.data);
        }
    }
});
```


## drawLune

### 描述

在地图上添加几何图形 - 弓形。为了支持每个图形单独配置样式，调用此接口的设置的样式仅对当前图形生效，不会影响其他图形。

### 参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|opts|true|[DrawLuneOptions](#drawluneoptions参数说明)|-|-|

#### DrawLuneOptions参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|callback|true|[Function](#callback函数参数说明)|-|成功绘制后的回调函数, 返回该几何图形相关信息|
|finally|false|[Function](#finally函数参数说明)|-|结束绘制后的回调函数|
|styles|false|[FeatureStyleOptions](#featurestyleoptions参数说明)|-|配置绘制的颜色|
|featureDraggable|false|boolean|true|编辑图形时是否能够拖拽整个图形|
|tooltip|false|[tooltipObject](#tooltipobject参数说明)|-|提示文本选项|

##### callback函数参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|event|[CallbackEvent](#callbackevent参数说明)|-|图形信息|

###### CallbackEvent参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|status|number|-|10-成功,20-失败|
|data|[dataObject](#dataobject参数说明)|-|几何图形相关信息|

###### dataObject参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|nodes|Array&lt;[LngLat](#lnglat参数说明（类型）)&gt;|-|顶点数据|
|geojson|[FeatureCollectionType](#featurecollectiontype参数说明)|-|要素集|

###### LngLat参数说明（类型）

|参数名称|类型|说明|
|:--|:--:|:--|
|LngLat|[number, number]|经纬度坐标|

###### FeatureCollectionType参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|type|固定值(string)-FeatureCollection|-|要素类型|
|features|Array&lt;[FeatureType](#featuretype参数说明)&gt;|-|要素集合|

###### FeatureType参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|type|固定值(string)-Feature|-|要素类型|
|properties|object|-|要素自定义属性|
|geometry|[PolygonGeometry](#polygongeometry参数说明)\|[LineStringGeometry](#linestringgeometry参数说明)\|[PointGeometry](#pointgeometry参数说明)\|[MultiLineStringGeometry](#multilinestringgeometry参数说明)\|[MultiPolygonGeometry](#multipolygongeometry参数说明)|-|要素空间信息|

###### PolygonGeometry参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|type|固定值(string)-Polygon|-|要素图形类型|
|coordinates|[PolygonCoordinates](#polygoncoordinates参数说明（类型）)|-|要素空间信息|

###### PolygonCoordinates参数说明（类型）

|参数名称|类型|说明|
|:--|:--:|:--|
|PolygonCoordinates|Array&lt;Array&lt;[LngLat](#lnglat参数说明（类型）)&gt;&gt;|面数据坐标类型|

###### LineStringGeometry参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|type|固定值(string)-LineString|-|要素图形类型|
|coordinates|Array&lt;[LngLat](#lnglat参数说明（类型）)&gt;|-|要素空间信息|

###### PointGeometry参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|type|固定值(string)-Point|-|要素图形类型|
|coordinates|[LngLat](#lnglat参数说明（类型）)|-|要素空间信息|

###### MultiLineStringGeometry参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|type|固定值(string)-MultiLineString|-|要素图形类型|
|coordinates|Array&lt;Array&lt;[LngLat](#lnglat参数说明（类型）)&gt;&gt;|-|要素空间信息|

###### MultiPolygonGeometry参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|type|固定值(string)-MultiPolygon|-|要素图形类型|
|coordinates|Array&lt;[PolygonCoordinates](#polygoncoordinates参数说明（类型）)&gt;|-|要素空间信息|

##### FeatureStyleOptions参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|point-active|false|[PointStyleType](#pointstyletype参数说明)|-|线和面编辑状态下的激活顶点（端点）|
|point-stroke-active|false|[PointStyleType](#pointstyletype参数说明)|-|线和面编辑状态下的激活顶点（端点）外描边|
|polygon-and-line-vertex-inactive|false|[PointStyleType](#pointstyletype参数说明)|-|编辑状态的顶点(端点)|
|polygon-and-line-vertex-stroke-inactive|false|[PointStyleType](#pointstyletype参数说明)|-|编辑状态的顶点(端点)描边|
|polygon-stroke-inactive|false|[LineStyleType](#linestyletype参数说明)|-|非编辑状态的多边形边线|
|polygon-stroke-active|false|[LineStyleType](#linestyletype参数说明)|-|编辑状态的多边形边线|
|polygon-fill-inactive|false|[PolygonStyleType](#polygonstyletype参数说明)|-|非编辑状态的多边形|
|polygon-fill-active|false|[PolygonStyleType](#polygonstyletype参数说明)|-|编辑状态的多边形|

###### PointStyleType参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|circle-radius|false|number|-|半径，要显示顶点外轮廓，需要保证外轮廓半径大于顶点半径，单位px|
|circle-color|false|string|-|颜色，支持 rgb,rgba,16 进制色值,颜色名称|
|circle-blur|false|number|-|模糊度|
|circle-opacity|false|string|-|不透明度，取值范围[0-1]|
|circle-stroke-width|false|number|-|边框宽度，单位px|
|circle-stroke-color|false|string|-|边框颜色，支持 rgb,rgba,16 进制色值,颜色名称|
|circle-stroke-opacity|false|number|-|边框不透明度，取值范围[0-1]|

###### LineStyleType参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|line-color|false|string|-|填充颜色，支持 rgb,rgba,16 进制色值,颜色名称|
|line-opacity|false|number|-|不透明度，取值范围[0-1]|
|line-pattern|false|string|-|填充纹理, 需指定雪碧图名称，指定填充纹理会导致填充颜色失效|
|line-width|false|number|-|宽度，单位px|
|line-gap-width|false|number|-|内部间隙宽度，单位px|
|line-offset|false|number|-|相对于线方向偏移|
|line-blur|false|number|-|模糊度|
|line-dasharray|false|[number, number]|-|虚线线段的长度及间距，例：[0.2, 2]，目前填写此值将会应用蓝色虚线样式，使用后line-color将会失效；设置line-pattern时，line-dasharray将会失效|
|line-dashed|false|boolean|-|线段是否以虚线显示，默认编辑状态是虚线显示，非编辑状态下是实线显示|

###### PolygonStyleType参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|fill-color|false|string|-|填充颜色，支持 rgb,rgba,16 进制色值,颜色名称|
|fill-outline-color|false|number|-|边框颜色，支持 rgb,rgba,16 进制色值,颜色名称|
|fill-opacity|false|number|-|不透明度，取值范围[0-1]|
|fill-pattern|false|string|-|填充纹理, 需指定雪碧图名称，指定填充纹理会导致填充颜色失效|

##### tooltipObject参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|visibility|false|[Visibility](#visibility参数说明)|'visible'|提示文本是否可见|
|tips|false|[tipsObject](#tipsobject参数说明)|-|提示文本内容，根据语言类型，默认值会有变化|

###### Visibility参数说明

|参数名称|描述|实际值|
|:--|:--|:--:|
|KMap.VISIBILITY.VISIBLE|可见|visible|
|KMap.VISIBILITY.NONE|不可见|none|

###### tipsObject参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|begin|false|string|'单击开始绘制'|开始绘制的提示|
|continue|false|string|'单击继续绘制'|继续绘制的提示|
|finish|false|string|'单击结束绘制'|结束绘制的提示|

### 示例


```javascript
kmap.drawLune({
    callback: function (res) {
        if (res.status === 10) {
            console.log(res.data);
        }
    }
});
```


## drawDoubleArrow

### 描述

在地图上添加几何图形 - 画双箭头。为了支持每个图形单独配置样式，调用此接口的设置的样式仅对当前图形生效，不会影响其他图形。

### 参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|opts|true|[DrawDoubleArrowOptions](#drawdoublearrowoptions参数说明)|-|-|

#### DrawDoubleArrowOptions参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|callback|true|[Function](#callback函数参数说明)|-|成功绘制后的回调函数, 返回该几何图形相关信息|
|finally|false|[Function](#finally函数参数说明)|-|结束绘制后的回调函数|
|styles|false|[FeatureStyleOptions](#featurestyleoptions参数说明)|-|配置绘制的颜色|
|featureDraggable|false|boolean|true|编辑图形时是否能够拖拽整个图形|
|tooltip|false|[tooltipObject](#tooltipobject参数说明)|-|提示文本选项|

##### callback函数参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|event|[CallbackEvent](#callbackevent参数说明)|-|图形信息|

###### CallbackEvent参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|status|number|-|10-成功,20-失败|
|data|[dataObject](#dataobject参数说明)|-|几何图形相关信息|

###### dataObject参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|nodes|Array&lt;[LngLat](#lnglat参数说明（类型）)&gt;|-|顶点数据|
|geojson|[FeatureCollectionType](#featurecollectiontype参数说明)|-|要素集|

###### LngLat参数说明（类型）

|参数名称|类型|说明|
|:--|:--:|:--|
|LngLat|[number, number]|经纬度坐标|

###### FeatureCollectionType参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|type|固定值(string)-FeatureCollection|-|要素类型|
|features|Array&lt;[FeatureType](#featuretype参数说明)&gt;|-|要素集合|

###### FeatureType参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|type|固定值(string)-Feature|-|要素类型|
|properties|object|-|要素自定义属性|
|geometry|[PolygonGeometry](#polygongeometry参数说明)\|[LineStringGeometry](#linestringgeometry参数说明)\|[PointGeometry](#pointgeometry参数说明)\|[MultiLineStringGeometry](#multilinestringgeometry参数说明)\|[MultiPolygonGeometry](#multipolygongeometry参数说明)|-|要素空间信息|

###### PolygonGeometry参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|type|固定值(string)-Polygon|-|要素图形类型|
|coordinates|[PolygonCoordinates](#polygoncoordinates参数说明（类型）)|-|要素空间信息|

###### PolygonCoordinates参数说明（类型）

|参数名称|类型|说明|
|:--|:--:|:--|
|PolygonCoordinates|Array&lt;Array&lt;[LngLat](#lnglat参数说明（类型）)&gt;&gt;|面数据坐标类型|

###### LineStringGeometry参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|type|固定值(string)-LineString|-|要素图形类型|
|coordinates|Array&lt;[LngLat](#lnglat参数说明（类型）)&gt;|-|要素空间信息|

###### PointGeometry参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|type|固定值(string)-Point|-|要素图形类型|
|coordinates|[LngLat](#lnglat参数说明（类型）)|-|要素空间信息|

###### MultiLineStringGeometry参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|type|固定值(string)-MultiLineString|-|要素图形类型|
|coordinates|Array&lt;Array&lt;[LngLat](#lnglat参数说明（类型）)&gt;&gt;|-|要素空间信息|

###### MultiPolygonGeometry参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|type|固定值(string)-MultiPolygon|-|要素图形类型|
|coordinates|Array&lt;[PolygonCoordinates](#polygoncoordinates参数说明（类型）)&gt;|-|要素空间信息|

##### FeatureStyleOptions参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|point-active|false|[PointStyleType](#pointstyletype参数说明)|-|线和面编辑状态下的激活顶点（端点）|
|point-stroke-active|false|[PointStyleType](#pointstyletype参数说明)|-|线和面编辑状态下的激活顶点（端点）外描边|
|polygon-and-line-vertex-inactive|false|[PointStyleType](#pointstyletype参数说明)|-|编辑状态的顶点(端点)|
|polygon-and-line-vertex-stroke-inactive|false|[PointStyleType](#pointstyletype参数说明)|-|编辑状态的顶点(端点)描边|
|polygon-stroke-inactive|false|[LineStyleType](#linestyletype参数说明)|-|非编辑状态的多边形边线|
|polygon-stroke-active|false|[LineStyleType](#linestyletype参数说明)|-|编辑状态的多边形边线|
|polygon-fill-inactive|false|[PolygonStyleType](#polygonstyletype参数说明)|-|非编辑状态的多边形|
|polygon-fill-active|false|[PolygonStyleType](#polygonstyletype参数说明)|-|编辑状态的多边形|

###### PointStyleType参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|circle-radius|false|number|-|半径，要显示顶点外轮廓，需要保证外轮廓半径大于顶点半径，单位px|
|circle-color|false|string|-|颜色，支持 rgb,rgba,16 进制色值,颜色名称|
|circle-blur|false|number|-|模糊度|
|circle-opacity|false|string|-|不透明度，取值范围[0-1]|
|circle-stroke-width|false|number|-|边框宽度，单位px|
|circle-stroke-color|false|string|-|边框颜色，支持 rgb,rgba,16 进制色值,颜色名称|
|circle-stroke-opacity|false|number|-|边框不透明度，取值范围[0-1]|

###### LineStyleType参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|line-color|false|string|-|填充颜色，支持 rgb,rgba,16 进制色值,颜色名称|
|line-opacity|false|number|-|不透明度，取值范围[0-1]|
|line-pattern|false|string|-|填充纹理, 需指定雪碧图名称，指定填充纹理会导致填充颜色失效|
|line-width|false|number|-|宽度，单位px|
|line-gap-width|false|number|-|内部间隙宽度，单位px|
|line-offset|false|number|-|相对于线方向偏移|
|line-blur|false|number|-|模糊度|
|line-dasharray|false|[number, number]|-|虚线线段的长度及间距，例：[0.2, 2]，目前填写此值将会应用蓝色虚线样式，使用后line-color将会失效；设置line-pattern时，line-dasharray将会失效|
|line-dashed|false|boolean|-|线段是否以虚线显示，默认编辑状态是虚线显示，非编辑状态下是实线显示|

###### PolygonStyleType参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|fill-color|false|string|-|填充颜色，支持 rgb,rgba,16 进制色值,颜色名称|
|fill-outline-color|false|number|-|边框颜色，支持 rgb,rgba,16 进制色值,颜色名称|
|fill-opacity|false|number|-|不透明度，取值范围[0-1]|
|fill-pattern|false|string|-|填充纹理, 需指定雪碧图名称，指定填充纹理会导致填充颜色失效|

##### tooltipObject参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|visibility|false|[Visibility](#visibility参数说明)|'visible'|提示文本是否可见|
|tips|false|[tipsObject](#tipsobject参数说明)|-|提示文本内容，根据语言类型，默认值会有变化|

###### Visibility参数说明

|参数名称|描述|实际值|
|:--|:--|:--:|
|KMap.VISIBILITY.VISIBLE|可见|visible|
|KMap.VISIBILITY.NONE|不可见|none|

###### tipsObject参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|begin|false|string|'单击开始绘制'|开始绘制的提示|
|continue|false|string|'单击继续绘制'|继续绘制的提示|
|finish|false|string|'单击结束绘制'|结束绘制的提示|

### 示例


```javascript
kmap.drawDoubleArrow({
    callback: function (res) {
        if (res.status === 10) {
            console.log(res.data);
        }
    }
});
```


## drawAttackArrow

### 描述

在地图上添加几何图形 - 进攻方向箭头。为了支持每个图形单独配置样式，调用此接口的设置的样式仅对当前图形生效，不会影响其他图形。

### 参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|opts|true|[DrawAttackArrowOptions](#drawattackarrowoptions参数说明)|-|-|

#### DrawAttackArrowOptions参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|callback|true|[Function](#callback函数参数说明)|-|成功绘制后的回调函数, 返回该几何图形相关信息|
|finally|false|[Function](#finally函数参数说明)|-|结束绘制后的回调函数|
|styles|false|[FeatureStyleOptions](#featurestyleoptions参数说明)|-|配置绘制的颜色|
|featureDraggable|false|boolean|true|编辑图形时是否能够拖拽整个图形|
|tooltip|false|[tooltipObject](#tooltipobject参数说明)|-|提示文本选项|

##### callback函数参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|event|[CallbackEvent](#callbackevent参数说明)|-|图形信息|

###### CallbackEvent参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|status|number|-|10-成功,20-失败|
|data|[dataObject](#dataobject参数说明)|-|几何图形相关信息|

###### dataObject参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|nodes|Array&lt;[LngLat](#lnglat参数说明（类型）)&gt;|-|顶点数据|
|geojson|[FeatureCollectionType](#featurecollectiontype参数说明)|-|要素集|

###### LngLat参数说明（类型）

|参数名称|类型|说明|
|:--|:--:|:--|
|LngLat|[number, number]|经纬度坐标|

###### FeatureCollectionType参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|type|固定值(string)-FeatureCollection|-|要素类型|
|features|Array&lt;[FeatureType](#featuretype参数说明)&gt;|-|要素集合|

###### FeatureType参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|type|固定值(string)-Feature|-|要素类型|
|properties|object|-|要素自定义属性|
|geometry|[PolygonGeometry](#polygongeometry参数说明)\|[LineStringGeometry](#linestringgeometry参数说明)\|[PointGeometry](#pointgeometry参数说明)\|[MultiLineStringGeometry](#multilinestringgeometry参数说明)\|[MultiPolygonGeometry](#multipolygongeometry参数说明)|-|要素空间信息|

###### PolygonGeometry参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|type|固定值(string)-Polygon|-|要素图形类型|
|coordinates|[PolygonCoordinates](#polygoncoordinates参数说明（类型）)|-|要素空间信息|

###### PolygonCoordinates参数说明（类型）

|参数名称|类型|说明|
|:--|:--:|:--|
|PolygonCoordinates|Array&lt;Array&lt;[LngLat](#lnglat参数说明（类型）)&gt;&gt;|面数据坐标类型|

###### LineStringGeometry参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|type|固定值(string)-LineString|-|要素图形类型|
|coordinates|Array&lt;[LngLat](#lnglat参数说明（类型）)&gt;|-|要素空间信息|

###### PointGeometry参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|type|固定值(string)-Point|-|要素图形类型|
|coordinates|[LngLat](#lnglat参数说明（类型）)|-|要素空间信息|

###### MultiLineStringGeometry参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|type|固定值(string)-MultiLineString|-|要素图形类型|
|coordinates|Array&lt;Array&lt;[LngLat](#lnglat参数说明（类型）)&gt;&gt;|-|要素空间信息|

###### MultiPolygonGeometry参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|type|固定值(string)-MultiPolygon|-|要素图形类型|
|coordinates|Array&lt;[PolygonCoordinates](#polygoncoordinates参数说明（类型）)&gt;|-|要素空间信息|

##### FeatureStyleOptions参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|point-active|false|[PointStyleType](#pointstyletype参数说明)|-|线和面编辑状态下的激活顶点（端点）|
|point-stroke-active|false|[PointStyleType](#pointstyletype参数说明)|-|线和面编辑状态下的激活顶点（端点）外描边|
|polygon-and-line-vertex-inactive|false|[PointStyleType](#pointstyletype参数说明)|-|编辑状态的顶点(端点)|
|polygon-and-line-vertex-stroke-inactive|false|[PointStyleType](#pointstyletype参数说明)|-|编辑状态的顶点(端点)描边|
|polygon-stroke-inactive|false|[LineStyleType](#linestyletype参数说明)|-|非编辑状态的多边形边线|
|polygon-stroke-active|false|[LineStyleType](#linestyletype参数说明)|-|编辑状态的多边形边线|
|polygon-fill-inactive|false|[PolygonStyleType](#polygonstyletype参数说明)|-|非编辑状态的多边形|
|polygon-fill-active|false|[PolygonStyleType](#polygonstyletype参数说明)|-|编辑状态的多边形|

###### PointStyleType参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|circle-radius|false|number|-|半径，要显示顶点外轮廓，需要保证外轮廓半径大于顶点半径，单位px|
|circle-color|false|string|-|颜色，支持 rgb,rgba,16 进制色值,颜色名称|
|circle-blur|false|number|-|模糊度|
|circle-opacity|false|string|-|不透明度，取值范围[0-1]|
|circle-stroke-width|false|number|-|边框宽度，单位px|
|circle-stroke-color|false|string|-|边框颜色，支持 rgb,rgba,16 进制色值,颜色名称|
|circle-stroke-opacity|false|number|-|边框不透明度，取值范围[0-1]|

###### LineStyleType参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|line-color|false|string|-|填充颜色，支持 rgb,rgba,16 进制色值,颜色名称|
|line-opacity|false|number|-|不透明度，取值范围[0-1]|
|line-pattern|false|string|-|填充纹理, 需指定雪碧图名称，指定填充纹理会导致填充颜色失效|
|line-width|false|number|-|宽度，单位px|
|line-gap-width|false|number|-|内部间隙宽度，单位px|
|line-offset|false|number|-|相对于线方向偏移|
|line-blur|false|number|-|模糊度|
|line-dasharray|false|[number, number]|-|虚线线段的长度及间距，例：[0.2, 2]，目前填写此值将会应用蓝色虚线样式，使用后line-color将会失效；设置line-pattern时，line-dasharray将会失效|
|line-dashed|false|boolean|-|线段是否以虚线显示，默认编辑状态是虚线显示，非编辑状态下是实线显示|

###### PolygonStyleType参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|fill-color|false|string|-|填充颜色，支持 rgb,rgba,16 进制色值,颜色名称|
|fill-outline-color|false|number|-|边框颜色，支持 rgb,rgba,16 进制色值,颜色名称|
|fill-opacity|false|number|-|不透明度，取值范围[0-1]|
|fill-pattern|false|string|-|填充纹理, 需指定雪碧图名称，指定填充纹理会导致填充颜色失效|

##### tooltipObject参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|visibility|false|[Visibility](#visibility参数说明)|'visible'|提示文本是否可见|
|tips|false|[tipsObject](#tipsobject参数说明)|-|提示文本内容，根据语言类型，默认值会有变化|

###### Visibility参数说明

|参数名称|描述|实际值|
|:--|:--|:--:|
|KMap.VISIBILITY.VISIBLE|可见|visible|
|KMap.VISIBILITY.NONE|不可见|none|

###### tipsObject参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|begin|false|string|'单击开始绘制'|开始绘制的提示|
|continue|false|string|'单击继续绘制'|继续绘制的提示|
|finish|false|string|'双击结束绘制'|结束绘制的提示|

### 示例


```javascript
kmap.drawAttackArrow({
    callback: function (res) {
        if (res.status === 10) {
            console.log(res.data);
        }
    }
});
```


## drawSwallowTailAttackArrow

### 描述

在地图上添加几何图形 - 燕尾进攻方向箭头。为了支持每个图形单独配置样式，调用此接口的设置的样式仅对当前图形生效，不会影响其他图形。

### 参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|opts|true|[DrawSwallowTailAttackArrowOptions](#drawswallowtailattackarrowoptions参数说明)|-|-|

#### DrawSwallowTailAttackArrowOptions参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|callback|true|[Function](#callback函数参数说明)|-|成功绘制后的回调函数, 返回该几何图形相关信息|
|finally|false|[Function](#finally函数参数说明)|-|结束绘制后的回调函数|
|styles|false|[FeatureStyleOptions](#featurestyleoptions参数说明)|-|配置绘制的颜色|
|featureDraggable|false|boolean|true|编辑图形时是否能够拖拽整个图形|
|tooltip|false|[tooltipObject](#tooltipobject参数说明)|-|提示文本选项|

##### callback函数参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|event|[CallbackEvent](#callbackevent参数说明)|-|图形信息|

###### CallbackEvent参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|status|number|-|10-成功,20-失败|
|data|[dataObject](#dataobject参数说明)|-|几何图形相关信息|

###### dataObject参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|nodes|Array&lt;[LngLat](#lnglat参数说明（类型）)&gt;|-|顶点数据|
|geojson|[FeatureCollectionType](#featurecollectiontype参数说明)|-|要素集|

###### LngLat参数说明（类型）

|参数名称|类型|说明|
|:--|:--:|:--|
|LngLat|[number, number]|经纬度坐标|

###### FeatureCollectionType参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|type|固定值(string)-FeatureCollection|-|要素类型|
|features|Array&lt;[FeatureType](#featuretype参数说明)&gt;|-|要素集合|

###### FeatureType参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|type|固定值(string)-Feature|-|要素类型|
|properties|object|-|要素自定义属性|
|geometry|[PolygonGeometry](#polygongeometry参数说明)\|[LineStringGeometry](#linestringgeometry参数说明)\|[PointGeometry](#pointgeometry参数说明)\|[MultiLineStringGeometry](#multilinestringgeometry参数说明)\|[MultiPolygonGeometry](#multipolygongeometry参数说明)|-|要素空间信息|

###### PolygonGeometry参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|type|固定值(string)-Polygon|-|要素图形类型|
|coordinates|[PolygonCoordinates](#polygoncoordinates参数说明（类型）)|-|要素空间信息|

###### PolygonCoordinates参数说明（类型）

|参数名称|类型|说明|
|:--|:--:|:--|
|PolygonCoordinates|Array&lt;Array&lt;[LngLat](#lnglat参数说明（类型）)&gt;&gt;|面数据坐标类型|

###### LineStringGeometry参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|type|固定值(string)-LineString|-|要素图形类型|
|coordinates|Array&lt;[LngLat](#lnglat参数说明（类型）)&gt;|-|要素空间信息|

###### PointGeometry参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|type|固定值(string)-Point|-|要素图形类型|
|coordinates|[LngLat](#lnglat参数说明（类型）)|-|要素空间信息|

###### MultiLineStringGeometry参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|type|固定值(string)-MultiLineString|-|要素图形类型|
|coordinates|Array&lt;Array&lt;[LngLat](#lnglat参数说明（类型）)&gt;&gt;|-|要素空间信息|

###### MultiPolygonGeometry参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|type|固定值(string)-MultiPolygon|-|要素图形类型|
|coordinates|Array&lt;[PolygonCoordinates](#polygoncoordinates参数说明（类型）)&gt;|-|要素空间信息|

##### FeatureStyleOptions参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|point-active|false|[PointStyleType](#pointstyletype参数说明)|-|线和面编辑状态下的激活顶点（端点）|
|point-stroke-active|false|[PointStyleType](#pointstyletype参数说明)|-|线和面编辑状态下的激活顶点（端点）外描边|
|polygon-and-line-vertex-inactive|false|[PointStyleType](#pointstyletype参数说明)|-|编辑状态的顶点(端点)|
|polygon-and-line-vertex-stroke-inactive|false|[PointStyleType](#pointstyletype参数说明)|-|编辑状态的顶点(端点)描边|
|polygon-stroke-inactive|false|[LineStyleType](#linestyletype参数说明)|-|非编辑状态的多边形边线|
|polygon-stroke-active|false|[LineStyleType](#linestyletype参数说明)|-|编辑状态的多边形边线|
|polygon-fill-inactive|false|[PolygonStyleType](#polygonstyletype参数说明)|-|非编辑状态的多边形|
|polygon-fill-active|false|[PolygonStyleType](#polygonstyletype参数说明)|-|编辑状态的多边形|

###### PointStyleType参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|circle-radius|false|number|-|半径，要显示顶点外轮廓，需要保证外轮廓半径大于顶点半径，单位px|
|circle-color|false|string|-|颜色，支持 rgb,rgba,16 进制色值,颜色名称|
|circle-blur|false|number|-|模糊度|
|circle-opacity|false|string|-|不透明度，取值范围[0-1]|
|circle-stroke-width|false|number|-|边框宽度，单位px|
|circle-stroke-color|false|string|-|边框颜色，支持 rgb,rgba,16 进制色值,颜色名称|
|circle-stroke-opacity|false|number|-|边框不透明度，取值范围[0-1]|

###### LineStyleType参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|line-color|false|string|-|填充颜色，支持 rgb,rgba,16 进制色值,颜色名称|
|line-opacity|false|number|-|不透明度，取值范围[0-1]|
|line-pattern|false|string|-|填充纹理, 需指定雪碧图名称，指定填充纹理会导致填充颜色失效|
|line-width|false|number|-|宽度，单位px|
|line-gap-width|false|number|-|内部间隙宽度，单位px|
|line-offset|false|number|-|相对于线方向偏移|
|line-blur|false|number|-|模糊度|
|line-dasharray|false|[number, number]|-|虚线线段的长度及间距，例：[0.2, 2]，目前填写此值将会应用蓝色虚线样式，使用后line-color将会失效；设置line-pattern时，line-dasharray将会失效|
|line-dashed|false|boolean|-|线段是否以虚线显示，默认编辑状态是虚线显示，非编辑状态下是实线显示|

###### PolygonStyleType参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|fill-color|false|string|-|填充颜色，支持 rgb,rgba,16 进制色值,颜色名称|
|fill-outline-color|false|number|-|边框颜色，支持 rgb,rgba,16 进制色值,颜色名称|
|fill-opacity|false|number|-|不透明度，取值范围[0-1]|
|fill-pattern|false|string|-|填充纹理, 需指定雪碧图名称，指定填充纹理会导致填充颜色失效|

##### tooltipObject参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|visibility|false|[Visibility](#visibility参数说明)|'visible'|提示文本是否可见|
|tips|false|[tipsObject](#tipsobject参数说明)|-|提示文本内容，根据语言类型，默认值会有变化|

###### Visibility参数说明

|参数名称|描述|实际值|
|:--|:--|:--:|
|KMap.VISIBILITY.VISIBLE|可见|visible|
|KMap.VISIBILITY.NONE|不可见|none|

###### tipsObject参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|begin|false|string|'单击开始绘制'|开始绘制的提示|
|continue|false|string|'单击继续绘制'|继续绘制的提示|
|finish|false|string|'双击结束绘制'|结束绘制的提示|

### 示例


```javascript
kmap.drawSwallowTailAttackArrow({
    callback: function (res) {
        if (res.status === 10) {
            console.log(res.data);
        }
    }
});
```


## drawStraightArrow

### 描述

在地图上添加几何图形 - 画细直箭头。为了支持每个图形单独配置样式，调用此接口的设置的样式仅对当前图形生效，不会影响其他图形。

### 参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|opts|true|[DrawStraightArrowOptions](#drawstraightarrowoptions参数说明)|-|-|

#### DrawStraightArrowOptions参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|callback|true|[Function](#callback函数参数说明)|-|成功绘制后的回调函数, 返回该几何图形相关信息|
|finally|false|[Function](#finally函数参数说明)|-|结束绘制后的回调函数|
|styles|false|[FeatureStyleOptions](#featurestyleoptions参数说明)|-|配置绘制的颜色|
|featureDraggable|false|boolean|true|编辑图形时是否能够拖拽整个图形|
|tooltip|false|[tooltipObject](#tooltipobject参数说明)|-|提示文本选项|

##### callback函数参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|event|[CallbackEvent](#callbackevent参数说明)|-|图形信息|

###### CallbackEvent参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|status|number|-|10-成功,20-失败|
|data|[dataObject](#dataobject参数说明)|-|几何图形相关信息|

###### dataObject参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|nodes|Array&lt;[LngLat](#lnglat参数说明（类型）)&gt;|-|顶点数据|
|geojson|[FeatureCollectionType](#featurecollectiontype参数说明)|-|要素集|

###### LngLat参数说明（类型）

|参数名称|类型|说明|
|:--|:--:|:--|
|LngLat|[number, number]|经纬度坐标|

###### FeatureCollectionType参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|type|固定值(string)-FeatureCollection|-|要素类型|
|features|Array&lt;[FeatureType](#featuretype参数说明)&gt;|-|要素集合|

###### FeatureType参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|type|固定值(string)-Feature|-|要素类型|
|properties|object|-|要素自定义属性|
|geometry|[PolygonGeometry](#polygongeometry参数说明)\|[LineStringGeometry](#linestringgeometry参数说明)\|[PointGeometry](#pointgeometry参数说明)\|[MultiLineStringGeometry](#multilinestringgeometry参数说明)\|[MultiPolygonGeometry](#multipolygongeometry参数说明)|-|要素空间信息|

###### PolygonGeometry参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|type|固定值(string)-Polygon|-|要素图形类型|
|coordinates|[PolygonCoordinates](#polygoncoordinates参数说明（类型）)|-|要素空间信息|

###### PolygonCoordinates参数说明（类型）

|参数名称|类型|说明|
|:--|:--:|:--|
|PolygonCoordinates|Array&lt;Array&lt;[LngLat](#lnglat参数说明（类型）)&gt;&gt;|面数据坐标类型|

###### LineStringGeometry参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|type|固定值(string)-LineString|-|要素图形类型|
|coordinates|Array&lt;[LngLat](#lnglat参数说明（类型）)&gt;|-|要素空间信息|

###### PointGeometry参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|type|固定值(string)-Point|-|要素图形类型|
|coordinates|[LngLat](#lnglat参数说明（类型）)|-|要素空间信息|

###### MultiLineStringGeometry参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|type|固定值(string)-MultiLineString|-|要素图形类型|
|coordinates|Array&lt;Array&lt;[LngLat](#lnglat参数说明（类型）)&gt;&gt;|-|要素空间信息|

###### MultiPolygonGeometry参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|type|固定值(string)-MultiPolygon|-|要素图形类型|
|coordinates|Array&lt;[PolygonCoordinates](#polygoncoordinates参数说明（类型）)&gt;|-|要素空间信息|

##### FeatureStyleOptions参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|point-active|false|[PointStyleType](#pointstyletype参数说明)|-|线和面编辑状态下的激活顶点（端点）|
|point-stroke-active|false|[PointStyleType](#pointstyletype参数说明)|-|线和面编辑状态下的激活顶点（端点）外描边|
|polygon-and-line-vertex-inactive|false|[PointStyleType](#pointstyletype参数说明)|-|编辑状态的顶点(端点)|
|polygon-and-line-vertex-stroke-inactive|false|[PointStyleType](#pointstyletype参数说明)|-|编辑状态的顶点(端点)描边|
|polygon-stroke-inactive|false|[LineStyleType](#linestyletype参数说明)|-|非编辑状态的多边形边线|
|polygon-stroke-active|false|[LineStyleType](#linestyletype参数说明)|-|编辑状态的多边形边线|
|polygon-fill-inactive|false|[PolygonStyleType](#polygonstyletype参数说明)|-|非编辑状态的多边形|
|polygon-fill-active|false|[PolygonStyleType](#polygonstyletype参数说明)|-|编辑状态的多边形|

###### PointStyleType参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|circle-radius|false|number|-|半径，要显示顶点外轮廓，需要保证外轮廓半径大于顶点半径，单位px|
|circle-color|false|string|-|颜色，支持 rgb,rgba,16 进制色值,颜色名称|
|circle-blur|false|number|-|模糊度|
|circle-opacity|false|string|-|不透明度，取值范围[0-1]|
|circle-stroke-width|false|number|-|边框宽度，单位px|
|circle-stroke-color|false|string|-|边框颜色，支持 rgb,rgba,16 进制色值,颜色名称|
|circle-stroke-opacity|false|number|-|边框不透明度，取值范围[0-1]|

###### LineStyleType参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|line-color|false|string|-|填充颜色，支持 rgb,rgba,16 进制色值,颜色名称|
|line-opacity|false|number|-|不透明度，取值范围[0-1]|
|line-pattern|false|string|-|填充纹理, 需指定雪碧图名称，指定填充纹理会导致填充颜色失效|
|line-width|false|number|-|宽度，单位px|
|line-gap-width|false|number|-|内部间隙宽度，单位px|
|line-offset|false|number|-|相对于线方向偏移|
|line-blur|false|number|-|模糊度|
|line-dasharray|false|[number, number]|-|虚线线段的长度及间距，例：[0.2, 2]，目前填写此值将会应用蓝色虚线样式，使用后line-color将会失效；设置line-pattern时，line-dasharray将会失效|
|line-dashed|false|boolean|-|线段是否以虚线显示，默认编辑状态是虚线显示，非编辑状态下是实线显示|

###### PolygonStyleType参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|fill-color|false|string|-|填充颜色，支持 rgb,rgba,16 进制色值,颜色名称|
|fill-outline-color|false|number|-|边框颜色，支持 rgb,rgba,16 进制色值,颜色名称|
|fill-opacity|false|number|-|不透明度，取值范围[0-1]|
|fill-pattern|false|string|-|填充纹理, 需指定雪碧图名称，指定填充纹理会导致填充颜色失效|

##### tooltipObject参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|visibility|false|[Visibility](#visibility参数说明)|'visible'|提示文本是否可见|
|tips|false|[tipsObject](#tipsobject参数说明)|-|提示文本内容，根据语言类型，默认值会有变化|

###### Visibility参数说明

|参数名称|描述|实际值|
|:--|:--|:--:|
|KMap.VISIBILITY.VISIBLE|可见|visible|
|KMap.VISIBILITY.NONE|不可见|none|

###### tipsObject参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|begin|false|string|'单击开始绘制'|开始绘制的提示|
|finish|false|string|'单击结束绘制'|结束绘制的提示|

### 示例


```javascript
kmap.drawStraightArrow({
    callback: function (res) {
        if (res.status === 10) {
            console.log(res.data);
        }
    }
});
```


## drawBezierCurve

### 描述

在地图上添加几何图形 - 画贝塞尔曲线。为了支持每个图形单独配置样式，调用此接口的设置的样式仅对当前图形生效，不会影响其他图形。

### 参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|opts|true|[DrawBezierCurveOptions](#drawbeziercurveoptions参数说明)|-|-|

#### DrawBezierCurveOptions参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|styles|false|[LineFeatureStyleOptions](#linefeaturestyleoptions参数说明)|-|配置绘制的颜色|
|tooltip|false|[tooltipObject](#tooltipobject参数说明)|-|提示文本选项|
|featureDraggable|false|boolean|true|编辑图形时是否能够拖拽整个图形|
|callback|true|[Function](#callback函数参数说明)|-|成功绘制后的回调函数, 返回该几何图形相关信息|
|finally|false|[Function](#finally函数参数说明)|-|结束绘制后的回调函数|

##### LineFeatureStyleOptions参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|point-active|false|[PointStyleType](#pointstyletype参数说明)|-|线和面编辑状态下的激活顶点（端点）|
|point-stroke-active|false|[PointStyleType](#pointstyletype参数说明)|-|线和面编辑状态下的激活顶点（端点）外描边|
|polygon-and-line-vertex-inactive|false|[PointStyleType](#pointstyletype参数说明)|-|编辑状态的顶点(端点)|
|polygon-and-line-vertex-stroke-inactive|false|[PointStyleType](#pointstyletype参数说明)|-|编辑状态的顶点(端点)描边|
|line-active|false|[LineStyleType](#linestyletype参数说明)|-|编辑状态的线|
|line-inactive|false|[LineStyleType](#linestyletype参数说明)|-|非编辑状态的线|

###### PointStyleType参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|circle-radius|false|number|-|半径，要显示顶点外轮廓，需要保证外轮廓半径大于顶点半径，单位px|
|circle-color|false|string|-|颜色，支持 rgb,rgba,16 进制色值,颜色名称|
|circle-blur|false|number|-|模糊度|
|circle-opacity|false|string|-|不透明度，取值范围[0-1]|
|circle-stroke-width|false|number|-|边框宽度，单位px|
|circle-stroke-color|false|string|-|边框颜色，支持 rgb,rgba,16 进制色值,颜色名称|
|circle-stroke-opacity|false|number|-|边框不透明度，取值范围[0-1]|

###### LineStyleType参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|line-color|false|string|-|填充颜色，支持 rgb,rgba,16 进制色值,颜色名称|
|line-opacity|false|number|-|不透明度，取值范围[0-1]|
|line-pattern|false|string|-|填充纹理, 需指定雪碧图名称，指定填充纹理会导致填充颜色失效|
|line-width|false|number|-|宽度，单位px|
|line-gap-width|false|number|-|内部间隙宽度，单位px|
|line-offset|false|number|-|相对于线方向偏移|
|line-blur|false|number|-|模糊度|
|line-dasharray|false|[number, number]|-|虚线线段的长度及间距，例：[0.2, 2]，目前填写此值将会应用蓝色虚线样式，使用后line-color将会失效；设置line-pattern时，line-dasharray将会失效|
|line-dashed|false|boolean|-|线段是否以虚线显示，默认编辑状态是虚线显示，非编辑状态下是实线显示|

##### tooltipObject参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|visibility|false|[Visibility](#visibility参数说明)|'visible'|提示文本是否可见|
|tips|false|[tipsObject](#tipsobject参数说明)|-|提示文本内容，根据语言类型，默认值会有变化|

###### Visibility参数说明

|参数名称|描述|实际值|
|:--|:--|:--:|
|KMap.VISIBILITY.VISIBLE|可见|visible|
|KMap.VISIBILITY.NONE|不可见|none|

###### tipsObject参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|begin|false|string|'单击开始绘制'|开始绘制的提示|
|finish|false|string|'双击结束绘制'|结束绘制的提示|

##### callback函数参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|event|[CallbackEvent](#callbackevent参数说明)|-|图形信息|

###### CallbackEvent参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|status|number|-|10-成功,20-失败|
|data|[dataObject](#dataobject参数说明)|-|几何图形相关信息|

###### dataObject参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|nodes|Array&lt;[LngLat](#lnglat参数说明（类型）)&gt;|-|控制节点数据|
|geojson|[FeatureCollectionType](#featurecollectiontype参数说明)|-|要素集|

###### LngLat参数说明（类型）

|参数名称|类型|说明|
|:--|:--:|:--|
|LngLat|[number, number]|经纬度坐标|

###### FeatureCollectionType参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|type|固定值(string)-FeatureCollection|-|要素类型|
|features|Array&lt;[FeatureType](#featuretype参数说明)&gt;|-|要素集合|

###### FeatureType参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|type|固定值(string)-Feature|-|要素类型|
|properties|object|-|要素自定义属性|
|geometry|[PolygonGeometry](#polygongeometry参数说明)\|[LineStringGeometry](#linestringgeometry参数说明)\|[PointGeometry](#pointgeometry参数说明)\|[MultiLineStringGeometry](#multilinestringgeometry参数说明)\|[MultiPolygonGeometry](#multipolygongeometry参数说明)|-|要素空间信息|

###### PolygonGeometry参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|type|固定值(string)-Polygon|-|要素图形类型|
|coordinates|[PolygonCoordinates](#polygoncoordinates参数说明（类型）)|-|要素空间信息|

###### PolygonCoordinates参数说明（类型）

|参数名称|类型|说明|
|:--|:--:|:--|
|PolygonCoordinates|Array&lt;Array&lt;[LngLat](#lnglat参数说明（类型）)&gt;&gt;|面数据坐标类型|

###### LineStringGeometry参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|type|固定值(string)-LineString|-|要素图形类型|
|coordinates|Array&lt;[LngLat](#lnglat参数说明（类型）)&gt;|-|要素空间信息|

###### PointGeometry参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|type|固定值(string)-Point|-|要素图形类型|
|coordinates|[LngLat](#lnglat参数说明（类型）)|-|要素空间信息|

###### MultiLineStringGeometry参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|type|固定值(string)-MultiLineString|-|要素图形类型|
|coordinates|Array&lt;Array&lt;[LngLat](#lnglat参数说明（类型）)&gt;&gt;|-|要素空间信息|

###### MultiPolygonGeometry参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|type|固定值(string)-MultiPolygon|-|要素图形类型|
|coordinates|Array&lt;[PolygonCoordinates](#polygoncoordinates参数说明（类型）)&gt;|-|要素空间信息|

### 示例


```javascript
kmap.drawBezierCurve({
    callback: function (res) {
        if (res.status === 10) {
            console.log(res.data);
        }
    }
});
```


## 图形操作

## getGeometryById

### 描述

根据id获取几何图形。

### 参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|opts|true|[GetGeometryByIdOptions](#getgeometrybyidoptions参数说明)|-|-|

#### GetGeometryByIdOptions参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|id|true|string|-|获取的几何图形id|
|callback|true|[Function](#callback函数参数说明)|-|回调函数, 回调参数包含指定图形的信息（如果有)|

##### callback函数参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|event|[CallbackEvent](#callbackevent参数说明)|-|图形信息|

###### CallbackEvent参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|status|number|-|10-成功,20-失败|
|data|undefined\|[FeatureType](#featuretype参数说明)|-|几何图形相关信息|

###### FeatureType参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|type|固定值(string)-Feature|-|要素类型|
|properties|object|-|要素自定义属性|
|geometry|[PolygonGeometry](#polygongeometry参数说明)\|[LineStringGeometry](#linestringgeometry参数说明)\|[PointGeometry](#pointgeometry参数说明)\|[MultiLineStringGeometry](#multilinestringgeometry参数说明)\|[MultiPolygonGeometry](#multipolygongeometry参数说明)|-|要素空间信息|

###### PolygonGeometry参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|type|固定值(string)-Polygon|-|要素图形类型|
|coordinates|[PolygonCoordinates](#polygoncoordinates参数说明（类型）)|-|要素空间信息|

###### PolygonCoordinates参数说明（类型）

|参数名称|类型|说明|
|:--|:--:|:--|
|PolygonCoordinates|Array&lt;Array&lt;[LngLat](#lnglat参数说明（类型）)&gt;&gt;|面数据坐标类型|

###### LineStringGeometry参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|type|固定值(string)-LineString|-|要素图形类型|
|coordinates|Array&lt;[LngLat](#lnglat参数说明（类型）)&gt;|-|要素空间信息|

###### LngLat参数说明（类型）

|参数名称|类型|说明|
|:--|:--:|:--|
|LngLat|[number, number]|经纬度坐标|

###### PointGeometry参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|type|固定值(string)-Point|-|要素图形类型|
|coordinates|[LngLat](#lnglat参数说明（类型）)|-|要素空间信息|

###### MultiLineStringGeometry参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|type|固定值(string)-MultiLineString|-|要素图形类型|
|coordinates|Array&lt;Array&lt;[LngLat](#lnglat参数说明（类型）)&gt;&gt;|-|要素空间信息|

###### MultiPolygonGeometry参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|type|固定值(string)-MultiPolygon|-|要素图形类型|
|coordinates|Array&lt;[PolygonCoordinates](#polygoncoordinates参数说明（类型）)&gt;|-|要素空间信息|

### 示例


```javascript
kmap.getGeometryById({
    id: 'polygonId',
    callback: function (res) {
        if (res.status === 10) {
            console.log(res.data);
        }
    }
});
```


## removeGeometryById

### 描述

根据id删除几何图形。

### 参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|opts|true|[RemoveGeometryByIdOptions](#removegeometrybyidoptions参数说明)|-|-|

#### RemoveGeometryByIdOptions参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|id|true|string|-|需要删除的几何图形id|

### 示例


```javascript
kmap.removeGeometryById({
    id: 'polygonId'
});
```


## getSelectedGeometries

### 描述

获取选中的几何图形数据。暂不支持在绘制完成的回调中立即获取新绘制的图形。

### 参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|opts|true|[GetSelectedGeometriesOptions](#getselectedgeometriesoptions参数说明)|-|-|

#### GetSelectedGeometriesOptions参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|callback|true|[Function](#callback函数参数说明)|-|回调函数, 回调参数包含指定图形的信息（如果有）|

##### callback函数参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|event|[CallbackEvent](#callbackevent参数说明)|-|图形信息|

###### CallbackEvent参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|status|number|-|10-成功,20-失败|
|data|固定值(object)-null\|[FeatureType](#featuretype参数说明)|-|几何图形相关信息|

###### FeatureType参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|type|固定值(string)-Feature|-|要素类型|
|properties|object|-|要素自定义属性|
|geometry|[PolygonGeometry](#polygongeometry参数说明)\|[LineStringGeometry](#linestringgeometry参数说明)\|[PointGeometry](#pointgeometry参数说明)\|[MultiLineStringGeometry](#multilinestringgeometry参数说明)\|[MultiPolygonGeometry](#multipolygongeometry参数说明)|-|要素空间信息|

###### PolygonGeometry参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|type|固定值(string)-Polygon|-|要素图形类型|
|coordinates|[PolygonCoordinates](#polygoncoordinates参数说明（类型）)|-|要素空间信息|

###### PolygonCoordinates参数说明（类型）

|参数名称|类型|说明|
|:--|:--:|:--|
|PolygonCoordinates|Array&lt;Array&lt;[LngLat](#lnglat参数说明（类型）)&gt;&gt;|面数据坐标类型|

###### LineStringGeometry参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|type|固定值(string)-LineString|-|要素图形类型|
|coordinates|Array&lt;[LngLat](#lnglat参数说明（类型）)&gt;|-|要素空间信息|

###### LngLat参数说明（类型）

|参数名称|类型|说明|
|:--|:--:|:--|
|LngLat|[number, number]|经纬度坐标|

###### PointGeometry参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|type|固定值(string)-Point|-|要素图形类型|
|coordinates|[LngLat](#lnglat参数说明（类型）)|-|要素空间信息|

###### MultiLineStringGeometry参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|type|固定值(string)-MultiLineString|-|要素图形类型|
|coordinates|Array&lt;Array&lt;[LngLat](#lnglat参数说明（类型）)&gt;&gt;|-|要素空间信息|

###### MultiPolygonGeometry参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|type|固定值(string)-MultiPolygon|-|要素图形类型|
|coordinates|Array&lt;[PolygonCoordinates](#polygoncoordinates参数说明（类型）)&gt;|-|要素空间信息|

### 示例


```javascript
var data;
kmap.getSelectedGeometries({
    callback: function (res) {
        if (res.status === 10) {
            data = res.data
        }
    }
});
```


## removeSelectedGeometries

### 描述

删除选中（被鼠标点击处于激活状态）的几何图形。

### 示例


```javascript
kmap.removeSelectedGeometries();
```


## getAllGeometries

### 描述

获取所有几何图形数据。

### 参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|opts|true|[GetAllGeometriesOptions](#getallgeometriesoptions参数说明)|-|-|

#### GetAllGeometriesOptions参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|callback|true|[Function](#callback函数参数说明)|-|回调函数, 回调参数包含全部图形的信息（如果有）、|

##### callback函数参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|event|[CallbackEvent](#callbackevent参数说明)|-|图形信息|

###### CallbackEvent参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|status|number|-|10-成功,20-失败|
|data|Array&lt;[FeatureType](#featuretype参数说明)&gt;|-|几何图形相关信息|

###### FeatureType参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|type|固定值(string)-Feature|-|要素类型|
|properties|object|-|要素自定义属性|
|geometry|[PolygonGeometry](#polygongeometry参数说明)\|[LineStringGeometry](#linestringgeometry参数说明)\|[PointGeometry](#pointgeometry参数说明)\|[MultiLineStringGeometry](#multilinestringgeometry参数说明)\|[MultiPolygonGeometry](#multipolygongeometry参数说明)|-|要素空间信息|

###### PolygonGeometry参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|type|固定值(string)-Polygon|-|要素图形类型|
|coordinates|[PolygonCoordinates](#polygoncoordinates参数说明（类型）)|-|要素空间信息|

###### PolygonCoordinates参数说明（类型）

|参数名称|类型|说明|
|:--|:--:|:--|
|PolygonCoordinates|Array&lt;Array&lt;[LngLat](#lnglat参数说明（类型）)&gt;&gt;|面数据坐标类型|

###### LineStringGeometry参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|type|固定值(string)-LineString|-|要素图形类型|
|coordinates|Array&lt;[LngLat](#lnglat参数说明（类型）)&gt;|-|要素空间信息|

###### LngLat参数说明（类型）

|参数名称|类型|说明|
|:--|:--:|:--|
|LngLat|[number, number]|经纬度坐标|

###### PointGeometry参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|type|固定值(string)-Point|-|要素图形类型|
|coordinates|[LngLat](#lnglat参数说明（类型）)|-|要素空间信息|

###### MultiLineStringGeometry参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|type|固定值(string)-MultiLineString|-|要素图形类型|
|coordinates|Array&lt;Array&lt;[LngLat](#lnglat参数说明（类型）)&gt;&gt;|-|要素空间信息|

###### MultiPolygonGeometry参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|type|固定值(string)-MultiPolygon|-|要素图形类型|
|coordinates|Array&lt;[PolygonCoordinates](#polygoncoordinates参数说明（类型）)&gt;|-|要素空间信息|

### 示例


```javascript
var data;
kmap.getAllGeometries({
    callback: function (res) {
        if (res.status === 10) {
            data = res.data
        }
    }
});
```


## removeAllGeometries

### 描述

删除所有几何图形。

### 示例


```javascript
kmap.removeAllGeometries();
```


## updateGeometryStyle

### 描述

修改已经绘制完成的几何图形的样式。为了支持独立设置图形样式，此接口的设置的样式仅对已经创建的图形生效。由于部分样式属性在多次设置时会存在冲突，建议在创建图形时传入样式，避免使用此接口。

### 参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|opts|true|[UpdateGeometryStyleOptions](#updategeometrystyleoptions参数说明)|-|-|

#### UpdateGeometryStyleOptions参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|point-active|false|[PointStyleType](#pointstyletype参数说明)|-|线和面编辑状态下的激活顶点（端点）|
|point-stroke-active|false|[PointStyleType](#pointstyletype参数说明)|-|线和面编辑状态下的激活顶点（端点）外描边|
|polygon-and-line-vertex-inactive|false|[PointStyleType](#pointstyletype参数说明)|-|编辑状态的顶点(端点)|
|polygon-and-line-vertex-stroke-inactive|false|[PointStyleType](#pointstyletype参数说明)|-|编辑状态的顶点(端点)描边|
|polygon-stroke-inactive|false|[LineStyleType](#linestyletype参数说明)|-|非编辑状态的多边形边线|
|polygon-stroke-active|false|[LineStyleType](#linestyletype参数说明)|-|编辑状态的多边形边线|
|polygon-fill-inactive|false|[PolygonStyleType](#polygonstyletype参数说明)|-|非编辑状态的多边形|
|polygon-fill-active|false|[PolygonStyleType](#polygonstyletype参数说明)|-|编辑状态的多边形|
|point-inactive|false|[PointStyleType](#pointstyletype参数说明)|-|非编辑状态的点|
|point-point-stroke-inactive|false|[PointStyleType](#pointstyletype参数说明)|-|非编辑状态的点外描边|
|line-active|false|[LineStyleType](#linestyletype参数说明)|-|编辑状态的线|
|line-inactive|false|[LineStyleType](#linestyletype参数说明)|-|非编辑状态的线|
|ids|false|Array&lt;string&gt;|-|需要更新样式的图形id集合，此参数仅updateGeometryStyle接口可用，如果不传此参数表示更新全部已经创建完成的图形|

##### PointStyleType参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|circle-radius|false|number|-|半径，要显示顶点外轮廓，需要保证外轮廓半径大于顶点半径，单位px|
|circle-color|false|string|-|颜色，支持 rgb,rgba,16 进制色值,颜色名称|
|circle-blur|false|number|-|模糊度|
|circle-opacity|false|string|-|不透明度，取值范围[0-1]|
|circle-stroke-width|false|number|-|边框宽度，单位px|
|circle-stroke-color|false|string|-|边框颜色，支持 rgb,rgba,16 进制色值,颜色名称|
|circle-stroke-opacity|false|number|-|边框不透明度，取值范围[0-1]|

##### LineStyleType参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|line-color|false|string|-|填充颜色，支持 rgb,rgba,16 进制色值,颜色名称|
|line-opacity|false|number|-|不透明度，取值范围[0-1]|
|line-pattern|false|string|-|填充纹理, 需指定雪碧图名称，指定填充纹理会导致填充颜色失效|
|line-width|false|number|-|宽度，单位px|
|line-gap-width|false|number|-|内部间隙宽度，单位px|
|line-offset|false|number|-|相对于线方向偏移|
|line-blur|false|number|-|模糊度|
|line-dasharray|false|[number, number]|-|虚线线段的长度及间距，例：[0.2, 2]，目前填写此值将会应用蓝色虚线样式，使用后line-color将会失效；设置line-pattern时，line-dasharray将会失效|
|line-dashed|false|boolean|-|线段是否以虚线显示，默认编辑状态是虚线显示，非编辑状态下是实线显示|

##### PolygonStyleType参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|fill-color|false|string|-|填充颜色，支持 rgb,rgba,16 进制色值,颜色名称|
|fill-outline-color|false|number|-|边框颜色，支持 rgb,rgba,16 进制色值,颜色名称|
|fill-opacity|false|number|-|不透明度，取值范围[0-1]|
|fill-pattern|false|string|-|填充纹理, 需指定雪碧图名称，指定填充纹理会导致填充颜色失效|

### 示例


```javascript
// 以下的样式均为默认样式
kmap.updateGeometryStyle  ( {
    'point-inactive': {
        'circle-radius': 3,
        'circle-color': '#3bb2d0'
    },
    'point-active': {
        'circle-radius': 5,
        'circle-color': '#D20C0C'
    },
    'point-point-stroke-inactive': {
        'circle-radius': 5,
        'circle-opacity': 1,
        'circle-color': '#fff'
    },
    'point-stroke-active': {
        'circle-radius': 7,
        'circle-color': '#fff'
    },
    'line-active': {
        'line-color': '#D20C0C',
        'line-width': 2
    },
    'line-inactive': {
        'line-color': '#3bb2d0',
        'line-width': 2
    },
    'polygon-fill-inactive': {
        'fill-color': '#3bb2d0',
        'fill-outline-color': '#3bb2d0',
        'fill-opacity': 0.1
    },
    'polygon-fill-active': {
        'fill-color': '#fbb03b',
        'fill-outline-color': '#fbb03b',
        'fill-opacity': 0.1
    },
    'polygon-and-line-vertex-inactive': {
        'circle-radius': 3,
        'circle-color': '#D20C0C'
    },
    'polygon-and-line-vertex-stroke-inactive': {
        'circle-radius': 5,
        'circle-color': '#fff'
    },
    'polygon-stroke-inactive': {
        'line-color': '#3bb2d0',
        'line-width': 2
    },
    'polygon-stroke-active': {
        'line-color': '#D20C0C',
        'line-width': 2
    },
});
// 更改部分图形样式示例
kmap.updateGeometryStyle({
    'polygon-and-line-vertex-inactive': {
        'circle-radius': 8,
        'circle-color': '#D20C0C'
    },
    ids: ['geometryId']
});
```


## addEventOnDraw

### 描述

为绘制添加事件。

### 参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|opts|true|[AddEventOnDrawOptions](#addeventondrawoptions参数说明)|-|-|

#### AddEventOnDrawOptions参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|event|true|[DrawEventType](#draweventtype参数说明)|-|事件类型|
|handler|true|[Function](#handler函数参数说明)|-|回调函数, 回调参数包含事件信息|

##### DrawEventType参数说明

|描述|实际值|
|:--|:--:|
|创建图形|draw.create|
|图形数据更新|draw.update|
|选中图形状态变更|draw.selectionchange|
|绘制模式变更|draw.modechange|
|创建多边形顶点|draw.polygon.vertex.create|
|鼠标移动事件，目前只支持多边形，用于判断顶点是否超出父多边形，或者跟相邻多边形重叠|draw.mousemove|
|多边形拖动顶点事件，回调中可以通过 event.undoVertex() 取消当前的顶点拖动操作|draw.polygon.vertex.drag.end|

##### handler函数参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|event|Object|-|事件对象|

在添加 `draw.polygon.vertex.create` 事件时，可以在回调方法中使用 `event.cancelVertex()` 方法取消当前顶点

### 示例


```javascript
kmap.addEventOnDraw({
    event: 'draw.update',
    handler: function (evt) {
        console.log(evt);
    }
})
```


## removeEventOnDraw

### 描述

移除绘制事件。

### 参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|opts|true|[RemoveEventOnDrawOptions](#removeeventondrawoptions参数说明)|-|-|

#### RemoveEventOnDrawOptions参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|event|true|[DrawEventType](#draweventtype参数说明)|-|事件类型|

##### DrawEventType参数说明

|描述|实际值|
|:--|:--:|
|创建图形|draw.create|
|图形数据更新|draw.update|
|选中图形状态变更|draw.selectionchange|
|绘制模式变更|draw.modechange|
|创建多边形顶点|draw.polygon.vertex.create|
|鼠标移动事件，目前只支持多边形，用于判断顶点是否超出父多边形，或者跟相邻多边形重叠|draw.mousemove|
|多边形拖动顶点事件，回调中可以通过 event.undoVertex() 取消当前的顶点拖动操作|draw.polygon.vertex.drag.end|

### 示例


```javascript
kmap.removeEventOnDraw({
    event: 'draw.update',
})
```


## updatePolygonToEdit

### 描述

将点位数据转换成绘制状态下的几何图形。为了支持每个图形单独配置样式，调用此接口的设置的样式仅对当前图形生效，不会影响其他图形。

### 参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|opts|true|[UpdatePolygonToEditOptions](#updatepolygontoeditoptions参数说明)|-|-|

#### UpdatePolygonToEditOptions参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|type|true|[DrawGeometryType](#drawgeometrytype参数说明)|-|几何图形类型|
|coordinates|false|[LngLat](#lnglat参数说明（类型）)\|Array&lt;[LngLat](#lnglat参数说明（类型）)&gt;\|Array&lt;Array&lt;[LngLat](#lnglat参数说明（类型）)&gt;&gt;|-|添加的几何图形坐标集合（geojson标准）|
|holes|false|boolean|-|编辑时是否允许绘制孔洞，仅支持polygon和multipolygon类型|
|editableInit|false|boolean|false|直接进入编辑状态，且简化操作步骤，拖拽时不需要选中顶点|
|featureDraggable|false|boolean|true|设置编辑状态的多边形是否可拖拽|
|center|false|[LngLat](#lnglat参数说明（类型）)|-|圆心坐标,circle及sector类型，为必填，其他类型非必填|
|customProps|false|any|-|自定义属性|
|styles|false|[FeatureWholeStyleOptions](#featurewholestyleoptions参数说明)|-|图形样式|
|capture|false|Array&lt;[CaptureOptions](#captureoptions参数说明)&gt;|-|绘制图形时顶点吸附内容的配置|
|circularOptions|false|[circularOptionsObject](#circularoptionsobject参数说明)|-|圆形相关的设置|
|bezierArrow|false|[bezierArrowObject](#bezierarrowobject参数说明)|-|贝塞尔曲线的数据，在 bezierArrow 类型下，无需传入 coordinates 参数|
|nodes|false|Array&lt;[LngLat](#lnglat参数说明（类型）)&gt;|-|控制节点，当几何图形类型为弓形、 双箭头、进攻方向箭头、燕尾进攻方向箭头、细直箭头、贝塞尔曲线|
|ended|false|[Function](#ended函数参数说明)|-|几何图形初始化后的结束回调|

##### DrawGeometryType参数说明

|描述|实际值|
|:--|:--:|
|点|point|
|线|line|
|贝塞尔曲线|bezierCurve|
|三角形|triangle|
|矩形|rectangle|
|多边形|polygon|
|圆形|circle|
|扇形|sector|
|椭圆形|ellipse|
|贝塞尔箭头|bezierArrow|
|弓形|lune|
|细直箭头|straightArrow|
|双箭头|doubleArrow|
|进攻方向箭头|attackArrow|
|燕尾进攻方向箭头|swallowTailAttackArrow|

##### LngLat参数说明（类型）

|参数名称|类型|说明|
|:--|:--:|:--|
|LngLat|[number, number]|经纬度坐标|

##### FeatureWholeStyleOptions参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|point-active|false|[PointStyleType](#pointstyletype参数说明)|-|线和面编辑状态下的激活顶点（端点）|
|point-stroke-active|false|[PointStyleType](#pointstyletype参数说明)|-|线和面编辑状态下的激活顶点（端点）外描边|
|polygon-and-line-vertex-inactive|false|[PointStyleType](#pointstyletype参数说明)|-|编辑状态的顶点(端点)|
|polygon-and-line-vertex-stroke-inactive|false|[PointStyleType](#pointstyletype参数说明)|-|编辑状态的顶点(端点)描边|
|polygon-stroke-inactive|false|[LineStyleType](#linestyletype参数说明)|-|非编辑状态的多边形边线|
|polygon-stroke-active|false|[LineStyleType](#linestyletype参数说明)|-|编辑状态的多边形边线|
|polygon-fill-inactive|false|[PolygonStyleType](#polygonstyletype参数说明)|-|非编辑状态的多边形|
|polygon-fill-active|false|[PolygonStyleType](#polygonstyletype参数说明)|-|编辑状态的多边形|
|point-inactive|false|[PointStyleType](#pointstyletype参数说明)|-|非编辑状态的点|
|point-point-stroke-inactive|false|[PointStyleType](#pointstyletype参数说明)|-|非编辑状态的点外描边|
|line-active|false|[LineStyleType](#linestyletype参数说明)|-|编辑状态的线|
|line-inactive|false|[LineStyleType](#linestyletype参数说明)|-|非编辑状态的线|

###### PointStyleType参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|circle-radius|false|number|-|半径，要显示顶点外轮廓，需要保证外轮廓半径大于顶点半径，单位px|
|circle-color|false|string|-|颜色，支持 rgb,rgba,16 进制色值,颜色名称|
|circle-blur|false|number|-|模糊度|
|circle-opacity|false|string|-|不透明度，取值范围[0-1]|
|circle-stroke-width|false|number|-|边框宽度，单位px|
|circle-stroke-color|false|string|-|边框颜色，支持 rgb,rgba,16 进制色值,颜色名称|
|circle-stroke-opacity|false|number|-|边框不透明度，取值范围[0-1]|

###### LineStyleType参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|line-color|false|string|-|填充颜色，支持 rgb,rgba,16 进制色值,颜色名称|
|line-opacity|false|number|-|不透明度，取值范围[0-1]|
|line-pattern|false|string|-|填充纹理, 需指定雪碧图名称，指定填充纹理会导致填充颜色失效|
|line-width|false|number|-|宽度，单位px|
|line-gap-width|false|number|-|内部间隙宽度，单位px|
|line-offset|false|number|-|相对于线方向偏移|
|line-blur|false|number|-|模糊度|
|line-dasharray|false|[number, number]|-|虚线线段的长度及间距，例：[0.2, 2]，目前填写此值将会应用蓝色虚线样式，使用后line-color将会失效；设置line-pattern时，line-dasharray将会失效|
|line-dashed|false|boolean|-|线段是否以虚线显示，默认编辑状态是虚线显示，非编辑状态下是实线显示|

###### PolygonStyleType参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|fill-color|false|string|-|填充颜色，支持 rgb,rgba,16 进制色值,颜色名称|
|fill-outline-color|false|number|-|边框颜色，支持 rgb,rgba,16 进制色值,颜色名称|
|fill-opacity|false|number|-|不透明度，取值范围[0-1]|
|fill-pattern|false|string|-|填充纹理, 需指定雪碧图名称，指定填充纹理会导致填充颜色失效|

##### CaptureOptions参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|layerId|true|string|-|需要吸附的图层的id，支持几何图层和绘制图层，要吸附绘制图层，传入固定值'draw'；可吸附顶点及轮廓线，顶点的吸附范围及优先级更大|

##### circularOptionsObject参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|showTooltip|false|boolean|false|是否显示半径标记|
|angle|false|number|90|半径标记，在圆形边上的角度，取值范围通常是 0° 到 360°，角度是以顺时针方向增长的，例如，0° 表示正北方，90° 表示正东方，180° 表示正南方，270° 表示正西方|
|styles|false|string|-|半径标记的 cssText 样式|
|anchor|false|[Anchor](#anchor参数说明)|KMap.ANCHOR.LEFT|标记锚点位置|
|offset|false|[Offset](#offset参数说明（类型）)|[20, -5]|相对于锚点的偏移量|
|units|false|[Units](#units参数说明)|KMap.MEASURE_UNITS.KILOMETERS|单位|
|unitsName|false|string|-|单位名称|
|minRadius|false|string|-|圆形的最小半径，单位取决于 units 的设置，包含 minRadius|
|maxRadius|false|string|-|圆形的最大半径，单位取决于 units 的设置，包含 maxRadius|

###### Anchor参数说明

|参数名称|描述|实际值|
|:--|:--|:--:|
|KMap.ANCHOR.CENTER|中心|center|
|KMap.ANCHOR.TOP|顶部|top|
|KMap.ANCHOR.BOTTOM|底部|bottom|
|KMap.ANCHOR.LEFT|左侧|left|
|KMap.ANCHOR.RIGHT|右侧|right|
|KMap.ANCHOR.TOP_LEFT|左上方|top-left|
|KMap.ANCHOR.TOP_RIGHT|右上方|top-right|
|KMap.ANCHOR.BOTTOM_LEFT|左下方|bottom-left|
|KMap.ANCHOR.BOTTOM_RIGHT|右下方|bottom-right|

###### Offset参数说明（类型）

|参数名称|类型|说明|
|:--|:--:|:--|
|Offset|[number, number]|相对于锚点偏移量|

###### Units参数说明

|参数名称|描述|实际值|
|:--|:--|:--:|
|KMap.MEASURE_UNITS.KILOMETERS|公里|kilometers|
|KMap.MEASURE_UNITS.METERS|米|meters|
|KMap.MEASURE_UNITS.MILES|英里|miles|

##### bezierArrowObject参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|nodes|true|Array&lt;[LngLat](#lnglat参数说明（类型）)&gt;|-|顶点坐标数组|
|triangleStyle|false|[triangleStyleObject](#trianglestyleobject参数说明)|-|三角形箭头的大小|

###### triangleStyleObject参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|width|false|number|30|三角形底边的宽度，单位像素|
|height|false|number|30|三角形顶点距离底边的高度，单位像素|
|arrowType|false|[ArrowType](#arrowtype参数说明)|KMap.ARROW_TYPE.TRIANGLE|箭头的风格，默认是三角形|

###### ArrowType参数说明

|参数名称|描述|实际值|
|:--|:--|:--:|
|KMap.ARROW_TYPE.TRIANGLE|三角形箭头|triangle|
|KMap.ARROW_TYPE.POLYLINE|折线箭头|polyline|

##### ended函数参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|event|Object|-|图形信息|

### 示例


```javascript
kmap.updatePolygonToEdit({
    type: 'point',
    coordinates: [120, 30],
    customProps: {
        description: '自定义属性'
    }
});
```


## cancelDraw

### 描述

在绘制结束前，取消绘制动作。

### 示例


```javascript
kmap.cancelDraw();
```


## setDrawEditingTip

### 描述

给处于编辑状态的已经创建的图形设置提示文本。此接口的设置对当前地图内的所有绘制图形生效。若要清除全部编辑提示文本，editingTip传入空对象即可。

(暂不支持为多个多边形设置提示文本)

### 参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|opts|true|[SetDrawEditingTipOptions](#setdraweditingtipoptions参数说明)|-|-|

#### SetDrawEditingTipOptions参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|editingTip|true|[editingTipObject](#editingtipobject参数说明)|-|提示文本配置，新配置的字段会覆盖之前的，未配置的字段会置空（悬浮时无提示，空字符串不会视为置空）|

##### editingTipObject参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|point|false|string|-|鼠标悬浮编辑状态的点图形时显示的文本|
|line|false|string|-|鼠标悬浮编辑状态的线图形时显示的文本|
|lineVertex|false|string|-|鼠标悬浮编辑状态的线图形顶点时显示的文本|
|polygon|false|string|-|鼠标悬浮编辑状态的面图形时显示的文本|
|polygonOutline|false|string|-|鼠标悬浮编辑状态的面图形轮廓线时显示的文本|
|polygonVertex|false|string|-|鼠标悬浮编辑状态的面图形顶点时显示的文本|
|outer|false|string|-|鼠标悬浮编辑状态的图形外时显示的文本|

### 示例


```javascript
kmap.setDrawEditingTip({
    editingTip: {
        polygonOutline: '悬浮外边线',
        polygonVertex: '悬浮面顶点',
        polygon: '悬浮面',
        line: '悬浮线',
        lineVertex: '悬浮线顶点',
    }
});
```

## setGeometryDefaultStyle

### 描述

修改绘制图形的默认样式。默认样式仅对没有指定过样式的属性，以及没有调用过updateGeometryStyle接口的图形生效。

### 参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|opts|true|[SetGeometryDefaultStyleOptions](#setgeometrydefaultstyleoptions参数说明)|-|-|

#### SetGeometryDefaultStyleOptions参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|styles|true|[DefaultFeatureStyleOptions](#defaultfeaturestyleoptions参数说明)|-|配置的样式对象|

##### DefaultFeatureStyleOptions参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|point-inactive|false|[PointStyleType](#pointstyletype参数说明)|-|非编辑状态的point|
|point-active|false|[PointStyleType](#pointstyletype参数说明)|-|编辑状态的point、以及线和面编辑状态下的顶点（端点）|
|point-stroke-active|false|[PointStyleType](#pointstyletype参数说明)|-|编辑状态的point外描边|
|point-point-stroke-inactive|false|[PointStyleType](#pointstyletype参数说明)|-|非编辑状态的point外描边|
|line-active|false|[DefaultLineStyleType](#defaultlinestyletype参数说明)|-|编辑状态的line|
|line-inactive|false|[DefaultLineStyleType](#defaultlinestyletype参数说明)|-|非编辑状态的line|
|polygon-fill-inactive|false|[PolygonStyleType](#polygonstyletype参数说明)|-|非编辑状态的polygon|
|polygon-fill-active|false|[PolygonStyleType](#polygonstyletype参数说明)|-|编辑状态的polygon|
|polygon-and-line-vertex-inactive|false|[PointStyleType](#pointstyletype参数说明)|-|编辑状态的顶点(端点)|
|polygon-and-line-vertex-stroke-inactive|false|[PointStyleType](#pointstyletype参数说明)|-|编辑状态的顶点(端点)描边|
|polygon-stroke-inactive|false|[DefaultLineStyleType](#defaultlinestyletype参数说明)|-|非编辑状态的多边形边线|
|polygon-stroke-active|false|[DefaultLineStyleType](#defaultlinestyletype参数说明)|-|编辑状态的多边形边线|

###### PointStyleType参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|circle-radius|false|number|-|半径，要显示顶点外轮廓，需要保证外轮廓半径大于顶点半径，单位px|
|circle-color|false|string|-|颜色，支持 rgb,rgba,16 进制色值,颜色名称|
|circle-blur|false|number|-|模糊度|
|circle-opacity|false|string|-|不透明度，取值范围[0-1]|
|circle-stroke-width|false|number|-|边框宽度，单位px|
|circle-stroke-color|false|string|-|边框颜色，支持 rgb,rgba,16 进制色值,颜色名称|
|circle-stroke-opacity|false|number|-|边框不透明度，取值范围[0-1]|

###### DefaultLineStyleType参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|line-color|false|string|-|填充颜色，支持 rgb,rgba,16 进制色值,颜色名称|
|line-opacity|false|number|-|不透明度，取值范围[0-1]|
|line-pattern|false|string|-|填充纹理, 需指定雪碧图名称，指定填充纹理会导致填充颜色失效|
|line-width|false|number|-|宽度，单位px|
|line-gap-width|false|number|-|内部间隙宽度，单位px|
|line-offset|false|number|-|相对于线方向偏移|
|line-blur|false|number|-|模糊度|
|line-dasharray|false|[number, number]|-|虚线线段的长度及间距|

###### PolygonStyleType参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|fill-color|false|string|-|填充颜色，支持 rgb,rgba,16 进制色值,颜色名称|
|fill-outline-color|false|number|-|边框颜色，支持 rgb,rgba,16 进制色值,颜色名称|
|fill-opacity|false|number|-|不透明度，取值范围[0-1]|
|fill-pattern|false|string|-|填充纹理, 需指定雪碧图名称，指定填充纹理会导致填充颜色失效|

### 示例


```javascript
// 以下的样式均为默认样式
kmap.setGeometryDefaultStyle({
    'point-inactive': {
        'circle-radius': 3,
        'circle-color': '#3bb2d0'
    },
    'point-active': {
        'circle-radius': 5,
        'circle-color': '#D20C0C'
    },
    'point-point-stroke-inactive': {
        'circle-radius': 5,
        'circle-opacity': 1,
        'circle-color': '#fff'
    },
    'point-stroke-active': {
        'circle-radius': 7,
        'circle-color': '#fff'
    },
    'line-active': {
        'line-color': '#D20C0C',
        'line-dasharray': [0.2, 2],
        'line-width': 2
    },
    'line-inactive': {
        'line-color': '#3bb2d0',
        'line-width': 2
    },
    'polygon-fill-inactive': {
        'fill-color': '#3bb2d0',
        'fill-outline-color': '#3bb2d0',
        'fill-opacity': 0.1
    },
    'polygon-fill-active': {
        'fill-color': '#fbb03b',
        'fill-outline-color': '#fbb03b',
        'fill-opacity': 0.1
    },
    'polygon-and-line-vertex-inactive': {
        'circle-radius': 3,
        'circle-color': '#D20C0C'
    },
    'polygon-and-line-vertex-stroke-inactive': {
        'circle-radius': 5,
        'circle-color': '#fff'
    },
    'polygon-stroke-inactive': {
        'line-color': '#3bb2d0',
        'line-width': 2
    },
    'polygon-stroke-active': {
        'line-color': '#D20C0C',
        'line-dasharray': [0.2, 2],
        'line-width': 2
    },
});
```


# 图层

## 几何图层

## addGeometryLayer

### 描述

添加几何图层数据

### 参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|opts|true|[AddGeometryLayerOptions](#addgeometrylayeroptions参数说明)|-|-|

#### AddGeometryLayerOptions参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|before|false|string|-|通过addLayer,addGeometryLayer,addCustomLayer添加的图层ID,将当前图层插入在before对应图层的前面,如果不指定before参数,将图层添加到最后|
|showPolygonOutline|false|boolean|false|是否显示多边形外边线,线的样式设置方法同普通line的设置|
|data|true|[FeatureCollectionType](#featurecollectiontype参数说明)\|[FeatureType](#featuretype参数说明)|-|添加的数据，兼容geojson和geojson FeatureCollection类型的数据。|
|defaultStyles|false|Object|-|设置几何图形的默认样式|
|minzoom|false|number|-|设置图层最小显示等级|
|maxzoom|false|number|-|设置图层最大显示等级|
|ended|false|[Function](#ended函数参数说明)|-|结束回调|
|end|false|[Function](#end函数参数说明)|-|图层添加完成后的回调函数，为了兼容性考虑，暂时保留，不推荐使用|

##### FeatureCollectionType参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|type|true|固定值(string)-FeatureCollection|-|要素类型|
|features|true|Array&lt;[FeatureType](#featuretype参数说明)&gt;|-|要素集合|

###### FeatureType参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|type|true|固定值(string)-Feature|-|要素类型|
|properties|true|object|-|要素自定义属性|
|geometry|true|[PolygonGeometry](#polygongeometry参数说明)\|[LineStringGeometry](#linestringgeometry参数说明)\|[PointGeometry](#pointgeometry参数说明)\|[MultiLineStringGeometry](#multilinestringgeometry参数说明)\|[MultiPolygonGeometry](#multipolygongeometry参数说明)|-|要素空间信息|

###### PolygonGeometry参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|type|true|固定值(string)-Polygon|-|要素图形类型|
|coordinates|true|[PolygonCoordinates](#polygoncoordinates参数说明（类型）)|-|要素空间信息|

###### PolygonCoordinates参数说明（类型）

|参数名称|类型|说明|
|:--|:--:|:--|
|PolygonCoordinates|Array&lt;Array&lt;[LngLat](#lnglat参数说明（类型）)&gt;&gt;|面数据坐标类型|

###### LineStringGeometry参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|type|true|固定值(string)-LineString|-|要素图形类型|
|coordinates|true|Array&lt;[LngLat](#lnglat参数说明（类型）)&gt;|-|要素空间信息|

###### LngLat参数说明（类型）

|参数名称|类型|说明|
|:--|:--:|:--|
|LngLat|[number, number]|经纬度坐标|

###### PointGeometry参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|type|true|固定值(string)-Point|-|要素图形类型|
|coordinates|true|[LngLat](#lnglat参数说明（类型）)|-|要素空间信息|

###### MultiLineStringGeometry参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|type|true|固定值(string)-MultiLineString|-|要素图形类型|
|coordinates|true|Array&lt;Array&lt;[LngLat](#lnglat参数说明（类型）)&gt;&gt;|-|要素空间信息|

###### MultiPolygonGeometry参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|type|true|固定值(string)-MultiPolygon|-|要素图形类型|
|coordinates|true|Array&lt;[PolygonCoordinates](#polygoncoordinates参数说明（类型）)&gt;|-|要素空间信息|

##### ended函数参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|res|[EndedRes](#endedres参数说明)|-|结束回调信息|

###### EndedRes参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|status|number|-|10-成功,20-失败|
|data|string|-|返回图层id|

##### end函数参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|res|[EndRes](#endres参数说明)|-|-|

###### EndRes参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|status|number|-|10-成功,20-失败|
|data|string|-|返回图层id|

### 返回值

|类型|说明|
|:--|:--:|
|string|同步返回图层id|


**多边形可设置属性:**

|参数名称|类型|说明|
|:--|:--|--|
|fill-color|string|填充颜色，支持 rgb,rgba,16 进制色值,颜色名称|
|fill-outline-color|String|边框颜色，支持 rgb,rgba,16 进制色值,颜色名称|
|fill-opacity|Number|透明度|
|fill-pattern|String|填充纹理, 需指定雪碧图名称|
|fill-antialias|Boolean|是否抗锯齿|
|fill-translate|Array|几何偏移量, [x,y]|
|fill-translate-anchor|String|偏移相对锚点, 可选值有 'map'、'viewport'|

**线可设置属性:**

|参数名称|类型|说明|
|:--|:--|--|
|line-color|string|线颜色，支持 rgb,rgba,16 进制色值,颜色名称|
|line-opacity|Number|透明度|
|line-pattern|String|填充纹理, 需指定雪碧图名称|
|line-translate|Array|几何偏移量, [x,y]|
|line-translate-anchor|String|偏移相对锚点, 可选值有'map','viewport'|
|line-width|Number|宽度|
|line-gap-width|Number|内部间隙宽度|
|line-offset|Number|相对于线方向偏移|
|line-blur|Number|绘制阴影|
|line-dasharray|Array|虚线线段的长度及间距，例：[0.2, 2]|
|line-dashed|Boolean|是否使用虚线，true 是虚线，false 是实线，实用该参数，line-dasharray 失效|

**点可设置属性:**

|参数名称|类型|说明|
|:--|:--|--|
|circle-radius|Number|半径|
|circle-color|String|颜色，支持 rgb,rgba,16 进制色值,颜色名称|
|circle-blur|Number|模糊度|
|circle-opacity|Number|透明度|
|circle-translate|Array|几何偏移量, [x,y]|
|circle-translate-anchor|String|偏移相对锚点, 可选值有 'map', 'viewport'|
|circle-pitch-scale|String|倾斜方向, 可选值为 'map', 'viewport'|
|circle-stroke-width|Number|边框宽度|
|circle-stroke-color|String|边框颜色，支持 rgb,rgba,16 进制色值,颜色名称|
|circle-stroke-opacity|Number|边框透明度|


### 示例


```javascript
var layerId = kmap.addGeometryLayer({
    data: {
        'type': 'FeatureCollection',
        'features': [
            {
                'geometry': {
                    'coordinates': [120, 30],
                    'type': 'Point'
                },
                'type': 'Feature',
                'properties': {
                    id: 'bec7ebb89ec416c008b8f792e28ce7f1'
                }
            }
        ]，
    },
     defaultStyles: {
            'fill-color': 'green',
            'fill-opacity': 0.4,
            'line-color':'blue',//多边形外边线
            'line-opacity':0.8,
            'line-width':4
     },
     ended: function(res) {
             console.log(res);
     }
});
```


## showGeometryLayer

### 描述

显示相应id的几何图层

### 参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|opts|true|[ShowGeometryLayerOptions](#showgeometrylayeroptions参数说明)|-|-|

#### ShowGeometryLayerOptions参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|layerId|false|string|-|要显示的图层 id|

### 示例


```javascript
kmap.showGeometricLayer({
    layerId: 'polygonLayer'
});
```


## hideGeometryLayer

### 描述

隐藏相应id的几何图层

### 参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|opts|true|[HideGeometryLayerOptions](#hidegeometrylayeroptions参数说明)|-|-|

#### HideGeometryLayerOptions参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|layerId|false|string|-|要隐藏的图层 id|

### 示例


```javascript
kmap.hideGeometryLayer({
    layerId: 'polygonLayer'
});
```


## addGeometryCircleLayer

### 描述

添加百度风格的圆形编辑图层

### 参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|opts|true|[AddGeometryCircleLayerOptions](#addgeometrycirclelayeroptions参数说明)|-|-|

#### AddGeometryCircleLayerOptions参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|before|false|string|-|通过addLayer,addGeometryLayer,addCustomLayer添加的图层ID,将当前图层插入在before对应图层的前面,如果不指定before参数,将图层添加到最后|
|showPolygonOutline|false|boolean|false|是否显示多边形外边线,线的样式设置方法同普通line的设置|
|data|false|[FeatureCollectionType](#featurecollectiontype参数说明)\|[FeatureType](#featuretype参数说明)|-|添加的数据，兼容geojson和geojson FeatureCollection类型的数据。|
|defaultStyles|false|Object|-|设置几何图形的默认样式|
|center|false|[LngLat](#lnglat参数说明（类型）)|-|圆心坐标, 圆心坐标和圆半径需要同时设置，并且设置后 data 将不生效|
|radius|false|number|-|圆半径，单位是公里|
|draggable|false|boolean|-|圆拖动功能|
|centerElement|false|[Element](#element参数说明)|-|圆心dom元素|
|updateHandler|false|[Function](#function参数说明)|-|圆形图层编辑后的回调函数|
|ended|false|[Function](#ended函数参数说明)|-|结束回调|

##### FeatureCollectionType参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|type|true|固定值(string)-FeatureCollection|-|要素类型|
|features|true|Array&lt;[FeatureType](#featuretype参数说明)&gt;|-|要素集合|

###### FeatureType参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|type|true|固定值(string)-Feature|-|要素类型|
|properties|true|object|-|要素自定义属性|
|geometry|true|[PolygonGeometry](#polygongeometry参数说明)\|[LineStringGeometry](#linestringgeometry参数说明)\|[PointGeometry](#pointgeometry参数说明)\|[MultiLineStringGeometry](#multilinestringgeometry参数说明)\|[MultiPolygonGeometry](#multipolygongeometry参数说明)|-|要素空间信息|

###### PolygonGeometry参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|type|true|固定值(string)-Polygon|-|要素图形类型|
|coordinates|true|[PolygonCoordinates](#polygoncoordinates参数说明（类型）)|-|要素空间信息|

###### PolygonCoordinates参数说明（类型）

|参数名称|类型|说明|
|:--|:--:|:--|
|PolygonCoordinates|Array&lt;Array&lt;[LngLat](#lnglat参数说明（类型）)&gt;&gt;|面数据坐标类型|

###### LineStringGeometry参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|type|true|固定值(string)-LineString|-|要素图形类型|
|coordinates|true|Array&lt;[LngLat](#lnglat参数说明（类型）)&gt;|-|要素空间信息|

###### LngLat参数说明（类型）

|参数名称|类型|说明|
|:--|:--:|:--|
|LngLat|[number, number]|经纬度坐标|

###### PointGeometry参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|type|true|固定值(string)-Point|-|要素图形类型|
|coordinates|true|[LngLat](#lnglat参数说明（类型）)|-|要素空间信息|

###### MultiLineStringGeometry参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|type|true|固定值(string)-MultiLineString|-|要素图形类型|
|coordinates|true|Array&lt;Array&lt;[LngLat](#lnglat参数说明（类型）)&gt;&gt;|-|要素空间信息|

###### MultiPolygonGeometry参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|type|true|固定值(string)-MultiPolygon|-|要素图形类型|
|coordinates|true|Array&lt;[PolygonCoordinates](#polygoncoordinates参数说明（类型）)&gt;|-|要素空间信息|

##### ended函数参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|res|[EndedRes](#endedres参数说明)|-|结束回调信息|

###### EndedRes参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|status|number|-|10-成功,20-失败|
|data|string|-|返回图层id|

### 返回值

|类型|说明|
|:--|:--:|
|string|同步返回图层id|

### 示例


```javascript
kmap.addGeometryCircleLayer({
    center: [120.56683, 31.29484],
    radius: 0.1,
    draggable:  true,
    updateHandler: (res)=>{
        console.log(res);
    },
    defaultStyles:{
        'line-dasharray': [6,6]
    },
    end: function (data) {
        console.log(data);
    }
});
```


## updateGeometryLayer

### 描述

更新几何图层数据

### 参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|opts|true|[UpdateGeometryLayerOptions](#updategeometrylayeroptions参数说明)|-|-|

#### UpdateGeometryLayerOptions参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|layerId|false|string|-|需要进行更新的图层id|
|data|true|[FeatureCollectionType](#featurecollectiontype参数说明)\|[FeatureType](#featuretype参数说明)|-|添加的数据，兼容geojson和geojson FeatureCollection类型的数据。|
|ended|false|[Function](#ended函数参数说明)|-|结束回调|

##### FeatureCollectionType参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|type|true|固定值(string)-FeatureCollection|-|要素类型|
|features|true|Array&lt;[FeatureType](#featuretype参数说明)&gt;|-|要素集合|

###### FeatureType参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|type|true|固定值(string)-Feature|-|要素类型|
|properties|true|object|-|要素自定义属性|
|geometry|true|[PolygonGeometry](#polygongeometry参数说明)\|[LineStringGeometry](#linestringgeometry参数说明)\|[PointGeometry](#pointgeometry参数说明)\|[MultiLineStringGeometry](#multilinestringgeometry参数说明)\|[MultiPolygonGeometry](#multipolygongeometry参数说明)|-|要素空间信息|

###### PolygonGeometry参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|type|true|固定值(string)-Polygon|-|要素图形类型|
|coordinates|true|[PolygonCoordinates](#polygoncoordinates参数说明（类型）)|-|要素空间信息|

###### PolygonCoordinates参数说明（类型）

|参数名称|类型|说明|
|:--|:--:|:--|
|PolygonCoordinates|Array&lt;Array&lt;[LngLat](#lnglat参数说明（类型）)&gt;&gt;|面数据坐标类型|

###### LineStringGeometry参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|type|true|固定值(string)-LineString|-|要素图形类型|
|coordinates|true|Array&lt;[LngLat](#lnglat参数说明（类型）)&gt;|-|要素空间信息|

###### LngLat参数说明（类型）

|参数名称|类型|说明|
|:--|:--:|:--|
|LngLat|[number, number]|经纬度坐标|

###### PointGeometry参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|type|true|固定值(string)-Point|-|要素图形类型|
|coordinates|true|[LngLat](#lnglat参数说明（类型）)|-|要素空间信息|

###### MultiLineStringGeometry参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|type|true|固定值(string)-MultiLineString|-|要素图形类型|
|coordinates|true|Array&lt;Array&lt;[LngLat](#lnglat参数说明（类型）)&gt;&gt;|-|要素空间信息|

###### MultiPolygonGeometry参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|type|true|固定值(string)-MultiPolygon|-|要素图形类型|
|coordinates|true|Array&lt;[PolygonCoordinates](#polygoncoordinates参数说明（类型）)&gt;|-|要素空间信息|

##### ended函数参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|res|[FeatureCollectionType](#featurecollectiontype参数说明)|-|要素集合|

### 示例


```javascript
kmap.updateGeometryLayer({
    data: {
        'type': 'FeatureCollection',
        'features': [
            {
                'geometry': {
                    'coordinates': [120, 30],
                    'type': 'Point'
                },
                'type': 'Feature',
                'properties': {
                    id: 'bec7ebb89ec416c008b8f792e28ce7f1'
                }
            }
        ]，
    },
     ended: function(res) {
             console.log(res);
     }
});
```


## 静态业务图层

## addStaticLayer

### 描述

添加静态图层，数据只添加一次，不会随着地图拖动、缩放更新数据；每次最多显示1000条数据。

### 参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|opts|true|[StaticLayerOptions](#staticlayeroptions参数说明)|-|-|

#### StaticLayerOptions参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|serviceName|true|string|-|图层数据对应的后端标识|
|clustered|false|boolean|-|查询结果是否使用聚合，true-聚合，false-非聚合|
|maxCount|false|number|-|最大查询数量，默认为1000，且不得超过1000|
|icons|true|Array&lt;[Icon](#icon参数说明)&gt;|-|poi显示的图标级过滤条件。支持单图标和多图标。图标来源于雪碧图。条件见示例。|
|clusteredFilters|true|Array&lt;[ClusteredFilter](#clusteredfilter参数说明)&gt;|-|聚合条件, clustered=true时必填, 详见ClusteredFilter表格|
|before|false|string|-|图层ID,将当前图层插入在before对应图层的前面,如果不指定,将图层添加到最上层|
|ended|false|[Function](#ended函数参数说明)|-|结束回调|
|onError|false|[Function](#onerror函数参数说明)|-|错误回调函数|

##### Icon参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|iconName|true|string|-|雪碧图名称|
|scale|false|number|1|雪碧图缩放比例|
|filter|true|Array&lt;[IconFilter](#iconfilter参数说明)&gt;|-|过滤条件, 详见IconFilter表格|

###### IconFilter参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|key|true|string|-|过滤字段|
|value|false|string\|number|-|过滤字段对应的值（强数据类型匹配），value与filter需二选一设置，设置value时，直接将数据中key的值与传入的value匹配|
|filter|false|Array&lt;[IconFilter](#iconfilter参数说明)&gt;|-|匹配key属性对应对象的属性，满足多层属性的过滤，设置filter时，代表数据中key对应的值为对象，嵌套的filter将进一步匹配下层对象的属性|

##### ClusteredFilter参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|count|true|number|-|聚合数量|
|circleRadius|false|number|18|聚合圆样式, 圆的半径, clustered=true时有效|
|circleColor|false|string|'#000000'|聚合圆样式, 圆的颜色, clustered=true时有效|
|circleStrokeWidth|false|number|0|聚合圆样式, 圆的边框宽度, clustered=true时有效|
|circleStrokeColor|false|string|'#000000'|聚合圆样式, 圆的边框颜色, clustered=true且边框宽度不为0时有效|

##### ended函数参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|res|[EndedRes](#endedres参数说明)|-|结束回调信息|

###### EndedRes参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|status|number|-|10-成功,20-失败|
|data|string|-|返回图层id|

##### onError函数参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|error|[IErrorCodeInfo](#ierrorcodeinfo参数说明)|-|-|

###### IErrorCodeInfo参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|code|string|-|错误码编号|
|message|string|-|错误信息|

### 返回值

|类型|说明|
|:--|:--:|
|string|同步返回图层id|

### 示例


```javascript
var staticLayerId = kmap.addStaticLayer({
serviceName: 'service_tzn_test7',
clustered: false,
icons: [{
    iconName: 'car-15',
}],
clusteredFilters: [{
    count: 1,
    circleColor: '#51bbd6',
    circleRadius: 20
},
    {
        count: 10,
        circleColor: '#f1f075',
        circleRadius: 30
    },
    {
        count: 100,
        circleColor: '#f28cb1',
        circleRadius: 40
    }
],
ended: function () {
    //to do sth
}
});
```


## 基础数据图层

## addBasicDataCluster

### 描述

添加基础数据聚合图层，支持展示POI、道路、路口、路段、水源的聚合信息；当zoom足够大时，会展示指定信息详情。移动、缩放地图时会自动更新数据。

### 参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|options|true|[BasicDataClusterOptions](#basicdataclusteroptions参数说明)|-|-|

#### BasicDataClusterOptions参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|dataType|false|[BasicDataType](#basicdatatype参数说明)|KMap.BASIC_DATA_TYPE.POI_NUM|详见基础数据类型常量表|
|adcode|false|string|-|行政区划编码，按行政区划过滤查询，不支持传入100000。|
|poiFilters|false|[PoiFilter](#poifilter参数说明)|-|poi数据过滤条件，仅查询poi数据时生效，详见poiFilters说明|
|filters|false|[BasicFilter](#basicfilter参数说明)|-|基础数据过滤条件，使用该参数时，poiFilters 参数无效|
|keyword|false|string|-|关键字查询，支持拼音查询，使用该参数时，poiFilters 或 filters 中的 keyword 参数无效，在查询道路/水系数据时，行政区划编码必填，与服务查询中的道路/水系查询接口保持一致|
|clusteredFilters|true|Array&lt;[ClusteredFilter](#clusteredfilter参数说明)&gt;|-|聚合条件, 详见ClusteredFilter表格|
|showPolygonOutline|false|boolean|false|显示水源详情时，是否显示描边，true-显示，false-不显示|
|styles|true|Object|-|自定义样式，目前仅支持水源部分，详细配置见styles配置表|
|ended|false|[Function](#ended函数参数说明)|-|结束回调|
|onError|false|[Function](#onerror函数参数说明)|-|错误回调函数|

##### BasicDataType参数说明

|参数名称|描述|实际值|
|:--|:--|:--:|
|KMap.BASIC_DATA_TYPE.POI_NUM|POI（数字）|1|
|KMap.BASIC_DATA_TYPE.ROAD_NUM|道路（数字）|2|
|KMap.BASIC_DATA_TYPE.CROSS_NUM|路口（数字）|3|
|KMap.BASIC_DATA_TYPE.ROAD_SECTION_NUM|路段（数字）|4|
|KMap.BASIC_DATA_TYPE.WATER_FACE_NUM|水源（数字）|5|

##### PoiFilter参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|searchType|false|Array&lt;string&gt;|-|需要查询的poi类别|
|keyword|false|string|-|查询关键字|

##### BasicFilter参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|searchType|false|Array&lt;string&gt;|-|需要查询的基础数据类别|
|keyword|false|string|-|查询关键字|

##### ClusteredFilter参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|count|true|number|-|聚合数量|
|circleRadius|false|number|18|聚合圆样式, 圆的半径, clustered=true时有效|
|circleColor|false|string|'#000000'|聚合圆样式, 圆的颜色, clustered=true时有效|
|circleStrokeWidth|false|number|0|聚合圆样式, 圆的边框宽度, clustered=true时有效|
|circleStrokeColor|false|string|'#000000'|聚合圆样式, 圆的边框颜色, clustered=true且边框宽度不为0时有效|

##### ended函数参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|res|[EndedRes](#endedres参数说明)|-|结束回调信息|

###### EndedRes参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|status|number|-|10-成功,20-失败|
|data|string|-|返回图层id|

##### onError函数参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|error|[IErrorCodeInfo](#ierrorcodeinfo参数说明)|-|错误信息|

###### IErrorCodeInfo参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|code|string|-|错误码编号|
|message|string|-|错误信息|

### 返回值

|类型|说明|
|:--|:--:|
|string|同步返回图层id|


**styles配置表:**

* **多边形可设置属性:**

|参数名称|类型|说明|
|:--|:--|--|
|fill-color|string|填充颜色，支持 rgb,rgba,16 进制色值,颜色名称|
|fill-outline-color|String|边框颜色，支持 rgb,rgba,16 进制色值,颜色名称|
|fill-opacity|Number|透明度|
|fill-pattern|String|填充纹理, 需指定雪碧图名称|
|fill-antialias|Boolean|是否抗锯齿|
|fill-translate|Array|几何偏移量, [x,y]|
|fill-translate-anchor|String|偏移相对锚点, 可选值有 'map'、'viewport'|

**线可设置属性:**

|参数名称|类型|说明|
|:--|:--|--|
|line-color|string|线颜色，支持 rgb,rgba,16 进制色值,颜色名称|
|line-opacity|Number|透明度|
|line-pattern|String|填充纹理, 需指定雪碧图名称|
|line-translate|Array|几何偏移量, [x,y]|
|line-translate-anchor|String|偏移相对锚点, 可选值有'map','viewport'|
|line-width|Number|宽度|
|line-gap-width|Number|内部间隙宽度|
|line-offset|Number|相对于线方向偏移|
|line-blur|Number|绘制阴影|
|line-dasharray|Array|虚线线段的长度及间距，例：[0.2, 2]|


### 示例


```javascript
var basicDataClusterLayerId = kmap.addBasicDataCluster({
    dataType: KMap.BASIC_DATA_TYPE.POI_NUM,
    clusteredFilters: [
        {
            count: 1,
            circleColor: '#51bbd6',
            circleRadius: 20
        },
        {
            count: 10,
            circleColor: '#f1f075',
            circleRadius: 25
        },
        {
            count: 100,
            circleColor: '#f28cb1',
            circleRadius: 30
        }
    ],
    ended: function (res) {
        if (res.status === 10) {
            console.log('layer created');
        }
    }
});
```


## addPoiLayer

### 描述

添加poi图层，可自定义坐标查询、自定义图标类型以及是否使用聚合。

### 参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|opts|true|[PoiLayerOptions](#poilayeroptions参数说明)|-|-|

#### PoiLayerOptions参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|searchType|false|Array&lt;string&gt;|-|查询poi的类型，默认为全部|
|keyword|false|string|-|要查询的关键字|
|adcode|false|string|-|查询区域的行政编码,和polygon同时存在的情况下会优先使用adcode|
|polygon|false|Array&lt;any&gt;|-|查询poi的范围。不填取屏幕范围，填写则以该面为准|
|geometry|false|[PolygonGeometry](#polygongeometry参数说明)\|[MultiPolygonGeometry](#multipolygongeometry参数说明)|-|查询poi的范围。不填取屏幕范围，填写则以该面为准，如果传入该参数，则参数 polygon 无效|
|maxCount|false|number|-|最大查询数量，默认为1000，且不超过1000|
|icons|true|Array&lt;[Icon](#icon参数说明)&gt;|-|poi显示的图标级过滤条件。支持单图标和多图标。图标来源于雪碧图。条件见示例。未被条件命中的数据将使用默认图标|
|iconSize|false|Array&lt;number&gt;|[0.5,1.5,3,19]|格式为：[minScale, maxScale, minZoom, maxZoom]图标scale随层级变化而变化,当前层级 < minZoom时图标scale为minScale；minZoom <当前层级 < maxZoom时 ，图标scale从minScale到maxScale线性递增；当前层级 > maxZoom时，图标scale为maxScale。minZoom、maxZoom为非必填，对应值默认为3和19（iconSize属性优先级高于icons参数中的scale）|
|showText|false|string|-|指定数据源中对应属性显示为文本，仅非聚合图标生效|
|showTextZoomRange|false|Array&lt;[Number](#number参数说明)&gt;|-|showText 对应的文本图层，显示的层级范围，比如：[16, 20]，表示16 <= 地图当前层级 < 20 就是 showText 对应的文本图层|
|iconTextStyle|true|[IconTextBaseStyle](#icontextbasestyle参数说明)|-|图层文字样式, 指定了showText时有效，详见iconTextStyle说明|
|before|false|string|-|图层ID,将当前图层插入在before对应图层的前面,如果不指定,将图层添加到最上层|
|clustered|false|boolean|false|是否使用聚合，true-聚合，false-不聚合|
|clusteredRadius|false|number|50|前端聚合半径, 单位像素|
|clusteredFilters|true|Array&lt;[ClusteredFilter](#clusteredfilter参数说明)&gt;|-|聚合条件， 详见ClusteredFilter表格|
|ended|false|[Function](#ended函数参数说明)|-|结束回调|
|onError|false|[Function](#onerror函数参数说明)|-|错误回调函数|

##### PolygonGeometry参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|type|true|固定值(string)-Polygon|-|要素图形类型|
|coordinates|true|[PolygonCoordinates](#polygoncoordinates参数说明（类型）)|-|要素空间信息|

###### PolygonCoordinates参数说明（类型）

|参数名称|类型|说明|
|:--|:--:|:--|
|PolygonCoordinates|Array&lt;Array&lt;[LngLat](#lnglat参数说明（类型）)&gt;&gt;|面数据坐标类型|

##### MultiPolygonGeometry参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|type|true|固定值(string)-MultiPolygon|-|要素图形类型|
|coordinates|true|Array&lt;[PolygonCoordinates](#polygoncoordinates参数说明（类型）)&gt;|-|要素空间信息|

##### Icon参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|iconName|true|string|-|雪碧图名称|
|scale|false|number|1|雪碧图缩放比例|
|filter|true|Array&lt;[IconFilter](#iconfilter参数说明)&gt;|-|过滤条件, 详见IconFilter表格|

###### IconFilter参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|key|true|string|-|过滤字段|
|value|false|string\|number|-|过滤字段对应的值（强数据类型匹配），value与filter需二选一设置，设置value时，直接将数据中key的值与传入的value匹配|
|filter|false|Array&lt;[IconFilter](#iconfilter参数说明)&gt;|-|匹配key属性对应对象的属性，满足多层属性的过滤，设置filter时，代表数据中key对应的值为对象，嵌套的filter将进一步匹配下层对象的属性|

##### IconTextBaseStyle参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|textOffset|false|Array&lt;number&gt;|[0, 1.5]|文本与其定位点的偏移距离。正值表示向右和向下，负值表示向左和向上|
|textSize|false|number|12|字体大小|
|textJustify|false|string|'center'|字体对齐方式 'left'或'center'或'right'|
|textColor|false|string|'#ffffff'|字体颜色|
|iconColor|false|string|'#1569E0'|字体背景颜色|
|backgroundShape|false|string|'round'|文字的背景矩形，'round'为圆角，‘square’为尖角|
|textAllowOverlap|false|boolean|false|是否允许字体重叠|
|iconTextFitPadding|false|Array&lt;number&gt;|[0, 6, 0, 6]|字体相对背景内间距，四个值分别设置top、right、bottom、left|
|backgroundImage|false|string|-|文本的背景图片地址|
|backgroundImageOptions|false|[backgroundImageOptionsObject](#backgroundimageoptionsobject参数说明)|-|文本的背景图片的设置|

###### backgroundImageOptionsObject参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|content|true|Array&lt;number&gt;|-|[x1, y1, x2, y2] 定义文本背景图片，哪些区域用于显示文本|
|stretchX|true|Array&lt;Array&lt;number&gt;&gt;|-|[[x1, x2], ...] 定义文本背景图片，哪些位置可以水平拉伸|
|stretchY|true|Array&lt;Array&lt;number&gt;&gt;|-|[[y1, y2], ...] 定义文本背景图片，哪些位置可以垂直拉伸|

##### ClusteredFilter参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|count|true|number|-|聚合数量|
|circleRadius|false|number|18|聚合圆样式, 圆的半径, clustered=true时有效|
|circleColor|false|string|'#000000'|聚合圆样式, 圆的颜色, clustered=true时有效|
|circleStrokeWidth|false|number|0|聚合圆样式, 圆的边框宽度, clustered=true时有效|
|circleStrokeColor|false|string|'#000000'|聚合圆样式, 圆的边框颜色, clustered=true且边框宽度不为0时有效|

##### ended函数参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|res|[EndedRes](#endedres参数说明)|-|结束回调信息|

###### EndedRes参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|status|number|-|10-成功,20-失败|
|data|string|-|返回图层id|

##### onError函数参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|error|[IErrorCodeInfo](#ierrorcodeinfo参数说明)|-|错误信息|

###### IErrorCodeInfo参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|code|string|-|错误码编号|
|message|string|-|错误信息|

### 返回值

|类型|说明|
|:--|:--:|
|string|同步返回图层id|

### 示例


```javascript
var poiLayerId = kmap.addPoiLayer({
   // polygon: [[120.54727890934691,31.29885458911683],[120.54557006767556,31.296290198457882],[120.54801127019442,31.296498797143414],[120.54727890934691,31.29885458911683]],  单面
    maxCount: 1000,
    searchType: [],
    icons: [{    // 单一图标
         iconName: 'car-15',
    }],
  // icons: [   // 指定图标
  //   {
  //     iconName: 'airport-15',
  //     filter: [{
  //       value: '070000',
  //       key: 'kindcode'
  //     }]
  //   },
  //   {
  //     iconName: 'bank-15',
  //     filter: [{
  //       value: '070800',
  //       key: 'kindcode'
  //     }]
  //   }
  // ],
  clusteredRadius: 50,
  clusteredFilters: [
    {
      count: 1,
      circleColor: '#51bbd6',
      circleRadius: 20,
    },
    {
      count: 10,
      circleColor: '#f1f075',
      circleRadius: 30,
    },
    {
      count: 100,
      circleColor: '#f28cb1',
      circleRadius: 40,
    },
  ],
    ended: function (res) {
       if (res.status === 10) {
          // to do sth
       }
    }
});
```


## addBasicDataLayer

### 描述

添加基础数据（里程碑）图层，此接口是为了兼容2.X的调用方法而保留，建议使用里程碑图层，此功能后续不再维护。

### 参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|opts|true|[MilestoneLayerOptions](#milestonelayeroptions参数说明)|-|-|

#### MilestoneLayerOptions参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|adminId|true|string\|number|-|行政区划编码|
|serviceName|true|string|-|图层数据对应的服务端标识|
|kmMilestoneMinZoom|false|number|12|公里里程碑图层显示最小层级(包含)|
|kmMilestoneMaxZoom|false|number|19|公里里程碑图层显示最大层级(包含)|
|hmMilestoneMinZoom|false|number|17|百米里程碑图层显示最小层级(包含)|
|hmMilestoneMaxZoom|false|number|19|百米里程碑图层显示最大层级(包含)|
|textColor|false|string|-|里程碑文字颜色|
|ended|false|[Function](#ended函数参数说明)|-|结束回调|
|onError|false|[Function](#onerror函数参数说明)|-|错误回调函数|

##### ended函数参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|res|[EndedRes](#endedres参数说明)|-|结束回调信息|

###### EndedRes参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|status|number|-|10-成功,20-失败|
|data|string|-|返回图层id|

##### onError函数参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|error|[IErrorCodeInfo](#ierrorcodeinfo参数说明)|-|错误信息|

###### IErrorCodeInfo参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|code|string|-|错误码编号|
|message|string|-|错误信息|

### 返回值

|类型|说明|
|:--|:--:|
|string|同步返回图层id|

### 示例


```javascript
var basicDataLayerId = kmap.addBasicDataLayer({
    adminId: 320500,
    // keyword: "沪蓉高速",
    kmMilestoneMinZoom: 12,
    kmMilestoneMaxZoom: 19,
    hmMilestoneMinZoom: 17,
    hmMilestoneMaxZoom: 19,
    textColor: "#fff",
    ended: function (res) {
        if (res.status === 10) {
            console.log('layer created');
        }
    }
});
```


## addMilestoneLayer

### 描述

添加里程碑图层。数据会随着地图的移动、缩放而更新。

### 参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|opts|true|[MilestoneLayerOptions](#milestonelayeroptions参数说明)|-|-|

#### MilestoneLayerOptions参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|adminId|true|string\|number|-|行政区划编码|
|serviceName|true|string|-|图层数据对应的服务端标识|
|kmMilestoneMinZoom|false|number|12|公里里程碑图层显示最小层级(包含)|
|kmMilestoneMaxZoom|false|number|19|公里里程碑图层显示最大层级(包含)|
|hmMilestoneMinZoom|false|number|17|百米里程碑图层显示最小层级(包含)|
|hmMilestoneMaxZoom|false|number|19|百米里程碑图层显示最大层级(包含)|
|textColor|false|string|-|里程碑文字颜色|
|ended|false|[Function](#ended函数参数说明)|-|结束回调|
|onError|false|[Function](#onerror函数参数说明)|-|错误回调函数|

##### ended函数参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|res|[EndedRes](#endedres参数说明)|-|结束回调信息|

###### EndedRes参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|status|number|-|10-成功,20-失败|
|data|string|-|返回图层id|

##### onError函数参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|error|[IErrorCodeInfo](#ierrorcodeinfo参数说明)|-|错误信息|

###### IErrorCodeInfo参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|code|string|-|错误码编号|
|message|string|-|错误信息|

### 返回值

|类型|说明|
|:--|:--:|
|string|同步返回图层id|

### 示例


```javascript
var milestoneLayerId = kmap.addMilestoneLayer({
    adminId: 320500,
    // keyword: "沪蓉高速",
    kmMilestoneMinZoom: 12,
    kmMilestoneMaxZoom: 19,
    hmMilestoneMinZoom: 17,
    hmMilestoneMaxZoom: 19,
    textColor: "#fff",
    ended: function (res) {
        if (res.status === 10) {
            console.log('layer created');
        }
    }
});
```


## addDataStatisticLayer

### 描述

以省维度统计POI数据，返回图层id及统计结果。

### 参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|opts|true|[AddDataStatisticLayerOptions](#adddatastatisticlayeroptions参数说明)|-|-|

#### AddDataStatisticLayerOptions参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|clusteredFilters|true|Array&lt;[ClusteredFilter](#clusteredfilter参数说明)&gt;|-|聚合样式配置|
|keyword|true|string|-|查询关键字|
|dataSearchType|false|number|0|查询的POI归属类别，0-基础与用户拓展POI，1-基础POI，2-用户拓展POI|
|minZoom|false|number|-|最小显示层级（包含）|
|maxZoom|false|number|-|最大显示层级（包含）|
|visible|false|boolean|true|是否显示统计结果图层，true-显示，false-不显示|
|textAllowOverlap|false|boolean|false|是否允许聚合文字互相压盖，false-不允许，true-允许|
|ended|false|[Function](#ended函数参数说明)|-|结束回调|
|onError|false|[Function](#onerror函数参数说明)|-|错误回调函数|

##### ClusteredFilter参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|count|true|number|-|聚合数量|
|circleRadius|false|number|18|聚合圆样式, 圆的半径, clustered=true时有效|
|circleColor|false|string|'#000000'|聚合圆样式, 圆的颜色, clustered=true时有效|
|circleStrokeWidth|false|number|0|聚合圆样式, 圆的边框宽度, clustered=true时有效|
|circleStrokeColor|false|string|'#000000'|聚合圆样式, 圆的边框颜色, clustered=true且边框宽度不为0时有效|

##### ended函数参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|res|[EndedRes](#endedres参数说明)|-|结束回调信息|

###### EndedRes参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|status|number|-|10-成功,20-失败|
|data|string|-|返回图层id|
|result|Array&lt;[DataStatisticInfo](#datastatisticinfo参数说明)&gt;|-|统计结果|

###### DataStatisticInfo参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|geometry|[PointGeometry](#pointgeometry参数说明)|-|空间信息|
|properties|[propertiesObject](#propertiesobject参数说明)|-|统计信息|
|type|固定值(string)-Feature|-|要素类别|

###### PointGeometry参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|type|固定值(string)-Point|-|要素图形类型|
|coordinates|[LngLat](#lnglat参数说明（类型）)|-|要素空间信息|

###### LngLat参数说明（类型）

|参数名称|类型|说明|
|:--|:--:|:--|
|LngLat|[number, number]|经纬度坐标|

###### propertiesObject参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|adcode|string|-|行政编码|
|count|number|-|数据量|
|level|string|-|行政区划等级|
|name|string|-|行政区划名称|

##### onError函数参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|error|[IErrorCodeInfo](#ierrorcodeinfo参数说明)|-|错误信息|

###### IErrorCodeInfo参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|code|string|-|错误码编号|
|message|string|-|错误信息|

### 示例


```javascript
kmap.addDataStatisticLayer({
    keyword: "饭店",
    ended: function (res) {
        if (res.status === 10) {
            console.log('layer created');
        }
    }
});
```


## 业务图层

## addCustomLayer

### 描述

可通过缩小地图层级，将定义范围内的多个标注点，聚合显示成一个标注点，解决加载大量点要素到地图上产生覆盖现象的问题，并提高性能。非聚合点通过图层事件可返回数据详情，聚合点的详情需要调用 queryClusterDetail 方法查询。

动态图层刷新对应的服务单实例最大可支持20次/秒并发同时调用，以如下场景为例: 单个云平台用户，15s刷新，20个客户端(多动态图层)保持同时打开刷新，预计每分钟刷新1200-1500次，约20-25次/秒调用，超过上限，需扩展1个服务实例；如现场需同时打开叠加动态图层，建议每超20个客户端，则增加一个服务实例，以此类推，具体以现场实际情况为准。

在使用参数 mixTerms 过滤条件时，对于人员账号，需要传 targetType 值为 5；对于重点人员，需要传 targetType 值为 27；其它情况默认无需填写

### 参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|opts|true|[CustomLayerOptions](#customlayeroptions参数说明)|-|-|

#### CustomLayerOptions参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|serviceName|true|string|-|对应的图层类型|
|serviceNames|false|Array&lt;string&gt;|-|对应的图层类型组，注意：传入多组图层类型，只默认选第一个|
|adcode|false|string|-|查询区域的行政编码|
|polygon|false|Array&lt;Array&lt;[LngLat](#lnglat参数说明（类型）)&gt;&gt;|-|查询范围点坐标集合|
|geometry|false|[PolygonGeometry](#polygongeometry参数说明)\|[MultiPolygonGeometry](#multipolygongeometry参数说明)|-|查询范围，如果传入该参数，则参数 polygon 无效|
|icons|true|Array&lt;[Icon](#icon参数说明)&gt;|-|图标来源于雪碧图。poi显示的图标级过滤条件。支持单图标和多图标。条件见示例。|
|iconSize|false|Array&lt;number&gt;|[0.5,1.5,3,19]|格式为：[minScale, maxScale, minZoom, maxZoom]图标scale随层级变化而变化,当前层级 < minZoom时图标scale为minScale；minZoom <当前层级 < maxZoom时 ，图标scale从minScale到maxScale线性递增；当前层级 > maxZoom时，图标scale为maxScale。minZoom、maxZoom为非必填，对应值默认为3和19（iconSize属性优先级高于icons参数中的scale）|
|clustered|false|boolean|false|是否聚合|
|enableGridAgg|false|boolean|false|是否启用网格聚合，启用该聚合策略，不使用云平台配置的聚合策略|
|gridClusterRadius|false|number|10|网格聚合半径，最小值是 10，在 enableGridAgg 为 true 时有效|
|before|false|string|-|图层ID,将当前图层插入在before对应图层的下方,如果不指定,将图层添加到最上层|
|isPublic|false|boolean|false|是否查询公有空间数据。默认查询私有|
|mixTerms|false|Array&lt;[Term](#term参数说明)&gt;|-|查询过滤条件, 支持多条件搜索,详见自有数据查询的term|
|dynamic|false|boolean|false|是否为动态图层,定时更新数据|
|timer|false|number|15000|动态图层更新时间间隔,单位毫秒，不能小于默认值,dynamic=true时有效|
|clusteredFilters|true|Array&lt;[ClusteredFilter](#clusteredfilter参数说明)&gt;|-|聚合条件, clustered=true时必填, 详见ClusteredFilter表格|
|showText|false|string|-|指定数据源中对应属性显示为文本，仅非聚合图标生效|
|iconTextContent|false|Array&lt;[IconTextContent](#icontextcontent参数说明)&gt;|-|文字标注多行文本展示|
|iconTextStyle|true|[IconTextStyle](#icontextstyle参数说明)|-|图层文字样式, 指定了showText或iconTextContent时有效，详见iconTextStyle说明|
|showRegions|false|boolean|false|是否显示查询对应的行政区划|
|geometryStyle|false|[GeometryStyle](#geometrystyle参数说明)|-|showRegions为true时生效。用于设置行政区划样式，详见geometryStyle说明|
|backgroundIcon|false|[BackgroundIcon](#backgroundicon参数说明)|-|设置icon水滴型外框，详见backgroundIcon说明。|
|enableUpdateFeature|false|boolean|false|是否允许更新feature,用于动态更新单个非聚合图标（性能有一定影响，如无必要，请勿开启）|
|throughNet|false|boolean|-|是否开启穿网级联，仅适用于公有空间设备图层|
|throughNetUrls|false|Array&lt;string&gt;|-|穿网级联指定的域名，设置后会请求该域名下ct-server的数据|
|iconOffset|false|Array&lt;number&gt;|[0, 0]|图标偏移量|
|iconRotateField|false|string|-|图标旋转参数，对应的字段是数据中的字段名称，顺时针旋转|
|circleRadius|false|number|18|聚合圆样式, 圆的半径, clustered=true时有效|
|circleColor|false|string|'#000000'|聚合圆样式，支持 rgb,rgba,16 进制色值,颜色名称, 圆的颜色, clustered=true时有效|
|circleStrokeWidth|false|number|0|聚合圆样式, 圆的边框宽度, clustered=true时有效|
|circleStrokeColor|false|string|'#000000'|聚合圆样式，支持 rgb,rgba,16 进制色值,颜色名称, 圆的边框颜色, clustered=true且边框宽度不为0时有效|
|countTextSize|false|number|14|聚合数量样式, 数字字体大小, clustered=true时有效|
|countTextColor|false|string|'#ffffff'|聚合数量样式, 数字颜色, clustered=true时有效|
|countTextAllowOverlap|false|boolean|false|是否允许聚合数量的字体重叠|
|ended|false|[Function](#ended函数参数说明)|-|结束回调|
|onError|false|[Function](#onerror函数参数说明)|-|错误回调函数|

##### LngLat参数说明（类型）

|参数名称|类型|说明|
|:--|:--:|:--|
|LngLat|[number, number]|经纬度坐标|

##### PolygonGeometry参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|type|true|固定值(string)-Polygon|-|要素图形类型|
|coordinates|true|[PolygonCoordinates](#polygoncoordinates参数说明（类型）)|-|要素空间信息|

###### PolygonCoordinates参数说明（类型）

|参数名称|类型|说明|
|:--|:--:|:--|
|PolygonCoordinates|Array&lt;Array&lt;[LngLat](#lnglat参数说明（类型）)&gt;&gt;|面数据坐标类型|

##### MultiPolygonGeometry参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|type|true|固定值(string)-MultiPolygon|-|要素图形类型|
|coordinates|true|Array&lt;[PolygonCoordinates](#polygoncoordinates参数说明（类型）)&gt;|-|要素空间信息|

##### Icon参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|iconName|true|string|-|雪碧图名称|
|scale|false|number|1|雪碧图缩放比例|
|filter|true|Array&lt;[IconFilter](#iconfilter参数说明)&gt;|-|过滤条件, 详见IconFilter表格|

###### IconFilter参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|key|true|string|-|过滤字段|
|value|false|string\|number|-|过滤字段对应的值（强数据类型匹配），value与filter需二选一设置，设置value时，直接将数据中key的值与传入的value匹配|
|filter|false|Array&lt;[IconFilter](#iconfilter参数说明)&gt;|-|匹配key属性对应对象的属性，满足多层属性的过滤，设置filter时，代表数据中key对应的值为对象，嵌套的filter将进一步匹配下层对象的属性|

##### Term参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|column|true|string|-|过滤字段，对于人员账号，需要传 targetType 值为 5；对于重点人员，需要传 targetType 值为 27；其它情况默认无需填写|
|termType|true|string|-|过滤条件,例如eq,neq,like,nlike,gt,lt,gte,lte,in,nin,prefix,subfix,isnull,notnull,should。其中like、nlike、prefix、subfix只能用于过滤值为字符串类型。|
|value|true|string\|number\|Array&lt;number&gt;\|Array&lt;string&gt;|-|过滤值|
|type|false|string|'and'|term之间的过滤关系.可选"and"和"or",如果存在至少一个and,过滤所有and对应的并集,如果全部是or,返回所有数据， 如果要过滤某个条件可以匹配多个值中的任何一个， 可以使用termType="in".|
|filterType|false|number|0|公有属性及私有属性标记，0为私有属性，1为公有属性，在查询公有图层数据时，根据该字段区分公私有属性，不填默认为私有|
|analyzeEnum|false|string|'not_analyze'|userId、deptId、roleId必须设置成default_analyze,上传数据指定的拼音分词需要设置成pinyin_analyze,默认不分词|
|terms|false|Array&lt;[Term](#term参数说明)&gt;|-|即当前Term，支持循环使用|

##### ClusteredFilter参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|count|true|number|-|聚合数量|
|circleRadius|false|number|18|聚合圆样式, 圆的半径, clustered=true时有效|
|circleColor|false|string|'#000000'|聚合圆样式, 圆的颜色, clustered=true时有效|
|circleStrokeWidth|false|number|0|聚合圆样式, 圆的边框宽度, clustered=true时有效|
|circleStrokeColor|false|string|'#000000'|聚合圆样式, 圆的边框颜色, clustered=true且边框宽度不为0时有效|

##### IconTextContent参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|title|false|string|-|标题|
|textField|true|string|-|字段名称|

##### IconTextStyle参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|textOffset|false|Array&lt;number&gt;|[0, 1.5]|文本与其定位点的偏移距离。正值表示向右和向下，负值表示向左和向上|
|textSize|false|number|12|字体大小|
|textJustify|false|string|'center'|字体对齐方式 'left'或'center'或'right'|
|textColor|false|string|'#ffffff'|字体颜色|
|textColorFilters|false|[ColorRangeFilters](#colorrangefilters参数说明)\|Array&lt;[ColorMatchFilter](#colormatchfilter参数说明)&gt;|-|字体颜色，可以根据属性值匹配，或者属性的取值范围，显示不同的文字颜色，使用 ColorRangeFilters 类型时，属性的值需要是数值或者字符串表示的数值。启用该值，则 textColor 参数失效，建议使用 ColorMatchFilter[] 类型参数，ColorRangeFilters 为了兼容，暂时保留，后续会移除。具体参数的使用，可以参考下方的示例代码中的说明|
|iconColor|false|string|'#1569E0'|字体背景颜色|
|iconColorFilters|false|[ColorRangeFilters](#colorrangefilters参数说明)\|Array&lt;[ColorMatchFilter](#colormatchfilter参数说明)&gt;|-|字体背景颜色，可以根据属性值匹配，或者属性的取值范围，显示不同的文字背景颜色，使用 ColorRangeFilters 类型时，属性的值需要是数值或者字符串表示的数值。启用该值，则 iconColor 参数失效，建议使用 ColorMatchFilter[] 类型参数，ColorRangeFilters 为了兼容，暂时保留，后续会移除。具体参数的使用，可以参考下方的示例代码中的说明|
|backgroundShape|false|string|'round'|文字的背景矩形，'round'为圆角，‘square’为尖角|
|textAllowOverlap|false|boolean|false|是否允许字体重叠|
|iconTextFitPadding|false|Array&lt;number&gt;|[0, 6, 0, 6]|字体相对背景内间距，四个值分别设置top、right、bottom、left|
|backgroundImage|false|string|-|文本的背景图片地址|
|backgroundImageOptions|false|[backgroundImageOptionsObject](#backgroundimageoptionsobject参数说明)|-|文本的背景图片的设置|
|computedProps|false|Object|-|计算属性，用户自定义 function，回调返回值作为计算属性的值，示例：```computedProps: { speedText: function (properties) { const { speed = 0 } = properties; return `速度：${speed} km/h`; }}```|

###### ColorRangeFilters参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|key|true|string|-|属性|
|filters|true|Array&lt;[ColorFilter](#colorfilter参数说明)&gt;|-|根据属性值不同的范围，使用不同颜色显示|

###### ColorFilter参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|value|true|string\|number|-|属性值|
|color|true|string|-|颜色值，支持 rgb,rgba,16 进制色值,颜色名称|

###### ColorMatchFilter参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|color|true|string|-|颜色值，支持 rgb,rgba,16 进制色值,颜色名称|
|filter|false|[MatchItemFilter](#matchitemfilter参数说明)|-|根据属性值，支持属性值匹配，以及根据取值范围匹配，使用不同颜色显示|

###### MatchItemFilter参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|key|true|string|-|属性|
|value|false|string\|number\|[MatchItemRange](#matchitemrange参数说明)|-|属性值|
|filter|false|[MatchItemFilter](#matchitemfilter参数说明)|-|根据属性值，支持属性值匹配，以及根据取值范围匹配，使用不同颜色显示|

###### MatchItemRange参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|min|true|string\|number|-|最小值，包含|
|max|true|string\|number|-|最大值，不包含|

###### backgroundImageOptionsObject参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|content|true|Array&lt;number&gt;|-|[x1, y1, x2, y2] 定义文本背景图片，哪些区域用于显示文本|
|stretchX|true|Array&lt;Array&lt;number&gt;&gt;|-|[[x1, x2], ...] 定义文本背景图片，哪些位置可以水平拉伸|
|stretchY|true|Array&lt;Array&lt;number&gt;&gt;|-|[[y1, y2], ...] 定义文本背景图片，哪些位置可以垂直拉伸|

##### GeometryStyle参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|fillColor|false|string|'rgba(69,185,124,0.7)'|多边形填充颜色|
|lineColor|false|string|'#1A62A5'|多边形边线颜色|
|lineWidth|false|number|2|多边形边线宽度|

##### BackgroundIcon参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|default|true|string|-|指定默认外边框图标|
|property|false|string|-|数据驱动。指定数据源中属性作为匹配条件|
|match|false|Array&lt;[MatchItem](#matchitem参数说明)&gt;|-|属性值对应显示的图标，指定match时，property为必填。详见match说明|

###### MatchItem参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|value|true|string\|number|-|数据中属性值，强数据类型匹配，会区分string与number|
|iconName|true|string|-|雪碧图名称|

##### ended函数参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|res|[EndedRes](#endedres参数说明)|-|结束回调信息|

###### EndedRes参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|status|number|-|10-成功,20-失败|
|data|string|-|返回图层id|

##### onError函数参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|error|[IErrorCodeInfo](#ierrorcodeinfo参数说明)|-|错误信息|

###### IErrorCodeInfo参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|code|string|-|错误码编号|
|message|string|-|错误信息|

### 返回值

|类型|说明|
|:--|:--:|
|string|同步返回图层id|


**聚合策略**

|聚合方式|默认层级|说明|
|:--|:--|--|
|行政区划聚合|3-11级|将行政区划聚合成一个点，包含场景使用的省、市、区县等行政区划以及可能使用到的下级行政区划|
|空间网格聚合|12-15级|按照当前屏幕范围划分均匀网格，每个网格聚合成一个点|
|前端聚合|16-20级|依照数据本身，使用特点算法进行聚合，效果更加贴合真实聚合情况|


### 示例


```javascript
//聚合图层
var layerId = kmap.addCustomLayer({
serviceNames: ['service_tzn_test7'],
// throughNet:true,
// throughNetUrls:['10.68.2.131'],
// showRegions: true,
// geometryStyle:{
//     fillColor: 'rgba(69,185,124,0.7)',
//     lineColor: '#1A62A5',
//     lineWidth: 2,
//     // 'fill-outline-width': 2,
// },
// isPublic: true,
icons: [{
    iconName: 'car-15'
}],
clustered: true, // required
clusteredFilters: [
    {//1-10
        count: 1,
        circleColor: '#51bbd6',
        circleRadius: 20
   },
    {//10-100
        count: 10,
       circleColor: '#f1f075',
        circleRadius: 30
    },
    {//100以上
        count: 100,
        circleColor: '#f28cb1',
        circleRadius: 40
    }
],
showText: 'dataId',
iconTextStyle: {
    textOffset: [0, 1.5],
    textSize: 12,
    textColor: '#ffffff',
    iconColor: '#1569E0',
    textAllowOverlap: false,
    iconTextFitPadding: [0, 6, 0, 6]
},
ended: function (res) {
    if (res.status === 10) {
        console.log('layer created');
    }
}
});

//非聚合图层
kmap.addCustomLayer({
    serviceName: 'service_tzn_test3',
   icons: [{
        iconName: 'weather-alarm-lev-1-24',
        filter: [{
            key: 'status',
            value: 1
        }]
    }, {
        iconName: 'weather-alarm-lev-2-24',
        filter: [{
            key: 'status',
            value: 2
        }]
    }, {
        iconName: 'weather-alarm-lev-2-24',
        filter: [{
            key: 'status',
            value: 3
        }]
    }, {
        iconName: 'zoo-15',
        filter: [{
            key: 'status',
            value: 6
        }]
    }],
    enableUpdateFeature: true,
    iconSize: [0.5, 1.5],
    showText: 'dataId',
    iconTextStyle: {
        textOffset: [0, 1.5],
        textSize: 12,
        textColor: '#fff',
        iconColor: '#1569E0',
        textAllowOverlap: false,
        iconTextFitPadding: [0, 6, 0, 6]
    },
   backgroundIcon: {
        default: 'stateless-light',
        property: 'status',
        match: [{
            value: 1,
            iconName: 'online-light'
        }, {
            value: 2,
            iconName: 'off-line-light'
        }, {
            value: 3,
            iconName: 'fault-light'
        }]
    },
    ended: function (res) {
        if (res.status === 10) {
            console.log('layer created');
        }
    }
});
// 关于 textColorFilters 或 iconColorFilters  使用 ColorMatchFilter[] 类型是的示例说明
[
   {
       color: 'green',
       filter: [
           // 匹配字段 civilCode 为 320500 数据
           {
               key: 'civilCode',
               value: '320500',
           },
           // 匹配字段 speed 在 0-40 区间的数据
           {
               key: 'speed',
               value: {
                   min: 0,
                   max: 40,
               },
           },
       ],
   },
   {
       color: 'yellow',
       filter: [
           {
               key: 'civilCode',
               value: '320500',
           },
           // 匹配字段 speed 在 40-80 区间的数据
           {
               key: 'speed',
               value: {
                   min: 40,
                   max: 80,
               },
           },
       ],
   },
   {
       color: 'red',
       filter: [
           {
               key: 'civilCode',
               value: '320500',
           },
           // 匹配字段 speed 在 80 以上的数据
           {
               key: 'speed',
               value: {
                   min: 80,
               },
           },
       ],
   },
   // 上述条件都不匹配时，默认的颜色
   {
       color: 'black',
   },
];
// 关于 textColorFilters 或 iconColorFilters  使用 ColorRangeFilters 类型是的示例说明
{
   key: 'speed',
   filters: [
     {
       // 0-40
       value: 0,
       color: 'green',
     },
     {
       // 40-80
       value: 40,
       color: 'green',
     },
     {
       // 80
       value: 80,
       color: 'red',
     },
   ],
}
```


## reloadData

### 描述

手动更新图层数据。适用于更改数据源，来更改相应图标的场景。reloadData调用之前，需要先处理数据。

### 参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|opts|true|[ReloadDataOptions](#reloaddataoptions参数说明)|-|-|

#### ReloadDataOptions参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|layerId|true|string|-|图层 id|

### 示例


```javascript
kmap.reloadData ({
   layerId: 'policeLayer'
});
```


## addMixedClusterLayer

### 描述

添加混合聚合图层。结合覆盖物与图层的方式上图，聚合点采用覆盖物上图，非聚合点使用图层上图，兼顾性能与丰富样式。提供多种聚合模式和主题。

动态图层刷新对应的服务单实例最大可支持20次/秒并发同时调用，以如下场景为例: 单个云平台用户，15s刷新，20个客户端(多动态图层)保持同时打开刷新，预计每分钟刷新1200-1500次，约20-25次/秒调用，超过上限，需扩展1个服务实例；如现场需同时打开叠加动态图层，建议每超20个客户端，则增加一个服务实例，以此类推，具体以现场实际情况为准。

在使用参数 mixTerms 过滤条件时，对于人员账号，需要传 targetType 值为 5；对于重点人员，需要传 targetType 值为 27；其它情况默认无需填写

### 参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|options|true|[MixedClusterLayerOptions](#mixedclusterlayeroptions参数说明)|-|-|

#### MixedClusterLayerOptions参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|serviceName|true|string|-|图层数据对应的服务端标识|
|adcode|false|string|-|查询区域的行政编码|
|geometry|false|[PolygonGeometry](#polygongeometry参数说明)\|[MultiPolygonGeometry](#multipolygongeometry参数说明)|-|查询区域范围|
|clustered|false|boolean|false|是否聚合|
|clusterMode|true|[MixedClusterMode](#mixedclustermode参数说明)|KMap.MIXED_CLUSTER_MODE.CIRCLE|聚合模式，需要先设置clustered=true，详见聚合模式说明|
|enableGridAgg|false|boolean|false|是否启用网格聚合，启用该聚合策略，不使用云平台配置的聚合策略|
|gridClusterRadius|false|number|10|网格聚合半径，最小值是 10，在 enableGridAgg 为 true 时有效|
|customMarkerType|false|[MixedClusterTheme](#mixedclustertheme参数说明)|KMap.MIXED_CLUSTER_THEME.DARK_BLUE|聚合覆盖物主题，需要先设置clustered=true，详见聚合主题说明|
|expandable|false|boolean|false|是否开启聚合点展开动画，需要先设置clustered=true，clusterMode 为”circle-spread“时，且聚合点数量不大于10时生效|
|clusterIcon|true|string|-|聚合点图标|
|icons|true|Array&lt;[Icon](#icon参数说明)&gt;|-|图标来源于雪碧图。poi显示的图标级过滤条件。支持单图标和多图标。条件见示例。|
|iconSize|false|Array&lt;number&gt;|[0.5,1.5,3,19]|格式为：[minScale, maxScale, minZoom, maxZoom]图标scale随层级变化而变化,当前层级 < minZoom时图标scale为minScale；minZoom <当前层级 < maxZoom时 ，图标scale从minScale到maxScale线性递增；当前层级 > maxZoom时，图标scale为maxScale。minZoom、maxZoom为非必填，对应值默认为3和19（iconSize属性优先级高于icons参数中的scale）|
|textOffset|false|Array&lt;number&gt;|-|聚合数量文字偏移量，仅clusterMode 为“icon-cluster”时生效|
|iconScale|false|number|1|聚合样式缩放，仅clusterMode 为“icon-cluster”时生效|
|showText|false|string|-|指定数据源中对应属性显示为文本，仅非聚合图标生效|
|iconTextContent|false|Array&lt;[IconTextContent](#icontextcontent参数说明)&gt;|-|文字标注多行文本展示|
|iconTextStyle|true|[IconTextStyle](#icontextstyle参数说明)|-|图层文字样式, 指定了showText或iconTextContent时有效，详见iconTextStyle说明|
|isPublic|false|boolean|false|是否查询公有空间数据。默认查询私有|
|mixTerms|false|Array&lt;[Term](#term参数说明)&gt;|-|查询过滤条件, 支持多条件搜索,详见自有数据查询的term|
|dynamic|false|boolean|false|是否为动态图层,定时更新数据|
|timer|false|number|15000|动态图层更新时间间隔,单位毫秒，不能小于默认值,dynamic=true时有效|
|enableUpdateFeature|false|boolean|false|是否允许更新feature,用于动态更新单个非聚合图标（性能有一定影响，如无必要，请勿开启）|
|iconRotateField|false|string|-|图标旋转参数，对应的字段是数据中的字段名称，顺时针旋转|
|clusterSpreadMouseoverHandler|false|[Function](#clusterspreadmouseoverhandler函数参数说明)|-|聚合扩散点的mouseover事件|
|clusterSpreadMouseleaveHandler|false|[Function](#clusterspreadmouseleavehandler函数参数说明)|-|聚合扩散点的mouseleave事件|
|ended|false|[Function](#ended函数参数说明)|-|结束回调|
|onError|false|[Function](#onerror函数参数说明)|-|错误回调函数|

##### PolygonGeometry参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|type|true|固定值(string)-Polygon|-|要素图形类型|
|coordinates|true|[PolygonCoordinates](#polygoncoordinates参数说明（类型）)|-|要素空间信息|

###### PolygonCoordinates参数说明（类型）

|参数名称|类型|说明|
|:--|:--:|:--|
|PolygonCoordinates|Array&lt;Array&lt;[LngLat](#lnglat参数说明（类型）)&gt;&gt;|面数据坐标类型|

##### MultiPolygonGeometry参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|type|true|固定值(string)-MultiPolygon|-|要素图形类型|
|coordinates|true|Array&lt;[PolygonCoordinates](#polygoncoordinates参数说明（类型）)&gt;|-|要素空间信息|

##### MixedClusterMode参数说明

|参数名称|描述|实际值|
|:--|:--|:--:|
|KMap.MIXED_CLUSTER_MODE.CIRCLE|环形覆盖物聚合|circle-spread|
|KMap.MIXED_CLUSTER_MODE.ICON|图标聚合|icon-cluster|

##### MixedClusterTheme参数说明

|参数名称|描述|实际值|
|:--|:--|:--:|
|KMap.MIXED_CLUSTER_THEME.DARK_BLUE|深蓝色主题|dark-blue|
|KMap.MIXED_CLUSTER_THEME.DARK_BLUE_CIRCLE|环形深蓝色主题|dark-blue-circle|

##### Icon参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|iconName|true|string|-|雪碧图名称|
|scale|false|number|1|雪碧图缩放比例|
|filter|true|Array&lt;[IconFilter](#iconfilter参数说明)&gt;|-|过滤条件, 详见IconFilter表格|

###### IconFilter参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|key|true|string|-|过滤字段|
|value|false|string\|number|-|过滤字段对应的值（强数据类型匹配），value与filter需二选一设置，设置value时，直接将数据中key的值与传入的value匹配|
|filter|false|Array&lt;[IconFilter](#iconfilter参数说明)&gt;|-|匹配key属性对应对象的属性，满足多层属性的过滤，设置filter时，代表数据中key对应的值为对象，嵌套的filter将进一步匹配下层对象的属性|

##### IconTextContent参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|title|false|string|-|标题|
|textField|true|string|-|字段名称|

##### IconTextStyle参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|textOffset|false|Array&lt;number&gt;|[0, 1.5]|文本与其定位点的偏移距离。正值表示向右和向下，负值表示向左和向上|
|textSize|false|number|12|字体大小|
|textJustify|false|string|'center'|字体对齐方式 'left'或'center'或'right'|
|textColor|false|string|'#ffffff'|字体颜色|
|textColorFilters|false|[ColorRangeFilters](#colorrangefilters参数说明)\|Array&lt;[ColorMatchFilter](#colormatchfilter参数说明)&gt;|-|字体颜色，可以根据属性值匹配，或者属性的取值范围，显示不同的文字颜色，使用 ColorRangeFilters 类型时，属性的值需要是数值或者字符串表示的数值。启用该值，则 textColor 参数失效，建议使用 ColorMatchFilter[] 类型参数，ColorRangeFilters 为了兼容，暂时保留，后续会移除。具体参数的使用，可以参考下方的示例代码中的说明|
|iconColor|false|string|'#1569E0'|字体背景颜色|
|iconColorFilters|false|[ColorRangeFilters](#colorrangefilters参数说明)\|Array&lt;[ColorMatchFilter](#colormatchfilter参数说明)&gt;|-|字体背景颜色，可以根据属性值匹配，或者属性的取值范围，显示不同的文字背景颜色，使用 ColorRangeFilters 类型时，属性的值需要是数值或者字符串表示的数值。启用该值，则 iconColor 参数失效，建议使用 ColorMatchFilter[] 类型参数，ColorRangeFilters 为了兼容，暂时保留，后续会移除。具体参数的使用，可以参考下方的示例代码中的说明|
|backgroundShape|false|string|'round'|文字的背景矩形，'round'为圆角，‘square’为尖角|
|textAllowOverlap|false|boolean|false|是否允许字体重叠|
|iconTextFitPadding|false|Array&lt;number&gt;|[0, 6, 0, 6]|字体相对背景内间距，四个值分别设置top、right、bottom、left|
|backgroundImage|false|string|-|文本的背景图片地址|
|backgroundImageOptions|false|[backgroundImageOptionsObject](#backgroundimageoptionsobject参数说明)|-|文本的背景图片的设置|
|computedProps|false|Object|-|计算属性，用户自定义 function，回调返回值作为计算属性的值，示例：```computedProps: { speedText: function (properties) { const { speed = 0 } = properties; return `速度：${speed} km/h`; }}```|

###### ColorRangeFilters参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|key|true|string|-|属性|
|filters|true|Array&lt;[ColorFilter](#colorfilter参数说明)&gt;|-|根据属性值不同的范围，使用不同颜色显示|

###### ColorFilter参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|value|true|string\|number|-|属性值|
|color|true|string|-|颜色值，支持 rgb,rgba,16 进制色值,颜色名称|

###### ColorMatchFilter参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|color|true|string|-|颜色值，支持 rgb,rgba,16 进制色值,颜色名称|
|filter|false|[MatchItemFilter](#matchitemfilter参数说明)|-|根据属性值，支持属性值匹配，以及根据取值范围匹配，使用不同颜色显示|

###### MatchItemFilter参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|key|true|string|-|属性|
|value|false|string\|number\|[MatchItemRange](#matchitemrange参数说明)|-|属性值|
|filter|false|[MatchItemFilter](#matchitemfilter参数说明)|-|根据属性值，支持属性值匹配，以及根据取值范围匹配，使用不同颜色显示|

###### MatchItemRange参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|min|true|string\|number|-|最小值，包含|
|max|true|string\|number|-|最大值，不包含|

###### backgroundImageOptionsObject参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|content|true|Array&lt;number&gt;|-|[x1, y1, x2, y2] 定义文本背景图片，哪些区域用于显示文本|
|stretchX|true|Array&lt;Array&lt;number&gt;&gt;|-|[[x1, x2], ...] 定义文本背景图片，哪些位置可以水平拉伸|
|stretchY|true|Array&lt;Array&lt;number&gt;&gt;|-|[[y1, y2], ...] 定义文本背景图片，哪些位置可以垂直拉伸|

##### Term参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|column|true|string|-|过滤字段，对于人员账号，需要传 targetType 值为 5；对于重点人员，需要传 targetType 值为 27；其它情况默认无需填写|
|termType|true|string|-|过滤条件,例如eq,neq,like,nlike,gt,lt,gte,lte,in,nin,prefix,subfix,isnull,notnull,should。其中like、nlike、prefix、subfix只能用于过滤值为字符串类型。|
|value|true|string\|number\|Array&lt;number&gt;\|Array&lt;string&gt;|-|过滤值|
|type|false|string|'and'|term之间的过滤关系.可选"and"和"or",如果存在至少一个and,过滤所有and对应的并集,如果全部是or,返回所有数据， 如果要过滤某个条件可以匹配多个值中的任何一个， 可以使用termType="in".|
|filterType|false|number|0|公有属性及私有属性标记，0为私有属性，1为公有属性，在查询公有图层数据时，根据该字段区分公私有属性，不填默认为私有|
|analyzeEnum|false|string|'not_analyze'|userId、deptId、roleId必须设置成default_analyze,上传数据指定的拼音分词需要设置成pinyin_analyze,默认不分词|
|terms|false|Array&lt;[Term](#term参数说明)&gt;|-|即当前Term，支持循环使用|

##### clusterSpreadMouseoverHandler函数参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|event|[Event](#event参数说明)|-|事件对象|
|info|Object|-|回调信息|

##### clusterSpreadMouseleaveHandler函数参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|event|[Event](#event参数说明)|-|事件对象|

##### ended函数参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|res|[EndedRes](#endedres参数说明)|-|结束回调信息|

###### EndedRes参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|status|number|-|10-成功,20-失败|
|data|string|-|返回图层id|

##### onError函数参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|error|[IErrorCodeInfo](#ierrorcodeinfo参数说明)|-|错误信息|

###### IErrorCodeInfo参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|code|string|-|错误码编号|
|message|string|-|错误信息|

### 返回值

|类型|说明|
|:--|:--:|
|string|同步返回图层id|


**聚合模式说明**

KMap.MIXED_CLUSTER_MODE.CIRCLE：圆-散点模式，聚合数量不大于10的聚合点，鼠标移入时扩散展示聚合的子元素点

展开前：![image](https://kfront.kedacom.com/file/docImage/1708497251050addMixedClusterLayer-mode-circle-expand-before.jpeg)

展开后：![image](https://kfront.kedacom.com/file/docImage/1708497306600addMixedClusterLayer-mode-circle-expand-after.jpeg)

KMap.MIXED_CLUSTER_THEME.DARK_BLUE_CIRCLE:环形深蓝色主题

展开前：![image](https://kfront.kedacom.com/file/docImage/1708498111469addMixedClusterLayer-theme-circle-expand-before.png)

展开后：![image](https://kfront.kedacom.com/file/docImage/1708498153320addMixedClusterLayer-theme-circle-expand-after.png)

KMap.MIXED_CLUSTER_MODE.ICON: 图标聚合样式

![image](https://kfront.kedacom.com/file/docImage/1708497974550addMixedClusterLayer-mode-icon-cluster.jpeg)


### 示例


```javascript
var cluster_layerId = kmap.addMixedClusterLayer({
    serviceName: 'service_tzn_test7',
    clusterMode: 'circle-spread',
    customMarkerType: 'dark-blue',
    icons: [{
        iconName: 'icon-policeman-1'
    }],
    clusterSpreadMouseoverHandler: function (e, info) {
        console.log(info, '详情');
    },
    clusterSpreadMouseleaveHandler: function (e) {
        console.log(e);
    },
    ended: function (res) {
        if (res.status === 10) {
            console.log('layer created');
        }
    }
});

// 关于 textColorFilters 或 iconColorFilters  使用 ColorMatchFilter[] 类型是的示例说明
[
   {
       color: 'green',
       filter: [
           // 匹配字段 civilCode 为 320500 数据
           {
               key: 'civilCode',
               value: '320500',
           },
           // 匹配字段 speed 在 0-40 区间的数据
           {
               key: 'speed',
               value: {
                   min: 0,
                   max: 40,
               },
           },
       ],
   },
   {
       color: 'yellow',
       filter: [
           {
               key: 'civilCode',
               value: '320500',
           },
           // 匹配字段 speed 在 40-80 区间的数据
           {
               key: 'speed',
               value: {
                   min: 40,
                   max: 80,
               },
           },
       ],
   },
   {
       color: 'red',
       filter: [
           {
               key: 'civilCode',
               value: '320500',
           },
           // 匹配字段 speed 在 80 以上的数据
           {
               key: 'speed',
               value: {
                   min: 80,
               },
           },
       ],
   },
   // 上述条件都不匹配时，默认的颜色
   {
       color: 'black',
   },
];
// 关于 textColorFilters 或 iconColorFilters  使用 ColorRangeFilters 类型是的示例说明
{
   key: 'speed',
   filters: [
     {
       // 0-40
       value: 0,
       color: 'green',
     },
     {
       // 40-80
       value: 40,
       color: 'green',
     },
     {
       // 80
       value: 80,
       color: 'red',
     },
   ],
}
```


## addWFSLayer

### 描述

添加基于WFS服务的聚合图层

### 参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|opts|true|[WFSLayerOptions](#wfslayeroptions参数说明)|-|-|

#### WFSLayerOptions参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|url|true|string|-|wfs服务地址|
|clustered|false|boolean|false|是否聚合|
|icons|true|Array&lt;[Icon](#icon参数说明)&gt;|-|数据源属性匹配非聚合图标,雪碧图形式。写法参见下方示例|
|clusteredFilters|false|Array&lt;[ClusteredFilter](#clusteredfilter参数说明)&gt;|-|聚合样式配置, clustered=true时必填, 详见ClusteredFilter表格|
|version|true|string|-|wfs服务版本号，根据现场发布的wfs服务版本决定，wfs3.1.0对应版本号为1.1.0|
|typeName|true|string|-|工作区下图层名称，例如test:house|
|lnglatParam|false|string|'features'|返回数据内空间信息参数,根据现场发布服务中定义的空间信息参数配置，如在现场配置的空间要素信息返回值参数为lnglat，则该参数需修改配置为lnglat|
|srsName|false|string|'EPSG:4326'|服务发布的投影规则与坐标系|
|featureNS|false|string|'http://openstreemap.org'|当前发布的wfs创建的命名空间，命名空间不通gml标签定义的规则不同|
|featurePrefix|false|string|'osm'|gml前端表示|
|featureTypes|true|Array&lt;string&gt;|-|当前工作区若发布了多个图层,指定需要查询的图层数组:["water","road"]|
|terms|false|Array&lt;[Term](#term参数说明)&gt;|-|过滤条件，具体使用说明请参考下面terms参数描述|
|propertyNames|false|Array&lt;string&gt;|-|过滤当前需要的属性信息,默认不过滤,可以指定当前过滤的属性如:[feature、name、id]，注意：如果使用本接口上图且需要使用该字段定制返回值时，空间过滤字段必填,如现场空间存储字段为the_geom,则此参数内部必须有该属性，否则无法取到空间信息进行上图|
|startIndex|false|number|-|分页索引值,wfs3.1.0以上有效|
|geometryName|false|string|-|空间过滤字段，使用空间过滤bbox时bbox过滤器中指定的几何名称，根据发布的服务定义的空间属性为主，如geoServer发布的服务空间属性默认为"the_geom"|
|bbox|false|[LngLat, LngLat]|-|空间条件范围，左下角及右上角坐标确定的矩形。若不设置默认查询屏幕可见范围|
|loaded|true|[Function](#loaded函数参数说明)|-|数据请求完成的回调方法，为保证兼容性，需要在此方法中对原始数据做扁平化处理|
|ended|false|[Function](#ended函数参数说明)|-|结束回调|
|onError|false|[Function](#onerror函数参数说明)|-|错误回调函数|

##### Icon参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|iconName|true|string|-|雪碧图名称|
|scale|false|number|1|雪碧图缩放比例|
|filter|true|Array&lt;[IconFilter](#iconfilter参数说明)&gt;|-|过滤条件, 详见IconFilter表格|

###### IconFilter参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|key|true|string|-|过滤字段|
|value|false|string\|number|-|过滤字段对应的值（强数据类型匹配），value与filter需二选一设置，设置value时，直接将数据中key的值与传入的value匹配|
|filter|false|Array&lt;[IconFilter](#iconfilter参数说明)&gt;|-|匹配key属性对应对象的属性，满足多层属性的过滤，设置filter时，代表数据中key对应的值为对象，嵌套的filter将进一步匹配下层对象的属性|

##### ClusteredFilter参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|count|true|number|-|聚合数量|
|circleRadius|false|number|18|聚合圆样式, 圆的半径, clustered=true时有效|
|circleColor|false|string|'#000000'|聚合圆样式, 圆的颜色, clustered=true时有效|
|circleStrokeWidth|false|number|0|聚合圆样式, 圆的边框宽度, clustered=true时有效|
|circleStrokeColor|false|string|'#000000'|聚合圆样式, 圆的边框颜色, clustered=true且边框宽度不为0时有效|

##### Term参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|column|true|string|-|过滤字段，对于人员账号，需要传 targetType 值为 5；对于重点人员，需要传 targetType 值为 27；其它情况默认无需填写|
|termType|true|string|-|过滤条件,例如eq,neq,like,nlike,gt,lt,gte,lte,in,nin,prefix,subfix,isnull,notnull,should。其中like、nlike、prefix、subfix只能用于过滤值为字符串类型。|
|value|true|string\|number\|Array&lt;number&gt;\|Array&lt;string&gt;|-|过滤值|
|type|false|string|'and'|term之间的过滤关系.可选"and"和"or",如果存在至少一个and,过滤所有and对应的并集,如果全部是or,返回所有数据， 如果要过滤某个条件可以匹配多个值中的任何一个， 可以使用termType="in".|
|filterType|false|number|0|公有属性及私有属性标记，0为私有属性，1为公有属性，在查询公有图层数据时，根据该字段区分公私有属性，不填默认为私有|
|analyzeEnum|false|string|'not_analyze'|userId、deptId、roleId必须设置成default_analyze,上传数据指定的拼音分词需要设置成pinyin_analyze,默认不分词|
|terms|false|Array&lt;[Term](#term参数说明)&gt;|-|即当前Term，支持循环使用|

##### loaded函数参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|data|Array&lt;[Object](#object参数说明)&gt;|-|服务返回的数据|
|render|[Function](#function参数说明)|-|渲染函数|

##### ended函数参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|res|[EndedRes](#endedres参数说明)|-|结束回调信息|

###### EndedRes参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|status|number|-|10-成功,20-失败|
|data|[IErrorCodeInfo](#ierrorcodeinfo参数说明)|-|失败时返回错误信息|

###### IErrorCodeInfo参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|code|string|-|错误码编号|
|message|string|-|错误信息|

##### onError函数参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|error|[IErrorCodeInfo](#ierrorcodeinfo参数说明)|-|错误信息|


**使用说明：**

由于三方服务返回数据结构的差异性，上图之前需要对数据做一次兼容处理。 获取到三方服务的数据后会触发loaded方法，返回两个参数，参数1为服务返回的数据，参数2为执行上图的函数render， 开发者将原始数据扁平化处理后，调用render方法，将数组传入，即可实现上图

**扁平化数据规范说明：**

在loaded回调方法中，将原始数据处理为geojson格式的FeatureCollection或者数组，数组元素为数据的基本信息，需要注意的是经度lng和纬度lat是必填字段，其它字段会被认为是设备的属性字段，因此可用来做图标匹配等处理。


### 示例


```javascript
kmap.addWFSLayer({
    url: 'http://10.68.8.42:8080/geoserver/roc/wfs',
    lnglatParam: 'features',
    typeName: 'roc:qiao',
    featureTypes: ['qiao'],
    // maxFeatures: 50,
    version: '1.1.0',
    icons: [{
        iconName: 'icon-personnel-bayonet-1'
    }],
    clustered: false,
    clusteredFilters: [
        {
            count: 1,
            circleColor: '#51bbd6',
            circleRadius: 20
        },
        {
            count: 10,
            circleColor: '#f1f075',
            circleRadius: 25
        },
        {
            count: 100,
            circleColor: '#f28cb1',
            circleRadius: 30
        }
    ],
    tokenKey: 'access_token',
    tokenValue: 'asdfgh',
    loaded: function (data, render) {
        render({
            type: 'FeatureCollection',
            features: data.result.data
        });
    },
    ended: function (res) {
        if (res.status === 10) {
            console.log('layer created');
        }
    }
});
```


## addRestfulLayer

### 描述

对接三方restful服务，整合参数调用三方提供的API接口查询数据并以图层形式上图

### 参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|opts|true|[RestfulLayerOptions](#restfullayeroptions参数说明)|-|-|

#### RestfulLayerOptions参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|url|true|string|-|三方服务提供的API地址|
|requestType|true|string|-|请求类型，“GET”或“POST”|
|params|true|object|-|三方服务API需要的参数|
|tokenKey|false|string|-|三方服务需要传参的token字段名（键名）|
|tokenValue|false|string|-|三方服务需要传参的token值，若三方服务需要动态更新token，可使用updateToken方法来更新本图层token|
|extentType|false|string|'geometry'| 三方服务接收的空间范围查询参数的数据格式，可选"geometry"或"bbox"|
|extent|false|string|-|指定params中作为空间范围查询参数的字段名，若传入该参数，查询范围将始终为当前屏幕的可视范围。例如"params.location.geometry"，那么请求数据时当前屏幕可见范围信息将被赋值给params.location.geometry字段。|
|clustered|false|boolean|false| 是否聚合|
|icons|true|Array&lt;[Icon](#icon参数说明)&gt;|-|-|
|clusteredFilters|true|Array&lt;[ClusteredFilter](#clusteredfilter参数说明)&gt;|-|-|
|loaded|true|[Function](#loaded函数参数说明)|-|数据请求完成的回调方法，为保证兼容性，需要在此方法中对原始数据做扁平化处理|
|ended|false|[Function](#ended函数参数说明)|-|结束回调|
|onError|false|[Function](#onerror函数参数说明)|-|错误回调函数|

##### Icon参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|iconName|true|string|-|雪碧图名称|
|scale|false|number|1|雪碧图缩放比例|
|filter|true|Array&lt;[IconFilter](#iconfilter参数说明)&gt;|-|过滤条件, 详见IconFilter表格|

###### IconFilter参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|key|true|string|-|过滤字段|
|value|false|string\|number|-|过滤字段对应的值（强数据类型匹配），value与filter需二选一设置，设置value时，直接将数据中key的值与传入的value匹配|
|filter|false|Array&lt;[IconFilter](#iconfilter参数说明)&gt;|-|匹配key属性对应对象的属性，满足多层属性的过滤，设置filter时，代表数据中key对应的值为对象，嵌套的filter将进一步匹配下层对象的属性|

##### ClusteredFilter参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|count|true|number|-|聚合数量|
|circleRadius|false|number|18|聚合圆样式, 圆的半径, clustered=true时有效|
|circleColor|false|string|'#000000'|聚合圆样式, 圆的颜色, clustered=true时有效|
|circleStrokeWidth|false|number|0|聚合圆样式, 圆的边框宽度, clustered=true时有效|
|circleStrokeColor|false|string|'#000000'|聚合圆样式, 圆的边框颜色, clustered=true且边框宽度不为0时有效|

##### loaded函数参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|data|Array&lt;[Object](#object参数说明)&gt;|-|服务返回的数据|
|render|[Function](#function参数说明)|-|渲染函数|

##### ended函数参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|res|[EndedRes](#endedres参数说明)|-|结束回调信息|

###### EndedRes参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|status|number|-|10-成功,20-失败|
|data|[IErrorCodeInfo](#ierrorcodeinfo参数说明)|-|失败时返回错误信息|

###### IErrorCodeInfo参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|code|string|-|错误码编号|
|message|string|-|错误信息|

##### onError函数参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|error|[IErrorCodeInfo](#ierrorcodeinfo参数说明)|-|错误信息|

### 返回值

|类型|说明|
|:--|:--:|
|string|-|


**使用说明：**

由于三方服务返回数据结构的差异性，上图之前需要对数据做一次兼容处理。 获取到三方服务的数据后会触发loaded方法，返回两个参数，参数1为服务返回的数据，参数2为执行上图的函数render， 开发者将原始数据扁平化处理后，调用render方法，将数组传入，即可实现上图

**扁平化数据规范说明：**

在loaded回调方法中，将原始数据处理为geojson格式的FeatureCollection或者数组，数组元素为数据的基本信息，需要注意的是经度lng和纬度lat是必填字段，其它字段会被认为是设备的属性字段，因此可用来做图标匹配等处理。


### 示例


```javascript
kmap.addRestfulLayer({
    url: 'https://10.68.2.27/search-server/gisdata/service/query/geometry',
    requestType:'POST',
    params: {
        appName: 'app_tzn_test',
        serviceNames: ['service_tzn_test7'],
        pageNo: 0,
        pageSize: 1000,
        zoomLevel: 11
    },
    extend:'params.location',
    icons: [{
        iconName: 'icon-personnel-bayonet-1'
    }],
    clustered: true,
    clusteredFilters: [
        {
            count: 1,
            circleColor: '#51bbd6',
            circleRadius: 20
        },
        {
            count: 10,
            circleColor: '#f1f075',
            circleRadius: 25
        },
        {
            count: 100,
            circleColor: '#f28cb1',
            circleRadius: 30
        }
    ],
    loaded: function (data, render) {
        let newData = data.result.data.map((item) => {
            let temp = null;
            if (item.properties.locationpoint) {
                temp = Object.assign({}, item.properties, {
                    lng: item.properties.locationpoint[0],
                    lat: item.properties.locationpoint[1]
                });
            }
            return temp;
        });
        render(newData);
    },
    ended: function (res) {
        if (res.status === 10) {
            console.log('layer created');
        }
    }
});
```


## addOverlayLayer

### 描述

添加覆盖物图层

### 参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|opts|true|[OverlayLayerOptions](#overlaylayeroptions参数说明)|-|-|

#### OverlayLayerOptions参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|serviceName|true|string|-|业务图层类型|
|clustered|false|boolean|false|是否聚合|
|dynamic|false|boolean|false|是否定时更新图层数据|
|timer|false|number|15000|动态更新数据时间间隔，单位毫秒，值不小于15000。dynamic为true时有效|
|mixTerms|false|Array&lt;[Term](#term参数说明)&gt;|-|获取数据过滤条件，可通过filterType来区分公私有属性。注意：为避免同名字段冲突，返回结果中，私有属性会默认增加前缀。|
|defaultIcon|true|string|-|雪碧图名称。用来设置聚合点的覆盖物图标以及默认的非聚合覆盖物图标|
|clusteredMarkerTemplate|false|string|-|聚合数据的覆盖物模板，kmap将结合模板及数据动态生成marker。需要使用“{{IMGTAG}}”占位符来代替模板中图标的<img/>标签，kmap内部会根据defaultIcon指定的图标动态生成<img/>标签,img的width和height与1倍雪碧图尺寸相同；如需显示聚合元素数量，请使用“{{COUNT}}”占位符，渲染时“{{COUNT}}”会被替换为实际聚合的数字，clustered 为 true 时必填。|
|singleMarkerTemplate|true|[SingleMarkerTemplate](#singlemarkertemplate参数说明)|-|非聚合数据的覆盖物模板，对不同类型的数据设置不同的marker详情见singleMarkerTemplate说明|
|showText|false|string|-|指定数据中对应属性显示为文本，仅非聚合数据生效，如需显示文本，请使用“{{TEXT}}”占位符，渲染时“{{TEXT}}”会被替换|
|propMapping|false|object|-|属性与文本的映射关系（对显示内容做自定义转换）,指定了showText时有效。设置了该属性后，showText指定的属性不会直接显示，而是显示该映射对应的文本，详见propMapping说明|
|ended|false|[Function](#ended函数参数说明)|-|结束回调|
|onError|false|[Function](#onerror函数参数说明)|-|错误回调函数|

##### Term参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|column|true|string|-|过滤字段，对于人员账号，需要传 targetType 值为 5；对于重点人员，需要传 targetType 值为 27；其它情况默认无需填写|
|termType|true|string|-|过滤条件,例如eq,neq,like,nlike,gt,lt,gte,lte,in,nin,prefix,subfix,isnull,notnull,should。其中like、nlike、prefix、subfix只能用于过滤值为字符串类型。|
|value|true|string\|number\|Array&lt;number&gt;\|Array&lt;string&gt;|-|过滤值|
|type|false|string|'and'|term之间的过滤关系.可选"and"和"or",如果存在至少一个and,过滤所有and对应的并集,如果全部是or,返回所有数据， 如果要过滤某个条件可以匹配多个值中的任何一个， 可以使用termType="in".|
|filterType|false|number|0|公有属性及私有属性标记，0为私有属性，1为公有属性，在查询公有图层数据时，根据该字段区分公私有属性，不填默认为私有|
|analyzeEnum|false|string|'not_analyze'|userId、deptId、roleId必须设置成default_analyze,上传数据指定的拼音分词需要设置成pinyin_analyze,默认不分词|
|terms|false|Array&lt;[Term](#term参数说明)&gt;|-|即当前Term，支持循环使用|

##### SingleMarkerTemplate参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|default|true|string|-|默认的覆盖物模板，没有匹配任何过滤条件时生效|
|filters|false|Array&lt;[Filter](#filter参数说明)&gt;|-|非聚合数据的模板及匹配条件，详见filter表|

###### Filter参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|template|true|string|-|非聚合数据的模板|
|icon|true|string|-|非聚合数据图标，雪碧图名称|
|match|true|Array&lt;[MatchFilter](#matchfilter参数说明)&gt;|-|过滤条件数组，详见matchFilter 参数说明|

###### MatchFilter参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|key|true|string|-|匹配字段|
|value|true|string|-|匹配值（强类型匹配）|

##### ended函数参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|res|[EndedRes](#endedres参数说明)|-|结束回调信息|

###### EndedRes参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|status|number|-|10-成功,20-失败|
|data|string|-|返回图层id|

##### onError函数参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|error|[IErrorCodeInfo](#ierrorcodeinfo参数说明)|-|错误信息|

###### IErrorCodeInfo参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|code|string|-|错误码编号|
|message|string|-|错误信息|

### 返回值

|类型|说明|
|:--|:--:|
|any|-|

### 示例


```javascript
 var marker_html =
'<div style="background-color: lightgrey;padding: 4px;border-radius: 3px">' +
'{{IMGTAG}}' +
'<div style="position: absolute;' +
'top: -8px;' +
'left: 26px;' +
'min-width: 16px;' +
'height: 16px;' +
'box-sizing: border-box;' +
'padding: 0 4px;' +
'color: #fff;' +
'font-weight: normal;' +
'font-size: 12px;' +
'line-height: 16px;' +
'white-space: nowrap;' +
'text-align: center;' +
'background: #f5222d;' +
'border-radius: 10px;' +
'box-shadow: 0 0 0 1px #fff;' +
'overflow: hidden;' +
// 'transform: translate(50%, -50%);' +
'-ms-transform-origin: 100% 0;' +
'transform-origin: 100% 0;">{{COUNT}}</div>' +
'</div>';
kmap.addOverlayLayer({
serviceName: 'service_tzn_test7',
clustered: true,
defaultIcon: 'icon-policeman-1',
clusteredMarkerTemplate: marker_html,
singleMarkerTemplate: {
   default: '<div style="background-color: red;padding: 2px;border-radius: 3px">' +
       '{{IMGTAG}}' +
       '</div>',
   filters: [{
       template: '<div style="background-color: red;padding: 2px;border-radius: 3px">' +
            '{{IMGTAG}}' +
            '</div>',
       icon: 'icon-policeman-1',
       //status === 1 的数据，将显示为markerHtml的marker样式
       match: [{
           key: 'status',
           value: 1
       }]
   }, {
       template: '<div style="background-color: green;padding: 2px;border-radius: 3px">' +
           '{{IMGTAG}}' +
           '</div>',
        icon: 'icon-policeman-1',
        match: [{
           key: 'status',
           value: 2
        }]
   }, {
       template: '<div style="background-color: blue;padding: 2px;border-radius: 3px">' +
            '{{IMGTAG}}' +
            '</div>',
       icon: 'icon-policeman-1',
       match: [{
            key: 'status',
           value: 3
       }]
   }]
},
ended: function () {
    //to do sth
/ }
```


## addAdminDivisionLayer

### 描述

添加行政区划几何图层，此图层会被添加到图层最下方。

### 参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|opts|true|[AdminDivisionLayerOptions](#admindivisionlayeroptions参数说明)|-|-|

#### AdminDivisionLayerOptions参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|adminCode|true|string|-|行政区划编码|
|style|false|[AdminDivisionStyle](#admindivisionstyle参数说明)|-|设置几何图形的样式|
|ended|false|[Function](#ended函数参数说明)|-|结束回调|
|onError|false|[Function](#onerror函数参数说明)|-|错误回调函数|

##### AdminDivisionStyle参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|fillColor|false|string|-|填充面颜色，支持 rgb,rgba,16 进制色值,颜色名称|
|fillOpacity|false|number|-|填充面透明度，取值范围 0~1|
|lineColor|false|string|-|描边颜色，支持 rgb,rgba,16 进制色值,颜色名称|
|lineWidth|false|number|-|描边宽度|
|lineOpacity|false|number|-|描边透明度，取值范围 0~1|
|lineDasharray|false|Array&lt;number&gt;|-|描边虚线线段的长度及间距，例：[0.2, 2]|

##### ended函数参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|res|[EndedRes](#endedres参数说明)|-|结束回调信息|

###### EndedRes参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|status|number|-|10-成功,20-失败|
|data|string|-|返回图层id|

##### onError函数参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|error|[IErrorCodeInfo](#ierrorcodeinfo参数说明)|-|错误信息|

###### IErrorCodeInfo参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|code|string|-|错误码编号|
|message|string|-|错误信息|

### 返回值

|类型|说明|
|:--|:--:|
|any|-|

### 示例


```javascript
kmap.addAdminDivisionLayer({
   adminCode: '320500',
   style: {
       fillColor: 'green',
       lineDasharray: [2, 4],
       lineWidth: 20
   },
   ended: function (res) {
       console.log('layer created', res);
   }
});
```


## addImageLayer

### 描述

添加图片图层。适用卫星云图等场景。

### 参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|opts|true|[ImageLayerOptions](#imagelayeroptions参数说明)|-|-|

#### ImageLayerOptions参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|url|true|string|-|图片地址|
|coordinates|true|Array&lt;[LngLat](#lnglat参数说明（类型）)&gt;|-|按顺时针顺序列出的图片角点的[经度，纬度]对：左上、右上、右下、左下。|
|minzoom|false|number|-|设置图层最小显示等级|
|maxzoom|false|number|-|设置图层最大显示等级|
|ended|false|[Function](#ended函数参数说明)|-|结束回调|
|onError|false|[Function](#onerror函数参数说明)|-|错误回调函数|

##### LngLat参数说明（类型）

|参数名称|类型|说明|
|:--|:--:|:--|
|LngLat|[number, number]|经纬度坐标|

##### ended函数参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|res|[EndedRes](#endedres参数说明)|-|结束回调信息|

###### EndedRes参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|status|number|-|10-成功,20-失败|
|data|string|-|返回图层id|

##### onError函数参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|error|[IErrorCodeInfo](#ierrorcodeinfo参数说明)|-|错误信息|

###### IErrorCodeInfo参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|code|string|-|错误码编号|
|message|string|-|错误信息|

### 返回值

|类型|说明|
|:--|:--:|
|string|同步返回图层id|

### 示例


```javascript
layerId = kmap.addImageLayer({
url: "/demo/assets/images/test.png",
coordinates: [
    [120.47050813506627, 31.35667429313716],
    [120.69469676636226, 31.35667429313716],
    [120.69469676636226, 31.235633998091828],
    [120.47050813506627, 31.235633998091828]
],
ended: function (res) {
    console.log('img layer created');
}
});
```


## addRegionLabelLayer

### 描述

添加行政标注图层。

### 参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|opts|true|[RegionLabelLayerOptions](#regionlabellayeroptions参数说明)|-|-|

#### RegionLabelLayerOptions参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|style|false|[RegionLabelStyle](#regionlabelstyle参数说明)|-|-|
|minzoom|false|number|-|设置图层最小显示等级|
|maxzoom|false|number|-|设置图层最大显示等级|
|ended|false|[Function](#ended函数参数说明)|-|结束回调|
|onError|false|[Function](#onerror函数参数说明)|-|错误回调函数|

##### RegionLabelStyle参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|textColor|false|string|-|文字颜色|
|textSize|true|number|-|文字字号|

##### ended函数参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|res|[EndedRes](#endedres参数说明)|-|结束回调信息|

###### EndedRes参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|status|number|-|10-成功,20-失败|
|data|string|-|返回图层id|

##### onError函数参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|error|[IErrorCodeInfo](#ierrorcodeinfo参数说明)|-|错误信息|

###### IErrorCodeInfo参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|code|string|-|错误码编号|
|message|string|-|错误信息|

### 示例


```javascript
kmap.addRegionLabelLayer({
    minzoom: 3,
    maxzoom: 10,
    style:{
      textColor: 'red'
    },
      ended: function () {
          console.log('layer created');
      }
  });
```


## addIndustryLayer

### 描述

添加自定义专题图层

在使用参数 mixTerms 过滤条件时，对于人员账号，需要传 targetType 值为 5；对于重点人员，需要传 targetType 值为 27；其它情况默认无需填写

### 参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|opts|true|[IndustryLayerOptions](#industrylayeroptions参数说明)|-|-|

#### IndustryLayerOptions参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|appName|true|string|-|对应的项目名称|
|serviceName|true|string|-|对应的图层类型|
|serviceNames|false|Array&lt;string&gt;|-|对应的图层类型组，注意：传入多组图层类型，只默认选第一个|
|type|false|[IndustryLayerType](#industrylayertype参数说明)|KMap.INDUSTRY_LAYER_TYPE.ICON|默认显示点位数据，使用 icon 展示，同时支持显示线和面信息，可以通过 defaultStyles 设置几何图形的样式|
|defaultStyles|false|Object|-|设置几何图形的样式|
|icons|true|Array&lt;[Icon](#icon参数说明)&gt;|-|图标来源于雪碧图。poi显示的图标级过滤条件。支持单图标和多图标。条件见示例。|
|iconSize|false|Array&lt;number&gt;|[0.5,1.5,3,19]|格式为：[minScale, maxScale, minZoom, maxZoom]图标scale随层级变化而变化,当前层级 < minZoom时图标scale为minScale；minZoom <当前层级 < maxZoom时 ，图标scale从minScale到maxScale线性递增；当前层级 > maxZoom时，图标scale为maxScale。minZoom、maxZoom为非必填，对应值默认为3和19（iconSize属性优先级高于icons参数中的scale）|
|clustered|false|boolean|false|是否聚合|
|enableGridAgg|false|boolean|false|是否启用网格聚合，启用该聚合策略，不使用云平台配置的聚合策略|
|gridClusterRadius|false|number|10|网格聚合半径，最小值是 10，在 enableGridAgg 为 true 时有效|
|before|false|string|-|图层ID,将当前图层插入在before对应图层的下方,如果不指定,将图层添加到最上层|
|isPublic|false|boolean|false|是否查询公有空间数据。默认查询私有|
|mixTerms|false|Array&lt;[Term](#term参数说明)&gt;|-|查询过滤条件, 支持多条件搜索,详见自有数据查询的term|
|dynamic|false|boolean|false|是否为动态图层,定时更新数据|
|timer|false|number|15000|动态图层更新时间间隔,单位毫秒，不能小于默认值,dynamic=true时有效|
|clusteredFilters|true|Array&lt;[ClusteredFilter](#clusteredfilter参数说明)&gt;|-|聚合条件, clustered=true时必填, 详见ClusteredFilter表格|
|showText|false|string|-|指定数据源中对应属性显示为文本，仅非聚合图标生效|
|iconTextContent|false|Array&lt;[IconTextContent](#icontextcontent参数说明)&gt;|-|文字标注多行文本展示|
|iconTextStyle|true|[IconTextBaseStyle](#icontextbasestyle参数说明)|-|图层文字样式, 指定了showText 或 iconTextContent 时有效，详见 iconTextStyle 说明|
|showRegions|false|boolean|false|是否显示查询对应的行政区划|
|geometryStyle|false|[GeometryStyle](#geometrystyle参数说明)|-|showRegions为true时生效。用于设置行政区划样式，详见geometryStyle说明|
|backgroundIcon|false|[BackgroundIcon](#backgroundicon参数说明)|-|设置icon水滴型外框，详见backgroundIcon说明。|
|enableUpdateFeature|false|boolean|false|是否允许更新feature,用于动态更新单个非聚合图标（性能有一定影响，如无必要，请勿开启）|
|iconOffset|false|Array&lt;number&gt;|[0, 0]|图标偏移量|
|iconRotateField|false|string|-|图标旋转参数，对应的字段是数据中的字段名称，顺时针旋转|
|circleRadius|false|number|18|聚合圆样式, 圆的半径, clustered=true时有效|
|circleColor|false|string|'#000000'|聚合圆样式, 圆的颜色, clustered=true时有效|
|circleStrokeWidth|false|number|0|聚合圆样式, 圆的边框宽度, clustered=true时有效|
|circleStrokeColor|false|string|'#000000'|聚合圆样式, 圆的边框颜色, clustered=true且边框宽度不为0时有效|
|countTextSize|false|number|14|聚合数量样式, 数字字体大小, clustered=true时有效|
|countTextColor|false|string|'#ffffff'|聚合数量样式, 数字颜色, clustered=true时有效|
|countTextAllowOverlap|false|boolean|false|是否允许聚合数量的字体重叠|
|ended|false|[Function](#ended函数参数说明)|-|结束回调|
|onError|false|[Function](#onerror函数参数说明)|-|错误回调函数|

##### IndustryLayerType参数说明

|参数名称|描述|实际值|
|:--|:--|:--:|
|KMap.INDUSTRY_LAYER_TYPE.ICON|图标|icon|
|KMap.INDUSTRY_LAYER_TYPE.GEOMETRY|几何图形|geometry|

##### Icon参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|iconName|true|string|-|雪碧图名称|
|scale|false|number|1|雪碧图缩放比例|
|filter|true|Array&lt;[IconFilter](#iconfilter参数说明)&gt;|-|过滤条件, 详见IconFilter表格|

###### IconFilter参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|key|true|string|-|过滤字段|
|value|false|string\|number|-|过滤字段对应的值（强数据类型匹配），value与filter需二选一设置，设置value时，直接将数据中key的值与传入的value匹配|
|filter|false|Array&lt;[IconFilter](#iconfilter参数说明)&gt;|-|匹配key属性对应对象的属性，满足多层属性的过滤，设置filter时，代表数据中key对应的值为对象，嵌套的filter将进一步匹配下层对象的属性|

##### Term参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|column|true|string|-|过滤字段，对于人员账号，需要传 targetType 值为 5；对于重点人员，需要传 targetType 值为 27；其它情况默认无需填写|
|termType|true|string|-|过滤条件,例如eq,neq,like,nlike,gt,lt,gte,lte,in,nin,prefix,subfix,isnull,notnull,should。其中like、nlike、prefix、subfix只能用于过滤值为字符串类型。|
|value|true|string\|number\|Array&lt;number&gt;\|Array&lt;string&gt;|-|过滤值|
|type|false|string|'and'|term之间的过滤关系.可选"and"和"or",如果存在至少一个and,过滤所有and对应的并集,如果全部是or,返回所有数据， 如果要过滤某个条件可以匹配多个值中的任何一个， 可以使用termType="in".|
|filterType|false|number|0|公有属性及私有属性标记，0为私有属性，1为公有属性，在查询公有图层数据时，根据该字段区分公私有属性，不填默认为私有|
|analyzeEnum|false|string|'not_analyze'|userId、deptId、roleId必须设置成default_analyze,上传数据指定的拼音分词需要设置成pinyin_analyze,默认不分词|
|terms|false|Array&lt;[Term](#term参数说明)&gt;|-|即当前Term，支持循环使用|

##### ClusteredFilter参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|count|true|number|-|聚合数量|
|circleRadius|false|number|18|聚合圆样式, 圆的半径, clustered=true时有效|
|circleColor|false|string|'#000000'|聚合圆样式, 圆的颜色, clustered=true时有效|
|circleStrokeWidth|false|number|0|聚合圆样式, 圆的边框宽度, clustered=true时有效|
|circleStrokeColor|false|string|'#000000'|聚合圆样式, 圆的边框颜色, clustered=true且边框宽度不为0时有效|

##### IconTextContent参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|title|false|string|-|标题|
|textField|true|string|-|字段名称|

##### IconTextBaseStyle参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|textOffset|false|Array&lt;number&gt;|[0, 1.5]|文本与其定位点的偏移距离。正值表示向右和向下，负值表示向左和向上|
|textSize|false|number|12|字体大小|
|textJustify|false|string|'center'|字体对齐方式 'left'或'center'或'right'|
|textColor|false|string|'#ffffff'|字体颜色|
|iconColor|false|string|'#1569E0'|字体背景颜色|
|backgroundShape|false|string|'round'|文字的背景矩形，'round'为圆角，‘square’为尖角|
|textAllowOverlap|false|boolean|false|是否允许字体重叠|
|iconTextFitPadding|false|Array&lt;number&gt;|[0, 6, 0, 6]|字体相对背景内间距，四个值分别设置top、right、bottom、left|
|backgroundImage|false|string|-|文本的背景图片地址|
|backgroundImageOptions|false|[backgroundImageOptionsObject](#backgroundimageoptionsobject参数说明)|-|文本的背景图片的设置|

###### backgroundImageOptionsObject参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|content|true|Array&lt;number&gt;|-|[x1, y1, x2, y2] 定义文本背景图片，哪些区域用于显示文本|
|stretchX|true|Array&lt;Array&lt;number&gt;&gt;|-|[[x1, x2], ...] 定义文本背景图片，哪些位置可以水平拉伸|
|stretchY|true|Array&lt;Array&lt;number&gt;&gt;|-|[[y1, y2], ...] 定义文本背景图片，哪些位置可以垂直拉伸|

##### GeometryStyle参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|fillColor|false|string|'rgba(69,185,124,0.7)'|多边形填充颜色|
|lineColor|false|string|'#1A62A5'|多边形边线颜色|
|lineWidth|false|number|2|多边形边线宽度|

##### BackgroundIcon参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|default|true|string|-|指定默认外边框图标|
|property|false|string|-|数据驱动。指定数据源中属性作为匹配条件|
|match|false|Array&lt;[MatchItem](#matchitem参数说明)&gt;|-|属性值对应显示的图标，指定match时，property为必填。详见match说明|

###### MatchItem参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|value|true|string\|number|-|数据中属性值，强数据类型匹配，会区分string与number|
|iconName|true|string|-|雪碧图名称|

##### ended函数参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|res|[EndedRes](#endedres参数说明)|-|结束回调信息|

###### EndedRes参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|status|number|-|10-成功,20-失败|
|data|string|-|返回图层id|

##### onError函数参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|error|[IErrorCodeInfo](#ierrorcodeinfo参数说明)|-|错误信息|

###### IErrorCodeInfo参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|code|string|-|错误码编号|
|message|string|-|错误信息|

### 返回值

|类型|说明|
|:--|:--:|
|string|同步返回图层id|


**聚合策略**

|聚合方式|默认层级|说明|
|:--|:--|--|
|行政区划聚合|3-11级|将行政区划聚合成一个点，包含场景使用的省、市、区县等行政区划以及可能使用到的下级行政区划|
|空间网格聚合|12-15级|按照当前屏幕范围划分均匀网格，每个网格聚合成一个点|
|前端聚合|16-20级|依照数据本身，使用特点算法进行聚合，效果更加贴合真实聚合情况|

图层组在行政区划聚合时样式示例：
![image](https://kfront.kedacom.com/file/docImage/1708496866535addIndustryLayer-image-0.jpeg)


### 示例


```javascript
//聚合图层
var layerId = kmap.addIndustryLayer({
appName:'industry_space',
serviceNames: ['service_tzn_test7'],
icons: [{
    iconName: 'car-15'
}],
clustered: true, // required
clusteredFilters: [
    {//1-10
        count: 1,
        circleColor: '#51bbd6',
        circleRadius: 20
    },
    {//10-100
        count: 10,
        circleColor: '#f1f075',
        circleRadius: 30
    },
    {//100以上
        count: 100,
        circleColor: '#f28cb1',
        circleRadius: 40
    }
],
showText: 'dataId',
iconTextStyle: {
    textOffset: [0, 1.5],
    textSize: 12,
    textColor: '#ffffff',
    iconColor: '#1569E0',
    textAllowOverlap: false,
    iconTextFitPadding: [0, 6, 0, 6]
},
ended: function (res) {
    if (res.status === 10) {
        console.log('layer created');
    }
}
});

//非聚合图层
kmap.addIndustryLayer({
    appName:'industry_space',
    serviceName: 'service_tzn_test3',
    icons: [{
        iconName: 'weather-alarm-lev-1-24',
        filter: [{
            key: 'status',
            value: 1
        }]
    }, {
        iconName: 'weather-alarm-lev-2-24',
        filter: [{
            key: 'status',
            value: 2
        }]
    }, {
        iconName: 'weather-alarm-lev-2-24',
        filter: [{
            key: 'status',
            value: 3
        }]
    }, {
        iconName: 'zoo-15',
        filter: [{
            key: 'status',
            value: 6
        }]
    }],
    enableUpdateFeature: true,
    iconSize: [0.5, 1.5],
    showText: 'dataId',
    iconTextStyle: {
        textOffset: [0, 1.5],
        textSize: 12,
        textColor: '#fff',
        iconColor: '#1569E0',
        textAllowOverlap: false,
        iconTextFitPadding: [0, 6, 0, 6]
    },
   backgroundIcon: {
        default: 'stateless-light',
        property: 'status',
        match: [{
            value: 1,
            iconName: 'online-light'
        }, {
            value: 2,
            iconName: 'off-line-light'
        }, {
            value: 3,
            iconName: 'fault-light'
        }]
    },
    ended: function (res) {
        if (res.status === 10) {
            console.log('layer created');
        }
    }
});
```


## addTypicalLayer

### 描述

添加服务数据图层，用于限定范围的业务图层，其中，空间查询参数adcode、polygon、geometry、searchOpts至少必传其中一个。

在使用参数 mixTerms 过滤条件时，对于人员账号，需要传 targetType 值为 5；对于重点人员，需要传 targetType 值为 27；其它情况默认无需填写

### 参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|opts|true|[TypicalLayerOptions](#typicallayeroptions参数说明)|-|-|

#### TypicalLayerOptions参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|isPublic|false|boolean|false|是否查询公有空间数据。默认查询私有|
|serviceName|true|string|-|对应的图层类型|
|adcode|false|string|-|查询区域的行政编码,和polygon同时存在的情况下会优先使用adcode|
|polygon|false|Array&lt;Array&lt;[LngLat](#lnglat参数说明（类型）)&gt;&gt;|-|查询范围点坐标集合|
|geometry|false|[PolygonGeometry](#polygongeometry参数说明)\|[MultiPolygonGeometry](#multipolygongeometry参数说明)|-|查询范围，如果传入该参数，则参数 polygon 无效|
|searchOpts|false|[SearchOpts](#searchopts参数说明)|-|空间查询参数，详见searchOpts说明|
|mixTerms|false|Array&lt;[Term](#term参数说明)&gt;|-|查询过滤条件, 支持多条件搜索,详见自有数据查询的term|
|icons|true|Array&lt;[Icon](#icon参数说明)&gt;|-|图标来源于雪碧图。poi显示的图标级过滤条件。支持单图标和多图标。条件见示例。|
|iconSize|false|Array&lt;number&gt;|[0.5,1.5,3,19]|格式为：[minScale, maxScale, minZoom, maxZoom]图标scale随层级变化而变化,当前层级 < minZoom时图标scale为minScale；minZoom <当前层级 < maxZoom时 ，图标scale从minScale到maxScale线性递增；当前层级 > maxZoom时，图标scale为maxScale。minZoom、maxZoom为非必填，对应值默认为3和19（iconSize属性优先级高于icons参数中的scale）|
|showText|false|string|-|指定数据源中对应属性显示为文本，仅非聚合图标生效|
|iconTextStyle|true|[IconTextStyle](#icontextstyle参数说明)|-|图层文字样式, 指定了showText时有效，详见iconTextStyle说明|
|clustered|false|boolean|false|是否聚合|
|enableGridAgg|false|boolean|false|是否启用网格聚合，启用该聚合策略，不使用云平台配置的聚合策略|
|gridClusterRadius|false|number|10|网格聚合半径，最小值是 10，在 enableGridAgg 为 true 时有效|
|clusteredFilters|true|Array&lt;[ClusteredFilter](#clusteredfilter参数说明)&gt;|-|聚合条件, clustered=true时必填, 详见ClusteredFilter表格|
|throughNet|false|boolean|-|是否开启穿网级联，仅适用于公有空间设备图层|
|throughNetUrls|false|Array&lt;string&gt;|-|穿网级联指定的域名，设置后会请求该域名下ct-server的数据|
|iconRotateField|false|string|-|图标旋转参数，对应的字段是数据中的字段名称，顺时针旋转|
|ended|false|[Function](#ended函数参数说明)|-|结束回调|
|onError|false|[Function](#onerror函数参数说明)|-|错误回调函数|

##### LngLat参数说明（类型）

|参数名称|类型|说明|
|:--|:--:|:--|
|LngLat|[number, number]|经纬度坐标|

##### PolygonGeometry参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|type|true|固定值(string)-Polygon|-|要素图形类型|
|coordinates|true|[PolygonCoordinates](#polygoncoordinates参数说明（类型）)|-|要素空间信息|

###### PolygonCoordinates参数说明（类型）

|参数名称|类型|说明|
|:--|:--:|:--|
|PolygonCoordinates|Array&lt;Array&lt;[LngLat](#lnglat参数说明（类型）)&gt;&gt;|面数据坐标类型|

##### MultiPolygonGeometry参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|type|true|固定值(string)-MultiPolygon|-|要素图形类型|
|coordinates|true|Array&lt;[PolygonCoordinates](#polygoncoordinates参数说明（类型）)&gt;|-|要素空间信息|

##### SearchOpts参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|type|true|string|-|参数类型，支持'geometry'，或'annular'。'geometry'表示按照空间范围多边形查询，'annular'支持以中心点及半径确定的环形区域查询（详见下方示例）|
|value|true|any|-|'geometry'支持传入geojson格式的多边形，包括带孔多边形。'annular'需要传入center（geojson Point）及levels（二维数组，表示距离圆心的半径，单位km），详见下方示例|

##### Term参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|column|true|string|-|过滤字段，对于人员账号，需要传 targetType 值为 5；对于重点人员，需要传 targetType 值为 27；其它情况默认无需填写|
|termType|true|string|-|过滤条件,例如eq,neq,like,nlike,gt,lt,gte,lte,in,nin,prefix,subfix,isnull,notnull,should。其中like、nlike、prefix、subfix只能用于过滤值为字符串类型。|
|value|true|string\|number\|Array&lt;number&gt;\|Array&lt;string&gt;|-|过滤值|
|type|false|string|'and'|term之间的过滤关系.可选"and"和"or",如果存在至少一个and,过滤所有and对应的并集,如果全部是or,返回所有数据， 如果要过滤某个条件可以匹配多个值中的任何一个， 可以使用termType="in".|
|filterType|false|number|0|公有属性及私有属性标记，0为私有属性，1为公有属性，在查询公有图层数据时，根据该字段区分公私有属性，不填默认为私有|
|analyzeEnum|false|string|'not_analyze'|userId、deptId、roleId必须设置成default_analyze,上传数据指定的拼音分词需要设置成pinyin_analyze,默认不分词|
|terms|false|Array&lt;[Term](#term参数说明)&gt;|-|即当前Term，支持循环使用|

##### Icon参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|iconName|true|string|-|雪碧图名称|
|scale|false|number|1|雪碧图缩放比例|
|filter|true|Array&lt;[IconFilter](#iconfilter参数说明)&gt;|-|过滤条件, 详见IconFilter表格|

###### IconFilter参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|key|true|string|-|过滤字段|
|value|false|string\|number|-|过滤字段对应的值（强数据类型匹配），value与filter需二选一设置，设置value时，直接将数据中key的值与传入的value匹配|
|filter|false|Array&lt;[IconFilter](#iconfilter参数说明)&gt;|-|匹配key属性对应对象的属性，满足多层属性的过滤，设置filter时，代表数据中key对应的值为对象，嵌套的filter将进一步匹配下层对象的属性|

##### IconTextStyle参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|textOffset|false|Array&lt;number&gt;|[0, 1.5]|文本与其定位点的偏移距离。正值表示向右和向下，负值表示向左和向上|
|textSize|false|number|12|字体大小|
|textJustify|false|string|'center'|字体对齐方式 'left'或'center'或'right'|
|textColor|false|string|'#ffffff'|字体颜色|
|textColorFilters|false|[ColorRangeFilters](#colorrangefilters参数说明)\|Array&lt;[ColorMatchFilter](#colormatchfilter参数说明)&gt;|-|字体颜色，可以根据属性值匹配，或者属性的取值范围，显示不同的文字颜色，使用 ColorRangeFilters 类型时，属性的值需要是数值或者字符串表示的数值。启用该值，则 textColor 参数失效，建议使用 ColorMatchFilter[] 类型参数，ColorRangeFilters 为了兼容，暂时保留，后续会移除。具体参数的使用，可以参考下方的示例代码中的说明|
|iconColor|false|string|'#1569E0'|字体背景颜色|
|iconColorFilters|false|[ColorRangeFilters](#colorrangefilters参数说明)\|Array&lt;[ColorMatchFilter](#colormatchfilter参数说明)&gt;|-|字体背景颜色，可以根据属性值匹配，或者属性的取值范围，显示不同的文字背景颜色，使用 ColorRangeFilters 类型时，属性的值需要是数值或者字符串表示的数值。启用该值，则 iconColor 参数失效，建议使用 ColorMatchFilter[] 类型参数，ColorRangeFilters 为了兼容，暂时保留，后续会移除。具体参数的使用，可以参考下方的示例代码中的说明|
|backgroundShape|false|string|'round'|文字的背景矩形，'round'为圆角，‘square’为尖角|
|textAllowOverlap|false|boolean|false|是否允许字体重叠|
|iconTextFitPadding|false|Array&lt;number&gt;|[0, 6, 0, 6]|字体相对背景内间距，四个值分别设置top、right、bottom、left|
|backgroundImage|false|string|-|文本的背景图片地址|
|backgroundImageOptions|false|[backgroundImageOptionsObject](#backgroundimageoptionsobject参数说明)|-|文本的背景图片的设置|
|computedProps|false|Object|-|计算属性，用户自定义 function，回调返回值作为计算属性的值，示例：```computedProps: { speedText: function (properties) { const { speed = 0 } = properties; return `速度：${speed} km/h`; }}```|

###### ColorRangeFilters参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|key|true|string|-|属性|
|filters|true|Array&lt;[ColorFilter](#colorfilter参数说明)&gt;|-|根据属性值不同的范围，使用不同颜色显示|

###### ColorFilter参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|value|true|string\|number|-|属性值|
|color|true|string|-|颜色值，支持 rgb,rgba,16 进制色值,颜色名称|

###### ColorMatchFilter参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|color|true|string|-|颜色值，支持 rgb,rgba,16 进制色值,颜色名称|
|filter|false|[MatchItemFilter](#matchitemfilter参数说明)|-|根据属性值，支持属性值匹配，以及根据取值范围匹配，使用不同颜色显示|

###### MatchItemFilter参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|key|true|string|-|属性|
|value|false|string\|number\|[MatchItemRange](#matchitemrange参数说明)|-|属性值|
|filter|false|[MatchItemFilter](#matchitemfilter参数说明)|-|根据属性值，支持属性值匹配，以及根据取值范围匹配，使用不同颜色显示|

###### MatchItemRange参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|min|true|string\|number|-|最小值，包含|
|max|true|string\|number|-|最大值，不包含|

###### backgroundImageOptionsObject参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|content|true|Array&lt;number&gt;|-|[x1, y1, x2, y2] 定义文本背景图片，哪些区域用于显示文本|
|stretchX|true|Array&lt;Array&lt;number&gt;&gt;|-|[[x1, x2], ...] 定义文本背景图片，哪些位置可以水平拉伸|
|stretchY|true|Array&lt;Array&lt;number&gt;&gt;|-|[[y1, y2], ...] 定义文本背景图片，哪些位置可以垂直拉伸|

##### ClusteredFilter参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|count|true|number|-|聚合数量|
|circleRadius|false|number|18|聚合圆样式, 圆的半径, clustered=true时有效|
|circleColor|false|string|'#000000'|聚合圆样式, 圆的颜色, clustered=true时有效|
|circleStrokeWidth|false|number|0|聚合圆样式, 圆的边框宽度, clustered=true时有效|
|circleStrokeColor|false|string|'#000000'|聚合圆样式, 圆的边框颜色, clustered=true且边框宽度不为0时有效|

##### ended函数参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|res|[EndedRes](#endedres参数说明)|-|结束回调信息|

###### EndedRes参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|status|number|-|10-成功,20-失败|
|data|string|-|返回图层id|

##### onError函数参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|error|[IErrorCodeInfo](#ierrorcodeinfo参数说明)|-|错误信息|

###### IErrorCodeInfo参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|code|string|-|错误码编号|
|message|string|-|错误信息|

### 返回值

|类型|说明|
|:--|:--:|
|string|同步返回图层id|

### 示例


```javascript
var params = {
   // polygon: [[120.51416740849578,31.1949157394789],[120.51416740849578,31.34939327483829],[120.80768745630473,31.34939327483829],[120.80768745630473,31.1949157394789],[120.51416740849578,31.1949157394789]],
   // adcode: '320505',
   searchOpts: {
       // type: 'geometry',
       // value: {
       //     'type': 'MultiPolygon',//多边形或多多边形
       //     'coordinates'://带孔多边形（圆环为特殊带孔多边形）
       //         [[
       //             [[120.42990073784784, 31.1892304351624], [120.42990073784784, 31.423697826933832], [120.76816607526223, 31.423697826933832], [120.76816607526223, 31.1892304351624], [120.42990073784784, 31.1892304351624]],
       //             [[120.47468516281464, 31.24871659578595], [120.47468516281464, 31.391981211483483], [120.69479584715566, 31.391981211483483], [120.69479584715566, 31.24871659578595], [120.47468516281464, 31.24871659578595]]
       //         ]]
       // },

       type: 'annular',
       value: {
           center: {
               'type': 'Point',
               'coordinates': [120.61893643, 31.22363279]
           },
           levels: [[0, 5.0], [5.0, 10.0]],//表示距离center 0km至5km形成的圆，和距离center 5km至10km形成的圆环
       }
   },
   serviceName: 'multi_layers_test3',
   // mixTerms: [
   //     {
   //         column: 'dataId',
   //         value: 3,
   //         termType: 'like'
   //     }
   // ],
   // throughNet:true,
   // throughNetUrls:['10.68.2.131'],
   icons: [{
       iconName: 'weather-alarm-lev-1-24'
   }],
   showText: 'dataId',
   iconTextStyle: {
       textOffset: [0, 1.5],
       textSize: 12,
       textColor: '#ffffff',
      iconColor: '#1569E0',
       textAllowOverlap: false,
       iconTextFitPadding: [0, 6, 0, 6]
   },
   clustered: false,
   clusteredRadius: 5,
   clusteredFilters: [
       {
           count: 0,
           circleColor: 'orange'
       },
       {
           count: 5,
           circleColor: 'red'
       },
       {
           count: 10,
           circleColor: 'purple'
       }
   ],
   ended: renderResult
};
var typicalLayerId = kmap.addTypicalLayer(params);

// 关于 textColorFilters 或 iconColorFilters  使用 ColorMatchFilter[] 类型是的示例说明
[
   {
       color: 'green',
       filter: [
           // 匹配字段 civilCode 为 320500 数据
           {
               key: 'civilCode',
               value: '320500',
           },
           // 匹配字段 speed 在 0-40 区间的数据
           {
               key: 'speed',
               value: {
                   min: 0,
                   max: 40,
               },
           },
       ],
   },
   {
       color: 'yellow',
       filter: [
           {
               key: 'civilCode',
               value: '320500',
           },
           // 匹配字段 speed 在 40-80 区间的数据
           {
               key: 'speed',
               value: {
                   min: 40,
                   max: 80,
               },
           },
       ],
   },
   {
       color: 'red',
       filter: [
           {
               key: 'civilCode',
               value: '320500',
           },
           // 匹配字段 speed 在 80 以上的数据
           {
               key: 'speed',
               value: {
                   min: 80,
               },
           },
       ],
   },
   // 上述条件都不匹配时，默认的颜色
   {
       color: 'black',
   },
];
// 关于 textColorFilters 或 iconColorFilters  使用 ColorRangeFilters 类型是的示例说明
{
   key: 'speed',
   filters: [
     {
       // 0-40
       value: 0,
       color: 'green',
     },
     {
       // 40-80
       value: 40,
       color: 'green',
     },
     {
       // 80
       value: 80,
       color: 'red',
     },
   ],
}
```


## setMixTerms

### 描述

设置或更新图层查询数据的过滤条件，下一次数据查询开始生效。可结合reloadData使用。

### 参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|opts|true|[SetMixTermsOptions](#setmixtermsoptions参数说明)|-|-|

#### SetMixTermsOptions参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|layerId|true|string|-|图层 id|
|mixTerms|true|Array&lt;[Term](#term参数说明)&gt;|-|获取数据过滤条件|

##### Term参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|column|true|string|-|过滤字段，对于人员账号，需要传 targetType 值为 5；对于重点人员，需要传 targetType 值为 27；其它情况默认无需填写|
|termType|true|string|-|过滤条件,例如eq,neq,like,nlike,gt,lt,gte,lte,in,nin,prefix,subfix,isnull,notnull,should。其中like、nlike、prefix、subfix只能用于过滤值为字符串类型。|
|value|true|string\|number\|Array&lt;number&gt;\|Array&lt;string&gt;|-|过滤值|
|type|false|string|'and'|term之间的过滤关系.可选"and"和"or",如果存在至少一个and,过滤所有and对应的并集,如果全部是or,返回所有数据， 如果要过滤某个条件可以匹配多个值中的任何一个， 可以使用termType="in".|
|filterType|false|number|0|公有属性及私有属性标记，0为私有属性，1为公有属性，在查询公有图层数据时，根据该字段区分公私有属性，不填默认为私有|
|analyzeEnum|false|string|'not_analyze'|userId、deptId、roleId必须设置成default_analyze,上传数据指定的拼音分词需要设置成pinyin_analyze,默认不分词|
|terms|false|Array&lt;[Term](#term参数说明)&gt;|-|即当前Term，支持循环使用|

### 示例


```javascript
kmap.setMixTerms ({
   layerId: 'layerId',
   mixTerms:[{
    {
       column: 'regionFlag',
       value: 1,
       termType: 'eq',
       filterType: 1,
     },
   }]
});
```


## addLabelLayer

### 描述

添加标签图层。关联已有图层，共用数据，添加标签图层，目前支持业务数据图层和混合聚合图层。

### 参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|opts|true|[AddLabelLayerOptions](#addlabellayeroptions参数说明)|-|-|

#### AddLabelLayerOptions参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|layerId|true|string|-|关联的图层 id|
|textContents|true|Array&lt;[TextItem](#textitem参数说明)&gt;|-|对应图层数据中的字段id|
|textOffset|false|Array&lt;number&gt;|[0, 1.5]|文本与其定位点的偏移距离。正值表示向右和向下，负值表示向左和向上|
|textSize|false|number|12|字体大小|
|textJustify|false|string|'center'|字体对齐方式 'left'或'center'或'right'|
|textColor|false|string|'#ffffff'|字体颜色|
|backgroundShape|false|string|'round'|文字的背景矩形，'round'为圆角，‘square’为尖角|
|backgroundColor|false|string|'#1569E0'|字体背景颜色|
|textAllowOverlap|false|boolean|false|是否允许字体重叠|
|textFitPadding|false|Array&lt;number&gt;|[0, 6, 0, 6]|字体相对背景内间距，四个值分别设置top、right、bottom、left|
|onError|false|[Function](#onerror函数参数说明)|-|错误回调函数|
|ended|false|[Function](#ended函数参数说明)|-|结束回调|

##### TextItem参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|title|true|string|-|标题|
|textField|true|string|-|字段名称|

##### onError函数参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|error|[IErrorCodeInfo](#ierrorcodeinfo参数说明)|-|错误信息|

###### IErrorCodeInfo参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|code|string|-|错误码编号|
|message|string|-|错误信息|

##### ended函数参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|res|[EndedRes](#endedres参数说明)|-|结束回调信息|

###### EndedRes参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|status|number|-|10-成功,20-失败|
|data|string|-|返回标签图层 id|

### 返回值

|类型|说明|
|:--|:--:|
|any|-|

### 示例


```javascript
kmap.addLabelLayer({
 layerId: 'alita-82a67e4d-0685-4834-b25b-905d4f0baa7d',
 textContents: [
   {
     title: 'appName',
     textField: 'appName',
   },
   {
     title: 'serviceName',
     textField: 'serviceName',
   },
 ],
 ended: function (res) {
     console.log(res.data);
 },
});
```


## addJurisdictionLayer

### 描述

添加辖区图层。

### 参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|opts|true|[JurisdictionLayerOptions](#jurisdictionlayeroptions参数说明)|-|-|

#### JurisdictionLayerOptions参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|serviceName|true|string|-|图层标识|
|style|false|[JurisdictionStyle](#jurisdictionstyle参数说明)|-|设置几何图形的样式|
|ended|false|[Function](#ended函数参数说明)|-|结束回调|
|onError|false|[Function](#onerror函数参数说明)|-|错误回调函数|

##### JurisdictionStyle参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|fillColor|false|string|'rgba(69,185,124,0.7)'|填充面颜色，支持 rgb,rgba,16 进制色值,颜色名称|
|fillOpacity|false|number|1|填充面透明度，取值范围 0~1|
|lineColor|false|string|'#1A62A5'|描边颜色，支持 rgb,rgba,16 进制色值,颜色名称|
|lineWidth|false|number|2|描边宽度|
|lineOpacity|false|number|1|描边透明度，取值范围 0~1|
|lineDasharray|false|Array&lt;number&gt;|-|描边虚线线段的长度及间距，例：[0.2, 2]|

##### ended函数参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|res|[EndedRes](#endedres参数说明)|-|结束回调信息|

###### EndedRes参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|status|number|-|10-成功,20-失败|
|data|string|-|返回图层id|

##### onError函数参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|error|[IErrorCodeInfo](#ierrorcodeinfo参数说明)|-|错误信息|

###### IErrorCodeInfo参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|code|string|-|错误码编号|
|message|string|-|错误信息|

### 返回值

|类型|说明|
|:--|:--:|
|string|同步返回图层id|

### 示例


```javascript
kmap.addJurisdictionLayer({
   serviceName: 'test',
   style: {
       fillColor: 'green',
       lineDasharray: [2, 4],
       lineWidth: 20
   },
   ended: function (res) {
       console.log('layer created', res);
   }
});
```


## showIconText

### 描述

显示文字标注，目前支持自定义专题图层

### 参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|opts|true|[ShowIconTextOptions](#showicontextoptions参数说明)|-|-|

#### ShowIconTextOptions参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|layerId|true|string|-|图层id|

### 示例


```javascript
kmap.showIconText({
 layerId: 'alita-82a67e4d-0685-4834-b25b-905d4f0baa7d',
});
```


## hideIconText

### 描述

隐藏文字标注，目前支持自定义专题图层

### 参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|opts|true|[HideIconTextOptions](#hideicontextoptions参数说明)|-|-|

#### HideIconTextOptions参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|layerId|true|string|-|图层id|

### 示例


```javascript
kmap.hideIconText({
 layerId: 'alita-82a67e4d-0685-4834-b25b-905d4f0baa7d',
});
```


## createMultiLayerRegionAggs

### 描述

多图层行政区划聚合

### 参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|opts|true|[CreateMultiLayerRegionAggsOptions](#createmultilayerregionaggsoptions参数说明)|-|-|

#### CreateMultiLayerRegionAggsOptions参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|layers|true|Array&lt;string&gt;|-|图层id列表|

### 返回值

|类型|说明|
|:--|:--:|
|any|-|

### 示例


```javascript
const regionAggs = kmap.createMultiLayerRegionAggs({
 layers: ['layerId1', 'layerId2],
});
支持通过 `regionAggs.addMember('layerId3')` 方法添加新图层
支持通过 `regionAggs.removeMember('layerId3')` 方法移除图层
```

## addPGISJurisdictionLayerPro

### 描述

PGIS辖区图层

### 参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|opts|true|[PGISJurisdictionLayerProOptions](#pgisjurisdictionlayerprooptions参数说明)|-|-|

#### PGISJurisdictionLayerProOptions参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|geometryStyle|false|[PGISJurisdictionProStyle](#pgisjurisdictionprostyle参数说明)|-|设置几何图形的样式|
|zoomDivider|false|number|9|大于等于该层级，显示子辖区图层，小于该层级，显示分局辖区|
|before|false|string|-|图层ID,将当前图层插入在before对应图层的下方,如果不指定,将该图层添加到所有业务图层下方|
|ended|false|[Function](#ended函数参数说明)|-|-|
|onError|false|[Function](#onerror函数参数说明)|-|错误回调函数|

##### PGISJurisdictionProStyle参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|fillColors|false|string|['#FF9F00', '#FF5D36', '#4B88FF', '#53B258', '#FF57DF', '#1BCFFF']|填充面颜色，支持 rgb,rgba,16 进制色值,颜色名称|
|fillOpacity|false|number|0.3|填充面透明度，取值范围 0~1|
|activeFillOpacity|false|number|0.6|激活时填充面透明度，取值范围 0~1|
|lineColors|false|string|['#FF9F00', '#FF5D36', '#4B88FF', '#53B258', '#FF57DF', '#1BCFFF']|描边颜色，支持 rgb,rgba,16 进制色值,颜色名称|
|activeLineColors|false|string|-|激活时描边颜色，支持 rgb,rgba,16 进制色值,颜色名称|
|lineWidth|false|number|2|描边宽度|
|branchLineWidth|false|number|2|分局的描边宽度|
|activeLineWidth|false|number|-|激活时的描边宽度|
|lineOpacity|false|number|1|描边透明度，取值范围 0~1|
|lineDasharray|false|Array&lt;number&gt;|-|描边虚线线段的长度及间距，例：[0.2, 2]|

##### ended函数参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|res|[EndedRes](#endedres参数说明)|-|-|

###### EndedRes参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|status|number|-|10-成功,20-失败|
|data|string|-|返回图层id|

##### onError函数参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|error|[IErrorCodeInfo](#ierrorcodeinfo参数说明)|-|错误信息|

###### IErrorCodeInfo参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|code|string|-|错误码编号|
|message|string|-|错误信息|

### 返回值

|类型|说明|
|:--|:--:|
|any|同步返回图层id|

### 示例


```javascript
kmap.addPGISJurisdictionProLayer({
   geometryStyle: {
       fillColors: ['#FF9F00', '#FF5D36', '#4B88FF', '#53B258', '#FF57DF', '#1BCFFF'],
       lineColors: ['#FF9F00', '#FF5D36', '#4B88FF', '#53B258', '#FF57DF', '#1BCFFF'],
       activeLineColors: ['red', 'green', 'blue', 'yellow', 'purple', 'cyan'],
       lineWidth: 1,
       fillOpacity: 0.45,
       activeFillOpacity: 0.55,
   },
   zoomDivider: 9,
   ended: function (res) {
       console.log('layer created', res);
   }
});
```


## addMVTLayer

### 描述

添加MVT图层。

### 参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|opts|true|[MVTLayerOptions](#mvtlayeroptions参数说明)|-|-|

#### MVTLayerOptions参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|serviceName|true|string|-|图层标识|
|style|false|[MVTStyle](#mvtstyle参数说明)|-|设置几何图形的样式|
|ended|false|[Function](#ended函数参数说明)|-|结束回调|
|onError|false|[Function](#onerror函数参数说明)|-|错误回调函数|

##### MVTStyle参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|fillColor|false|string|-|填充面颜色，支持 rgb,rgba,16 进制色值,颜色名称|
|fillOpacity|false|number|-|填充面透明度，取值范围 0~1|
|lineColor|false|string|-|描边颜色，支持 rgb,rgba,16 进制色值,颜色名称|
|lineWidth|false|number|-|描边宽度|
|lineOpacity|false|number|-|描边透明度，取值范围 0~1|
|lineDasharray|false|Array&lt;number&gt;|-|描边虚线线段的长度及间距，例：[0.2, 2]|

##### ended函数参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|res|[EndedRes](#endedres参数说明)|-|结束回调信息|

###### EndedRes参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|status|number|-|10-成功,20-失败|
|data|string|-|返回图层id|

##### onError函数参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|error|[IErrorCodeInfo](#ierrorcodeinfo参数说明)|-|错误信息|

###### IErrorCodeInfo参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|code|string|-|错误码编号|
|message|string|-|错误信息|

### 返回值

|类型|说明|
|:--|:--:|
|any|-|

### 示例


```javascript
kmap.addMVTLayer({
   serviceName: 'national_borders',
   style: {
       fillColor: 'green',
       fillOpacity: 0.4,
       lineColor: 'red',
       lineWidth: 5
   },
   ended: function (res) {
       console.log('layer created', res);
   }
});
```


## 3D图层

## add3DLayer

### 描述

添加3D图层。将多边形按照指定的顶面高度和底面高度进行拉伸，形成3D图层。

### 参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|opts|true|[ThreeDLayerOptions](#threedlayeroptions参数说明)|-|-|

#### ThreeDLayerOptions参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|data|true|any|-|图层数据|
|before|false|string|-|将图层添加到指定图层前面|
|minZoom|false|number|9|该图层渲染的最小层级|
|maxZoom|false|number|14|该图层渲染的最大层级|
|opacity|false|number|0.7|该图层的透明度，0-1之间|
|colorIsFromFeature|false|boolean|false|颜色是否读取数据中的属性|
|colorField|false|string|-|colorIsFromFeature===true时必填，指定读取properties中的哪个属性|
|color|false|string|'white'|colorIsFromFeature===false时使用该属性指定颜色|
|translate|false|[Offset](#offset参数说明（类型）)|[0,0]|数据偏移量|
|pattern|false|string|-|渲染的纹理，值为雪碧图的图标名称，指定该属性时，颜色不生效|
|heightIsFromFeature|false|boolean|false|顶面高度是否读取数据中的属性|
|heightField|false|string|-|heightIsFromFeature===true时，指定读取properties中的哪个属性|
|height|false|number|30|heightIsFromFeature===false时使用该属性指定顶面高度|
|baseIsFromFeature|false|boolean|false|底面高度是否读取数据中的属性|
|baseField|false|string|-|baseIsFromFeature===true时，指定读取properties中的哪个属性|
|base|false|number|0|baseIsFromFeature===false时使用该属性指定底面高度|
|ended|false|[Function](#ended函数参数说明)|-|结束回调|
|onError|false|[Function](#onerror函数参数说明)|-|错误回调函数|

##### Offset参数说明（类型）

|参数名称|类型|说明|
|:--|:--:|:--|
|Offset|[number, number]|相对于锚点偏移量|

##### ended函数参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|res|[EndedRes](#endedres参数说明)|-|结束回调信息|

###### EndedRes参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|status|number|-|10-成功,20-失败|
|data|string|-|返回图层id|

##### onError函数参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|error|[IErrorCodeInfo](#ierrorcodeinfo参数说明)|-|错误信息|

###### IErrorCodeInfo参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|code|string|-|错误码编号|
|message|string|-|错误信息|

### 返回值

|类型|说明|
|:--|:--:|
|string|同步返回图层id|

### 示例


```javascript
let data = {
type: 'FeatureCollection',
features: [
    {
        type: 'Feature',
        geometry: {
            type: 'Polygon',
            coordinates: [
                [
                    [{{lngA}}, {{latA}}],
                    [{{lngB}}, {{latB}}],
                    [{{lngC}}, {{latC}}],
                    [{{lngA}}, {{latA}}]
                ]
            ]
        },
        properties: {
            height: {{高度值}}
        }
    }
]
};

kmap.add3DLayer({
data: data,
color: '{{颜色}}',
heightIsFromFeature: {{高度是否从数据读取}},
heightField: {{数据中表示高度的字段名}},
ended: function (res) {
    console.log(res.data);
}
});
```


## 通用接口

## removeLayer

### 描述

删除图层

### 参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|opts|true|[RemoveLayerOptions](#removelayeroptions参数说明)|-|-|

#### RemoveLayerOptions参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|layerId|true|string|-|要删除的图层id|

### 示例


```javascript
kmap.removeLayer({
     layerId: 'policeLayer'
 });
```


## showLayer

### 描述

显示图层

### 参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|opts|true|[ShowLayerOptions](#showlayeroptions参数说明)|-|-|

#### ShowLayerOptions参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|layerId|true|string|-|要删除的图层id|

### 示例


```javascript
kmap.showLayer({
     layerId: 'policeLayer'
 });
```


## hideLayer

### 描述

隐藏图层

### 参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|opts|true|[HideLayerOptions](#hidelayeroptions参数说明)|-|-|

#### HideLayerOptions参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|layerId|true|string|-|要隐藏的图层id|

### 示例


```javascript
kmap.hideLayer({
     layerId: 'policeLayer'
 });
```


## addEventOnLayerObject

### 描述

为图层对象添加事件绑定。支持绑定多次回调。注意：事件是要等图层创建完成后，才能绑定的。对于多个图层同时绑定事件，支持图层事件的拦截，比如只触发最上方图层的事件，只需要在最上方图层中的 handler 回调里，执行 e.preventDefault() 方法进行拦截即可，关于事件拦截，目前支持的事件类型：click', 'dblclick', 'mousedown', 'mouseup', 'mousemove', 'mouseenter', 'mouseleave', 'mouseover', 'mouseout' 'contextmenu' 。

### 参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|opts|true|[AddEventOnLayerObjectOptions](#addeventonlayerobjectoptions参数说明)|-|-|

#### AddEventOnLayerObjectOptions参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|layerId|true|string|-|要添加事件的图层ID|
|event|true|[LayerEventType](#layereventtype参数说明)|-|支持的事件类型见图层事件列表|
|handler|true|[Function](#handler函数参数说明)|-|事件回调|

##### LayerEventType参数说明

|描述|实际值|
|:--|:--:|
|鼠标按下|mousedown|
|鼠标弹起|mouseup|
|点击|click|
|双击|dblclick|
|右键|contextmenu|
|鼠标移动|mousemove|
|鼠标进入|mouseenter|
|鼠标离开|mouseleave|
|鼠标悬浮|mouseover|
|鼠标移出|mouseout|
|拖拽开始|dragstart|
|拖拽|dragging|
|拖拽结束|dragend|

##### handler函数参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|event|Object|-|-|
|data|Object|-|-|

### 示例


```
// 绑定聚合事件时获取信息
kmap.addEventOnLayerObject({
layerId: cluster_layerId,
event: 'click',
handler: function (e, info) {
    alert('按F12查看结果');
    console.log(e, info, '事件回调');
    //查询聚合详情
    if (info.type === 'aggs') {
        kmap.queryClusterDetail({
            queryOptions: info,
            serviceName: 'service_tzn_test7',
            maxCount: 999,
            callback: function (res) {
                console.log(res, '聚合详情');
            }
        });
    } else if (info.type === 'details') {
        console.log(info.data, '详情');
    }
}
});
// event == drag
kmap.addEventOnLayerObject({
layerId: 'policeLayer',
event: 'drag',
dragStart: function () {
    // 这里放置开始拖动事件回调
},
dragMove: function () {
    // 这里放置拖动过程事件回调
},
dragEnd: function () {
    // 这里放置拖动结束事件回调
}
});
```


## removeEventOnLayerObject

### 描述

移除图层对象上的事件绑定。

### 参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|opts|true|[RemoveEventOnLayerObjectOptions](#removeeventonlayerobjectoptions参数说明)|-|-|

#### RemoveEventOnLayerObjectOptions参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|layerId|true|string|-|要移除事件绑定的图层ID|
|event|true|[LayerEventType](#layereventtype参数说明)|-|要移除的事件名称|

##### LayerEventType参数说明

|描述|实际值|
|:--|:--:|
|鼠标按下|mousedown|
|鼠标弹起|mouseup|
|点击|click|
|双击|dblclick|
|右键|contextmenu|
|鼠标移动|mousemove|
|鼠标进入|mouseenter|
|鼠标离开|mouseleave|
|鼠标悬浮|mouseover|
|鼠标移出|mouseout|
|拖拽开始|dragstart|
|拖拽|dragging|
|拖拽结束|dragend|

### 示例


```javascript
kmap.removeEventOnLayerObject({
layerId: 'policeLayer',
event: 'click'
});
```


## getBufferFeatures

### 描述

获取鼠标点击位置一定范围内的业务坐标点（仅查询显示状态的非聚合的要素）。缓冲区范围：以鼠标点击坐标为中心，参数radius为边长的正方形区域

### 参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|opts|true|[GetBufferFeaturesOptions](#getbufferfeaturesoptions参数说明)|-|-|

#### GetBufferFeaturesOptions参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|point|true|[LngLat](#lnglat参数说明（类型）)|-|点坐标|
|radius|true|number|-|正方形查询区域的边长，单位：像素|
|layers|true|Array&lt;string&gt;|-|查询的图层id数组|

##### LngLat参数说明（类型）

|参数名称|类型|说明|
|:--|:--:|:--|
|LngLat|[number, number]|经纬度坐标|

### 返回值

|类型|说明|
|:--|:--:|
|any|-|

### 示例


```javascript
kmap.addEventOnLayerObject({
   layerId: layerId,
   event: 'click',
   handler: function (e, features) {
       let features = kmap.getBufferFeatures({
           point: e.point,
           radius: 100,
           layers: [layerId],
       });
       console.log(features);
   }
});
```


## updateFeature

### 描述

通过图层事件，获取到单个图标的feature，更改feature的属性，来驱动非聚合单个图标的更新，目前仅在addCustomLayer和addMixedClusterLayer图层中实现此功能，且需要在icons参数中预先指定feature属性对应的图标

### 参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|opts|true|[UpdateFeatureOptions](#updatefeatureoptions参数说明)|-|-|

#### UpdateFeatureOptions参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|layerId|true|string|-|图层id|
|featureId|true|string\|number|-|要更新的Feature的唯一标识，私有图层使用"dataId",公有图层使用"id"。Feature通过图层事件的回调取得|
|propName|true|string|-|feature.properties中需要更新的属性|
|propValue|true|string\|number|-|feature.properties中需要更新的属性值|


注意：需要设置addCustomLayer或addMixedClusterLayer的参数enableUpdateFeature为true，updateFeature才可生效

### 示例


```javascript
addCustomLayer中，预先设定status为1和6的图标样式，通过updateFeature更新数据，来驱动图标的更新

//单图标示例
var featureId = '';
kmap.addEventOnLayerObject({
   layerId: layerId,
   event: 'mouseover',
   handler: function (e, info) {
       featureId = info.data[0].id;
       kmap.updateFeature({
           layerId: layerId,
           featureId: featureId,
           propName: 'status',
           propValue: 6
       });
    }
 });
kmap.addEventOnLayerObject({
layerId: layerId,
event: 'mouseout',
handler: function (e, info) {
    kmap.updateFeature({
        layerId: layerId,
        featureId: featureId,
        propName: 'status',
        propValue: 1
    });
}
});

//多图标示例
var featureId = '';
var updatedFeatures = {};
kmap.addEventOnLayerObject({
layerId: layerId,
event: 'click',
handler: function (e) {
    featureId = info.data[0].id;
    updatedFeatures[featureId] = {
        propName: 'status',
        originalVal: info.data[0].status
    };
    kmap.updateFeature({
        layerId: layerId,
        featureId: featureId,
        propName: 'status',
        propValue: 6
    });
 }
});

kmap.addEventOnMap({
   event: 'click',
   handler: function (e) {
     var features = kmap.getBufferFeatures({
        point: e.point,
        radius: 5,
        layers: [layerId],
     });
     if (features.length === 0) {
        for (var featureId in updatedFeatures) {
            kmap.updateFeature({
                layerId: layerId,
                featureId: featureId,
                propName: updatedFeatures[featureId].propName,
                propValue: updatedFeatures[featureId].originalVal,
            });
        }
     }
  }
});
```


## setPaintProperty

### 描述

设置图层的绘制样式，仅支持几何图层。

### 参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|opts|true|[SetPaintPropertyOptions](#setpaintpropertyoptions参数说明)|-|-|

#### SetPaintPropertyOptions参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|layerId|true|string|-|图层id|
|name|true|string|-|样式名称|
|value|true|string\|number\|[number, number]|-|样式值|



**多边形可设置属性:**

|参数名称|类型|说明|
|:--|:--|--|
|fill-color|string|填充颜色|
|fill-outline-color|String|边框颜色|
|fill-opacity|Number|透明度|
|fill-pattern|String|填充纹理, 需指定雪碧图名称|
|fill-antialias|Boolean|是否抗锯齿|
|fill-translate|Array|几何偏移量, [x,y]|
|fill-translate-anchor|String|偏移相对锚点, 可选值有 'map'、'viewport'|

**线可设置属性:**

|参数名称|类型|说明|
|:--|:--|--|
|line-color|string|填充颜色|
|line-opacity|Number|透明度|
|line-pattern|String|填充纹理, 需指定雪碧图名称|
|line-translate|Array|几何偏移量, [x,y]|
|line-translate-anchor|String|偏移相对锚点, 可选值有'map','viewport'|
|line-width|Number|宽度|
|line-gap-width|Number|内部间隙宽度|
|line-offset|Array|相对于线方向偏移|
|line-blur|Number|绘制阴影|

**点可设置属性:**

|参数名称|类型|说明|
|:--|:--|--|
|circle-radius|Number|半径|
|circle-color|String|颜色|
|circle-blur|Number|模糊度|
|circle-opacity|Number|透明度|
|circle-translate|Array|几何偏移量, [x,y]|
|circle-translate-anchor|String|偏移相对锚点, 可选值有 'map', 'viewport'|
|circle-pitch-scale|String|倾斜方向, 可选值为 'map', 'viewport'|
|circle-stroke-width|Number|边框宽度|
|circle-stroke-color|String|边框颜色|
|circle-stroke-opacity|Number|边框透明度|


### 示例


```javascript
kmap.setPaintProperty({
   layerId:'cameraLayer',
   name:'text-opacity',
   value:0
});
```


## addMonitorLayer

### 描述

添加设备监控信息图层，作为业务数据图层的附属图层，显示监控设备的监控范围及设备朝向等信息。当前仅适用于addCustomLayer接口添加的图层，同时跟随addCustomLayer图层的隐藏、显示及删除。

### 参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|opts|true|[MonitorLayerOptions](#monitorlayeroptions参数说明)|-|-|

#### MonitorLayerOptions参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|layerId|true|string|-|设备图层id|
|clearCoverageVisible|false|boolean|false|是否显示设备清晰覆盖范围|
|clearCoverageFillColor|false|string|'#00a6ac'|设备清晰覆盖范围图形填充色|
|clearCoverageOpacity|false|number|0.3|设备清晰覆盖范围图形透明度|
|maxCoverageVisible|false|boolean|false|是否显示设备最大覆盖范围|
|maxCoverageFillColor|false|string|'#00a6ac'|设备最大覆盖范围图形填充色|
|maxCoverageOpacity|false|number|0.3|设备最大覆盖范围图形透明度|
|currentMonitorVisible|false|boolean|false|是否显示当前设备监控范围|
|currentMonitorFillColor|false|string|'#00a6ac'|当前设备监控范围填充色|
|currentMonitorOpacity|false|number|0.3|当前设备监控范围透明度|
|coverageGeometryFilter|true|Array&lt;[CoverageGeometryFilter](#coveragegeometryfilter参数说明)&gt;|-|几何图形配置（不同类型的设备监控范围可展示为圆形或扇形，需要通过配置加以区分）|
|minzoom|false|number|-|该图层最小展示层级，小于该层级是不展示，建议该设置不小于14|

##### CoverageGeometryFilter参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|key|true|string|-|指定属性中字段作为判断依据，通常为‘cameraForm’|
|sector|false|Array&lt;number&gt;\|Array&lt;string&gt;|-|指定为扇形的值|
|circle|false|Array&lt;number&gt;\|Array&lt;string&gt;|-|指定为圆形的值|


设备数据说明：
仅支持公有空间数据，或关联公有空间的私有图层。数据需包含以下字段：
```javascript
ipc: {
 'directionType': '2', //设备朝向，1：东，2：西，3：南，4：北，5：东南，6：东北，7：西南，8：西北，9：全向
 'viewAngle': 90.34, //监控角度
 'clearCoverage': 70.25, //清晰覆盖范围
 'maxCoverage': 58.67, //最大覆盖范围
 'cameraForm': '3', //监控设备类型
}
@example
```javascript
kmap.addMonitorLayer({
   layerId: cluster_layerId,
   minzoom: 12,
   clearCoverageVisible: true,
   clearCoverageFillColor: '#00a6ac',
   clearCoverageOpacity: 0.3,
   maxCoverageVisible: true,
   maxCoverageFillColor: '#00a6ac',
   maxCoverageOpacity: 0.3,
   currentMonitorVisible: false,
   currentMonitorFillColor: '#00a6ac',
   currentMonitorOpacity: 0.3,
   coverageGeometryFilter: {
       key: 'cameraForm',
       sector: ['3', '4', '5'],
       circle: ['1', '2', '98']
   }
});
```


### 示例

```javascript
kmap.addMonitorLayer({
   layerId: cluster_layerId,
   minzoom: 12,
   clearCoverageVisible: true,
   clearCoverageFillColor: '#00a6ac',
   clearCoverageOpacity: 0.3,
   maxCoverageVisible: true,
   maxCoverageFillColor: '#00a6ac',
   maxCoverageOpacity: 0.3,
   currentMonitorVisible: false,
   currentMonitorFillColor: '#00a6ac',
   currentMonitorOpacity: 0.3,
   coverageGeometryFilter: {
       key: 'cameraForm',
       sector: ['3', '4', '5'],
       circle: ['1', '2', '98']
   }
});
```

## updateToken

### 描述

当三方服务需要动态token时（token有效期较短），为保证地图正常加载数据，需要定时更新token，注意：仅对 添加restful服务图层 addWFSLayer生效。

### 参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|opts|true|[UpdateTokenOptions](#updatetokenoptions参数说明)|-|-|

#### UpdateTokenOptions参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|layerId|true|string|-|图层id|
|tokenKey|true|string|-|三方服务需要传参的token字段名（键名）|
|tokenValue|true|string|-|三方服务需要传参的token值|

### 示例


```javascript
kmap.updateToken({
        layerId: layerId,
        tokenKey:'access_token',
        tokenValue:'3wertyuykujfhdgsfadfggfu'
    });
```


## setLayerEditable

### 描述

设置图层可拖拽编辑

### 参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|opts|true|[SetLayerEditableOptions](#setlayereditableoptions参数说明)|-|-|

#### SetLayerEditableOptions参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|layerId|true|string|-|图层id|
|callback|false|[Function](#callback函数参数说明)|-|拖拽结束时，返回当前被拖拽的点位Feature。Feature.geometry为拖拽后的最新值|

##### callback函数参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|res|Object|-|-|

### 示例


```javascript
kmap.setLayerEditable({
   layerId: cluster_layerId,
   callback: function (res) {
      console.log(res);
   }
});
```


## updateDeviceLnglat

### 描述

结合setLayerEditable方法，将图层拖拽后的设备数据更新到ct-server。仅针对addCustomLayer添加的图层,拖拽编辑后，kmap将缓存被拖拽过的设备数据，调用本方法，将把编辑后的数据更新到ct-server，若需要保持数据一致性，可将回调方法返回的数据更新到一机一档等平台。保存后（无论失败或成功）图层自动解除可编辑状态

### 参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|opts|true|[UpdateDeviceLnglatOptions](#updatedevicelnglatoptions参数说明)|-|-|

#### UpdateDeviceLnglatOptions参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|layerId|true|string|-|图层id|
|callback|false|[Function](#callback函数参数说明)|-|回调方法|

##### callback函数参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|res|[CallbackRes](#callbackres参数说明)|-|回调信息|

###### CallbackRes参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|status|number|-|10-成功,20-失败|
|data|string|-|保存ct-server成功时，返回被保存的设备数据|

### 示例


```javascript
kmap.updateDeviceLnglat({
   layerId: cluster_layerId,
   callback:function (res) {
       console.log(res)
   }
});
```


## cancelLayerEdit

### 描述

调用setLayerEditable方法进入编辑状态后，可通过本方法取消编辑状态。

### 参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|opts|true|any|-|-|

### 示例


```javascript
kmap.cancelLayerEdit({
   layerId: layerId
});
```


## getBaseLayerGroups

### 描述

获取底图中图层组列表

### 参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|opts|true|[GetBaseLayerGroupsOptions](#getbaselayergroupsoptions参数说明)|-|-|

#### GetBaseLayerGroupsOptions参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|zoom|true|number|-|地图层级|
|ended|true|[Function](#ended函数参数说明)|-|结束回调|

##### ended函数参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|res|[EndedRes](#endedres参数说明)|-|-|

###### EndedRes参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|status|number|-|10-成功,20-失败|
|data|Array&lt;string&gt;|-|底图中图层组列表|

### 示例


```javascript
kmap.getBaseLayerGroups({
 zoom: 8,
 ended: function (res) {
     console.log(res.data);
 },
});
```


## topFeature

### 描述

置顶图层中的单个要素，一次只能置顶一个要素，目前支持业务数据图层和混合聚合图层，置顶要素会触发要素碰撞检测的机制，出现局部要素分布发生变化的情况。

### 参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|opts|true|[TopFeatureOptions](#topfeatureoptions参数说明)|-|-|

#### TopFeatureOptions参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|layerId|true|string|-|图层id|
|featureId|true|string|-|对应图层数据中的字段id|
|onError|false|[Function](#onerror函数参数说明)|-|错误回调函数|
|ended|false|[Function](#ended函数参数说明)|-|结束回调|

##### onError函数参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|error|[IErrorCodeInfo](#ierrorcodeinfo参数说明)|-|错误信息|

###### IErrorCodeInfo参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|code|string|-|错误码编号|
|message|string|-|错误信息|

##### ended函数参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|res|[EndedRes](#endedres参数说明)|-|结束回调信息|

###### EndedRes参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|status|number|-|10-成功,20-失败|
|data|string|-|成功 'Success'|

### 示例


```javascript
kmap.topFeature({
 layerId: 'alita-82a67e4d-0685-4834-b25b-905d4f0baa7d',
 featureId: '32050654001320102300',
 ended: function (res) {
     console.log(res.data);
 },
});
```


## removeMonitorLayer

### 描述

删除监控信息图层

### 参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|opts|true|[SetMonitorLayerOptions](#setmonitorlayeroptions参数说明)|-|-|

#### SetMonitorLayerOptions参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|layerId|true|string|-|设备图层id|

### 示例


```javascript
kmap.removeMonitorLayer({
   layerId: cluster_layerId,
});
```


## showMonitorLayer

### 描述

显示监控信息图层

### 参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|opts|true|[SetMonitorLayerOptions](#setmonitorlayeroptions参数说明)|-|-|

#### SetMonitorLayerOptions参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|layerId|true|string|-|设备图层id|

### 示例


```javascript
kmap.showMonitorLayer({
   layerId: cluster_layerId,
});
```


## hideMonitorLayer

### 描述

隐藏监控信息图层

### 参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|opts|true|[SetMonitorLayerOptions](#setmonitorlayeroptions参数说明)|-|-|

#### SetMonitorLayerOptions参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|layerId|true|string|-|设备图层id|

### 示例


```javascript
kmap.hideMonitorLayer({
   layerId: cluster_layerId,
});
```


## 室内地图图层

## addIndoorLayer

### 描述

添加室内地图图层，使用前请将室内地图图标添加到业务雪碧图中，否则 POI将不会显示图标。

### 参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|opts|true|[IndoorLayerOptions](#indoorlayeroptions参数说明)|-|-|

#### IndoorLayerOptions参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|dataId|true|string|-|室内地图建筑物id，可通过服务查询接口 getIndoorMapBuildingList获取建筑物详情列表。也可在云平台查看|
|type|false|[IndoorMapType](#indoormaptype参数说明)|KMap.INDOOR_MAP_TYPE.RAIL|室内地图的类型，默认是轨道交通|
|initFloor|false|string|-|初始化显示的楼层，需传入数据中包含的楼层索引|
|focusedPoi|false|Array&lt;string&gt;|-|重点关注的poi类别，poi优先显示。需传入三级分类，分类见poi分类表|
|filterOutPoi|false|Array&lt;string&gt;|-|不显示的poi类别,需传入三级分类，分类见poi分类表|
|spaceColorConfigBySubKinds|false|Array&lt;[ColorConfig](#colorconfig参数说明)&gt;|-|根据三级分类设置空间面的填充色，匹配数据的三级分类编码，见颜色配置说明|
|spaceColorConfigByKinds|false|Array&lt;[ColorConfig](#colorconfig参数说明)&gt;|-|根据二级分类设置空间面的填充色，匹配数据的二级分类编码，见颜色配置说明|
|outlineColorConfigBySubKinds|false|Array&lt;[ColorConfig](#colorconfig参数说明)&gt;|-|根据三级分类设置空间面描边的颜色，匹配数据的三级分类编码，见颜色配置说明|
|outlineColorConfigByKinds|false|Array&lt;[ColorConfig](#colorconfig参数说明)&gt;|-|根据二级分类设置空间面描边的颜色，匹配数据的二级分类编码，见颜色配置说明|
|exportSize|false|string|'small'|出口资讯整体大小，可选small-较小，normal-标准|
|callback|false|[Function](#callback函数参数说明)|-|回调函数，图层添加后调用，回调参数见回调参数说明|

##### IndoorMapType参数说明

|参数名称|描述|实际值|
|:--|:--|:--:|
|KMap.INDOOR_MAP_TYPE.RAIL|轨道交通|rail|
|KMap.INDOOR_MAP_TYPE.PRISON|监狱|prison|

##### ColorConfig参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|color|true|string|-|色值|
|kinds|true|Array&lt;string&gt;|-|设置为该色值的类别编码，可用值参考poi分类表|

##### callback函数参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|layerId|undefined\|string|-|-|
|info|string\|[IndoorDataInfo](#indoordatainfo参数说明)|-|-|

###### IndoorDataInfo参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|defaultFloor|string|-|默认楼层|
|indexes|Array&lt;string&gt;|-|楼层名称列表|
|customInfo|any|-|自定义信息|


**使用说明**

需要在云平台导入室内地图建筑物数据，过服务查询接口 `getIndoorMapBuildingList`获取建筑物详情，详情中包含建筑物中心坐标及id等信息。添加图层的回调callback方法会返回图层id及建筑物楼层索引。开发者可使用楼层索引动态生成切换楼层的按钮组件。结合切换楼层方法`switchIndoorLayer` 实现楼层的切换

**颜色配置说明**

空间面及空间面描边颜色配置

- **匹配优先级**：三级分类 > 二级分类

- **同级分类优先级**：按照数组顺组匹配，命中即退出，不对后面条件做判断

**地铁站 customInfo 示例**
```
"customInfo": {
        "platform": "B3", //站台层
        "stationHall": "B1",//站厅层
        "name": "一号线中山公园站",//地铁名称
        "A": "将军祠站",//地铁运行A端名称
        "B": "镇海路站"//地铁运行B端名称
    }
```


**轨交分类编码**

|二级分类与二级编码|三级分类|三级编码|
|:--|:--|:--|
|重要通道	010100|	疏散梯|	010101|
||		楼扶梯|	010102|
||		无障碍电梯|	010103|
||		进站通道|	010104|
||		出站通道|	010105|
||		疏散通道|	010106|
||		安全出口|	010107|
||		出入口|	010108|
||		设备运输路径|	010109|
|重点设施	010200|	自动售票机|	010201|
||		宽通道双向检票机|	010202|
||		票厅|	010203|
||		票亭	|010204|
||		充值机|	010205|
||		自动验票机|	010206|
||		安检机|	010207|
||		出站闸机|	010208|
||		进站闸机|	010209|
||		检查机|	010210|
||		详检工作台|	010211|
||		ATM|	010212|
||		银行|	010213|
|商业图层	010300|	乘客座椅|	010301|
||		地铁线路图|	010302|
||		广告牌|	010303|
||		导向图|	010304|
||		自动贩卖机|	010305|
||		展示栏|	010306|
||		自动照相馆|	010307|
|警力图层	010400|	4G执法记录仪|	010401|
||		对讲机|	010402|
||		防爆反恐设备|	010403|
||		安检值班室|	010404|
||		公安值班室|	010405|
||		综合监控室|	010406|
||		公安接处警室|	010407|
||		综合监控设备室|	010408|
|站务图层	010500|	会议交接班室|	010501|
||		AFC值班室|	010502|
||		AFC票务室|	010503|
||		信号值班室|	010504|
||		站务室|	010505|
||		男更衣室|	010506|
||		女更衣室|	010507|
||		站长室|	010508|
||		客服中心|	010509|
|消防图层	010600|	消防泵房|	010601|
||		消防栓|	010602|
||		消防立管预埋|	010603|
|建筑图层	010700|	车控室|	010701|
||		风室|	010702|
||		通风空调电控室（含冷水系统）|	010703|
||		气瓶间|	010704|
||		照明配电室|	010705|
||		商用通信电源室|	010706|
||		专用通信电源室|	010707|
||		做电磁防护通讯设备室|	010708|
||		AFC维修室|	010709|
||		广告备品库|	010710|
||		弱电井|	010711|
||		备用间|	010712|
||		车站备品库|	010713|
||		空调机房（含制冷机房）|	010714|
||		警用通信设备室|	010715|
||		民用通信设备室|	010716|
||		电缆引入间|	010717|
||		做电磁防护信号设备室|	010718|
||		变配电室|	010719|
||		综合布线间|	010720|
||		工务用房|	010721|
||		检修储藏室|	010722|
||		强电井|	010723|
||		空调机房|	010724|
||		混风室|	010725|
||		隧道机房|	010726|
||		屏蔽门控制室|	010727|
||		三角机房|	010728|
||		电缆井|	010729|
||		备用室|	010730|
||		整流变压室|	010731|
||		控制室|	010732|
||		开关柜室|	010733|
||		再生能室|	010734|
||		排热风室|	010735|
||		通风空调电控室|	010736|
||		配线间|	010737|
||		通号电缆间|	010738|
||		隧道风机房|	010739|
||		电梯检修厅|	010740|
||		广告备品室|	010741|
||		检修备品间|	010742|
||		UPS室|	010743|
|其他	010800|	无障碍卫生间|	010801|
||		男卫生间|	010802|
||		女卫生间|	010803|
||		茶水间|	010804|
||		污水泵房|	010805|
||		洗手间|	010806|
||		清扫工具间|	010807|
||		清扫工具及垃圾间|	010808|
||		垃圾间|	010809|
||		铁轨|	010810|
||		屏蔽门|	010811|
||		入站方向|	010812|
||		出站方向|	010813|
||		设备台|	010814|
||		配电箱|	010815|
||		文件柜|	010816|
||		电脑台|	010817|
||		电话台|	010818|
||		FAS|	010819|
||		控制台|	010820|
||		门|	010821|
|通风设施	010900|	活塞风道|	010901|
||		新风道|	010902|
||		轨顶风道|	010903|
|监控图层	011000|	人员卡口|	011001|
||		视频设备|	011002|
|告警图层	011100|	告警|	011101|
||		预留安检区域|	011102|
|未知分类	999900|	未知分类|	999999|

**监狱分类编码**

|二级分类与二级编码|三级分类|三级编码|
|:--|:--|:--|
|重要通道	020100|	出入口|	020101|
||		紧急疏散门|	020102|
||		楼梯间|	020103|
|监室	020200|	监室号|	020201|
|操场	020300|	|	|
|门	020400| 门名称	|	020401 |
|走廊	020500|	|	|
|围墙	020600|	|	|
|收拘大厅	020700|	|	|
|收押接待厅	020800|	|	|
|办公区	020900|	|	|
|会见谈话区	021000|	|	|
|拘留区	021100|	|	|
|监区	021200|	|	|
|询问区	021300|	|	|
|律师会见区	021400|	|	|
|治疗区	021500|	|	|
|其他建筑	029800|	|	|
|其他房间	029900|	|	|

### 示例


```javascript
kmap.addIndoorLayer({
dataId: 18,
spaceColorConfigBySubKinds: [
    {
        color: 'red',
        kinds: ['010407', '010408']
     }
],
callback: function (layerId, info) {
   if (layerId) {
       // to do sth
   }
}
});
```


## switchIndoorLayer

### 描述

切换室内地图图层楼层

### 参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|opts|true|[SwitchIndoorLayerOptions](#switchindoorlayeroptions参数说明)|-|-|

#### SwitchIndoorLayerOptions参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|layerId|true|string|-|室内地图图层id|
|floor|true|string|-|需要显示的楼层，需传入数据中包含的楼层名称|

### 示例


```javascript
kmap.switchIndoorLayer({
   layerId: 'layerId',
   floor: 'B2'
});
```


## setIndoorLayerFilter

### 描述

设置室内地图图层过滤条件，过滤掉不需要显示的poi类别，每次设置将会重置过滤条件，不会保存之前过滤的值。

### 参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|opts|true|[SetIndoorLayerFilterOptions](#setindoorlayerfilteroptions参数说明)|-|-|

#### SetIndoorLayerFilterOptions参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|layerId|true|string|-|需要设置的室内地图图层id|
|filterOutPoi|true|Array&lt;string&gt;|-|不显示的poi类别,需传入三级分类|

### 示例


```javascript
kmap.setIndoorLayerFilter({
   layerId: 'layerId',
   filterOutPoi: [
       '010701',
       '010702'
   ]
});
```


# 数据可视化

## 热力图

## createRealtimeHeatLayer

### 描述

实时热力图。

### 参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|opts|true|[CreateRealtimeHeatLayerOptions](#createrealtimeheatlayeroptions参数说明)|-|-|

#### CreateRealtimeHeatLayerOptions参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|data|true|Array&lt;[HeatDataItemType](#heatdataitemtype参数说明（类型）)&gt;|-|热力图数据|
|defaultStyle|false|number|0|默认样式，可选值：0，1，2，3|
|minZoom|false|number|9|设置图层最小显示等级|
|maxZoom|false|number|19|设置图层最大显示等级|
|minValue|false|number|0|设置权值属性最小值|
|maxValue|false|number|20|设置权值属性最大值，单个点位权值与最大权值的比例和色值之间线性相关，比例越大，色值向色带高区间偏移|
|minRadius|false|number|10|设置热力图半径最小值，单个热力点的影响范围|
|maxRadius|false|number|30|设置热力图半径最大值|
|minIntensity|false|number|1|设置强度最小值，强度会对权重值进行放大， 形式上表现为色值向色带高区间偏移|
|maxIntensity|false|number|10|设置强度最大值|
|opacity|false|number|1|热力图不透明度|
|ended|false|[Function](#ended函数参数说明)|-|回调函数, 回调参数包含图层id|

##### HeatDataItemType参数说明（类型）

|参数名称|类型|说明|
|:--|:--:|:--|
|HeatDataItemType|[number, number, number]|热力图数据，包含的值依次为经度、纬度、热力值|

##### ended函数参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|event|[EndedEvent](#endedevent参数说明)|-|结束回调信息|

###### EndedEvent参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|status|number|-|10-成功,20-失败|
|data|string|-|图层id，用于移除等操作|


**defaultStyle参数配置效果**

参数等于0：

![image](https://kfront.kedacom.com/file/docImage/1708498394472createRealtimeHeatLayer-0.jpeg)

参数等于1：

![image](https://kfront.kedacom.com/file/docImage/1708498404710createRealtimeHeatLayer-1.jpeg)

参数等于2：

![image](https://kfront.kedacom.com/file/docImage/1708498413814createRealtimeHeatLayer-2.jpeg)

参数等于3：

![image](https://kfront.kedacom.com/file/docImage/1708498421868createRealtimeHeatLayer-3.jpeg)


### 示例


```javascript
var data =  [
    [120.66347653474037, 31.312768292973445, 10000],
    [120.55258328520648, 31.33799003928705, 11555],
    [120.55258328520648, 31.33799003928705, 121]
];
var layerId;
kmap.createRealtimeHeatLayer({
    data:data,
    ended(res) {
      layerId = res.data;
    }
});
```


## createHistoryHeatLayer

### 描述

历史热力图。

### 参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|opts|true|[CreateHistoryHeatLayerOptions](#createhistoryheatlayeroptions参数说明)|-|-|

#### CreateHistoryHeatLayerOptions参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|dataList|true|[HistoryHeatDataItemType](#historyheatdataitemtype参数说明)|-|历史热力图数据|
|timeAxis|true|[timeAxisObject](#timeaxisobject参数说明)|-|配置参数|
|minZoom|false|number|9|设置图层最小显示等级|
|maxZoom|false|number|19|设置图层最大显示等级|
|minValue|false|number|0|设置权值属性最小值|
|maxValue|false|number|20|设置权值属性最大值，单个点位权值与最大权值的比例和色值之间线性相关，比例越大，色值向色带高区间偏移|
|minRadius|false|number|10|设置热力图半径最小值，单个热力点的影响范围|
|maxRadius|false|number|30|设置热力图半径最大值|
|minIntensity|false|number|1|设置强度最小值，强度会对权重值进行放大， 形式上表现为色值向色带高区间偏移|
|maxIntensity|false|number|10|设置强度最大值|
|speed|false|number|2|切换速度，单位秒|
|opacity|false|number|1|热力图不透明度|
|ended|false|[Function](#ended函数参数说明)|-|回调函数, 回调参数包含图层id|

##### HistoryHeatDataItemType参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|dateTime|true|string|-|时间|
|data|true|[HeatDataItemType](#heatdataitemtype参数说明（类型）)|-|热力图数据|

###### HeatDataItemType参数说明（类型）

|参数名称|类型|说明|
|:--|:--:|:--|
|HeatDataItemType|[number, number, number]|热力图数据，包含的值依次为经度、纬度、热力值|

##### timeAxisObject参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|auto|false|boolean|true|是否启动轮播|
|conLen|false|number|600|时间轴容器宽度，值为数值，单位px|
|titLen|false|number|40|时间轴标题容器宽度，值为数值，单位px|

##### ended函数参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|event|[EndedEvent](#endedevent参数说明)|-|结束回调信息|

###### EndedEvent参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|status|number|-|10-成功,20-失败|
|data|string|-|图层id，用于移除等操作|

### 示例


```javascript
var dataList = [{
    dateTime:'2016',
    data:[[120.66347653474037, 31.312768292973445, 10000],
    [120.55258328520648, 31.33799003928705, 11555],
    [120.55258328520648, 31.33799003928705, 121]]
}，{
    dateTime:'2017',
    data:[[120.66387653474037, 31.312668292973445, 10000],
    [120.58258328520648, 31.39799003928705, 11555],
    [120.25258328520648, 31.37799003928705, 121]]
}];
kmap.createHistoryHeatLayer({
    dataList:dataList
    timeAxis:{
        auto:true,
        conLen: 600,
        titLen: 40
    }
});
```


## removeHeatLayer

### 描述

删除热力图。

### 参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|opts|true|[RemoveHeatLayerOptions](#removeheatlayeroptions参数说明)|-|-|

#### RemoveHeatLayerOptions参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|layerId|true|string|-|热力图图层ID|

### 示例


```javascript
kmap.removeHeatLayer({
    layerId: 'heatmapId'
});
```


## updateRealtimeHeatLayer

### 描述

更新实时热力图数据。

### 参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|opts|true|[UpdateRealtimeHeatLayerOptions](#updaterealtimeheatlayeroptions参数说明)|-|-|

#### UpdateRealtimeHeatLayerOptions参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|layerId|true|string|-|热力图图层ID|
|data|true|Array&lt;[HeatDataItemType](#heatdataitemtype参数说明（类型）)&gt;|-|热力图数据|

##### HeatDataItemType参数说明（类型）

|参数名称|类型|说明|
|:--|:--:|:--|
|HeatDataItemType|[number, number, number]|热力图数据，包含的值依次为经度、纬度、热力值|

### 示例


```javascript
var data =  [
    [120.66347653474037, 31.312768292973445, 10000],
    [120.55258328520648, 31.33799003928705, 11555],
    [120.55258328520648, 31.33799003928705, 121]
];
kmap.updateRealtimeHeatLayer({
    layerId: 'heatmapId',
    data: data,
});
```


## addHeatMapLayer

### 描述

热力图图层，大数据量场景的热力图展示。

### 参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|opts|true|[HeatMapLayerOptions](#heatmaplayeroptions参数说明)|-|-|

#### HeatMapLayerOptions参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|serviceName|true|string|-|图层标识|
|isPublic|false|boolean|false|是否查询公有空间数据。默认查询私有|
|displayMode|false|number|1|热力图展现形式，1: 普通热力图，2: 网格热力图|
|adminCode|false|string|100000|热力图行政区划编码|
|filterTerms|false|Array&lt;[Term](#term参数说明)&gt;|-|查询过滤条件, 支持多条件搜索,详见下方term参数说明|
|heatField|false|string|'RKZS'|热力图权重字段，数据中应存在该属性，且改属性的值需为正整数，引擎将基于该值计算热力图权重|
|polygon|false|[PolygonGeometry](#polygongeometry参数说明)|-|热力图多边形区域|
|defaultStyle|false|number|0|默认样式，普通热力图可选值：0，1，2， 3， 网格热力图可选值：0， 1。普通热力图样式可参考实时热力图接口。网格热力图时，defaultStyle为0表示冰点图（蓝色为主基调），1表示热力图（红色为主基调）|
|opacity|false|number|1|热力图透明度|
|ended|false|[Function](#ended函数参数说明)|-|结束回调|
|onError|false|[Function](#onerror函数参数说明)|-|错误回调函数|

##### Term参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|column|true|string|-|过滤字段，对于人员账号，需要传 targetType 值为 5；对于重点人员，需要传 targetType 值为 27；其它情况默认无需填写|
|termType|true|string|-|过滤条件,例如eq,neq,like,nlike,gt,lt,gte,lte,in,nin,prefix,subfix,isnull,notnull,should。其中like、nlike、prefix、subfix只能用于过滤值为字符串类型。|
|value|true|string\|number\|Array&lt;number&gt;\|Array&lt;string&gt;|-|过滤值|
|type|false|string|'and'|term之间的过滤关系.可选"and"和"or",如果存在至少一个and,过滤所有and对应的并集,如果全部是or,返回所有数据， 如果要过滤某个条件可以匹配多个值中的任何一个， 可以使用termType="in".|
|filterType|false|number|0|公有属性及私有属性标记，0为私有属性，1为公有属性，在查询公有图层数据时，根据该字段区分公私有属性，不填默认为私有|
|analyzeEnum|false|string|'not_analyze'|userId、deptId、roleId必须设置成default_analyze,上传数据指定的拼音分词需要设置成pinyin_analyze,默认不分词|
|terms|false|Array&lt;[Term](#term参数说明)&gt;|-|即当前Term，支持循环使用|

##### PolygonGeometry参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|type|true|固定值(string)-Polygon|-|要素图形类型|
|coordinates|true|[PolygonCoordinates](#polygoncoordinates参数说明（类型）)|-|要素空间信息|

###### PolygonCoordinates参数说明（类型）

|参数名称|类型|说明|
|:--|:--:|:--|
|PolygonCoordinates|Array&lt;Array&lt;[LngLat](#lnglat参数说明（类型）)&gt;&gt;|面数据坐标类型|

##### ended函数参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|event|[EndedEvent](#endedevent参数说明)|-|结束回调信息|

###### EndedEvent参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|status|number|-|10-成功,20-失败|
|data|string|-|返回图层id|

##### onError函数参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|error|[IErrorCodeInfo](#ierrorcodeinfo参数说明)|-|错误信息|

###### IErrorCodeInfo参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|code|string|-|错误码编号|
|message|string|-|错误信息|

### 示例


```javascript
kmap.addHeatMapLayer({
   serviceName: 'xzqy',
   displayMode: 1,
   adminCode: '320000',
   polygon: {
     type:"Polygon",
     coordinates:[[[112.86974152919026,30.066699180062685],[112.86974152919026,34.4938968408364],[121.34983240890165,34.4938968408364],[121.34983240890165,30.066699180062685],[112.86974152919026,30.066699180062685]]]
   },
   filterTerms: [{
           "column": "XZJB",
           "value": "5",
           "termType": "eq"
       }
   ],
   heatField: 'RKZS',
   defaultStyle: 3,
   ended: function(res) {
       console.log(res);
   }
});
```


## createRTFlowHeatLayer

### 描述

添加实时人流密度热力图， 固定间隔时间更新热力图数据，展示人流密度的动态变化。【注：此接口是定制接口】

### 参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|opts|true|[CreateRTFlowHeatLayerOptions](#creatertflowheatlayeroptions参数说明)|-|-|

#### CreateRTFlowHeatLayerOptions参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|extent|false|[PolygonGeometry](#polygongeometry参数说明)|-|热力图范围|
|interval|false|string|18000000|热力图更新时间间隔，单位毫秒|
|ended|false|[Function](#ended函数参数说明)|-|结束回调|

##### PolygonGeometry参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|type|true|固定值(string)-Polygon|-|要素图形类型|
|coordinates|true|[PolygonCoordinates](#polygoncoordinates参数说明（类型）)|-|要素空间信息|

###### PolygonCoordinates参数说明（类型）

|参数名称|类型|说明|
|:--|:--:|:--|
|PolygonCoordinates|Array&lt;Array&lt;[LngLat](#lnglat参数说明（类型）)&gt;&gt;|面数据坐标类型|

##### ended函数参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|event|[EndedEvent](#endedevent参数说明)|-|结束回调信息|

###### EndedEvent参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|layerId|string|-|图层id，用于移除等操作|

### 返回值

|类型|说明|
|:--|:--:|
|any|-|

### 示例


```javascript
kmap.createRTFlowHeatLayer({
    ended: function(res){
        console.log(res); // 包含layerId， 可以通过removeHeatLayer删除
    }
});
```


## createHTFlowHeatLayer

### 描述

根据给定时间点，添加历史人流密度热力图。【注：此接口是定制接口】

### 参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|opts|true|[CreateHTFlowHeatLayerOptions](#createhtflowheatlayeroptions参数说明)|-|-|

#### CreateHTFlowHeatLayerOptions参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|type|true|string|-|查询类型： hour：按小时、day： 按天|
|timestamp|true|number|-|时间戳 ，精确到小时（天），例： 1589950800000|
|extent|false|[PolygonGeometry](#polygongeometry参数说明)|-|热力图范围|
|ended|false|[Function](#ended函数参数说明)|-|结束回调|

##### PolygonGeometry参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|type|true|固定值(string)-Polygon|-|要素图形类型|
|coordinates|true|[PolygonCoordinates](#polygoncoordinates参数说明（类型）)|-|要素空间信息|

###### PolygonCoordinates参数说明（类型）

|参数名称|类型|说明|
|:--|:--:|:--|
|PolygonCoordinates|Array&lt;Array&lt;[LngLat](#lnglat参数说明（类型）)&gt;&gt;|面数据坐标类型|

##### ended函数参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|event|[EndedEvent](#endedevent参数说明)|-|结束回调信息|

###### EndedEvent参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|layerId|string|-|图层id，用于移除等操作|

### 返回值

|类型|说明|
|:--|:--:|
|any|-|

### 示例


```javascript
kmap.createHTFlowHeatLayer({
    type: 'hour',
    timestamp: 1589950800000,
    ended: function(res){
        console.log(res);
    }
});
```


## updateHTFlowHeatLayer

### 描述

根据给定时间点，更新历史人流密度热力图。【注：此接口是定制化接口】

### 参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|opts|true|[UpdateHTFlowHeatLayerOptions](#updatehtflowheatlayeroptions参数说明)|-|-|

#### UpdateHTFlowHeatLayerOptions参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|layerId|true|string|-|历史人流密度图图层id|
|timestamp|true|number|-|时间戳 ，精确到小时（天），例： 1589950800000|
|extent|false|[PolygonGeometry](#polygongeometry参数说明)|-|热力图范围|

##### PolygonGeometry参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|type|true|固定值(string)-Polygon|-|要素图形类型|
|coordinates|true|[PolygonCoordinates](#polygoncoordinates参数说明（类型）)|-|要素空间信息|

###### PolygonCoordinates参数说明（类型）

|参数名称|类型|说明|
|:--|:--:|:--|
|PolygonCoordinates|Array&lt;Array&lt;[LngLat](#lnglat参数说明（类型）)&gt;&gt;|面数据坐标类型|

### 示例


```javascript
kmap.updateHTFlowHeatLayer({
    layerId: 'layerId_population_history',
    timestamp: 1589950800000,
});
```


## 关系图

## addRelationLayer

### 描述

添加关系图。

### 参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|opts|true|[AddRelationLayerOptions](#addrelationlayeroptions参数说明)|-|-|

#### AddRelationLayerOptions参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|layerId|false|string|'随机字符串'|关系图Id|
|data|true|Array&lt;[dataObject](#dataobject参数说明)&gt;|-|添加关系图数据|
|colors|false|Array&lt;string&gt;|-|线条颜色|
|lineType|false|[LineType](#linetype参数说明)|'solid'|线条类型|
|lineMode|false|[LineModeType](#linemodetype参数说明)|'bezier'|线条模式|
|lineWidth|false|number|1|线条宽度|
|markerType|false|number|1|起终点点位类型；1表示圆点，2表示扩散点|
|markerRings|false|number|3|起终点点位类型为2时，表示扩散的环数|
|markerRadius|false|number|3|marker点半径，起终点点位类型为2时表示最外层圆半径，且此时默认值是15|
|markerColor|false|string|'#FFF'|marker点颜色,为空或null则默认取线条颜色，支持 rgb,rgba,16 进制色值,颜色名称|
|markerDisplayRule|false|string|'first'|data数据中多个marker坐标相同时，marker的显示规则，first-仅显示第一个marker、last-仅显示最后一个marker、all-显示全部marker|
|moveRadius|false|number|2|移动点半径|
|fillColor|false|string|'#FFF'|移动点颜色，支持 rgb,rgba,16 进制色值,颜色名称|
|shadowColor|false|string|'#FFF'|移动点阴影颜色，支持 rgb,rgba,16 进制色值,颜色名称|
|shadowBlur|false|number|5|移动点阴影大小|
|animation|false|boolean|false|是否开启动画|
|ended|false|[Function](#ended函数参数说明)|-|回调函数, 回调参数包含图层id|

##### dataObject参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|from|true|[RelationPoint](#relationpoint参数说明)|-|关系图起点|
|to|true|[RelationPoint](#relationpoint参数说明)|-|关系图终点|
|radian|false|number|-0.2|路径相对弧度值，取值在-0.2至0.2之间，且不能等于0|
|properties|false|object|-|自定义属性值，事件的第二个参数可以获取到|

###### RelationPoint参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|name|true|string|-|名称；多个相同的坐标，名称仅显示半径最大的一个|
|point|true|[LngLat](#lnglat参数说明（类型）)|-|坐标|
|radius|false|number|-|圆半径，优先级比全局markerRadius高，单位px|
|color|false|string|-|圆颜色，优先级比全局markerColor高，支持rgb、rgba、16进制色值、颜色名称|

###### LngLat参数说明（类型）

|参数名称|类型|说明|
|:--|:--:|:--|
|LngLat|[number, number]|经纬度坐标|

##### LineType参数说明

|参数名称|描述|实际值|
|:--|:--|:--:|
|KMap.LINE_TYPE.SOLID|实线|solid|
|KMap.LINE_TYPE.DASHED|虚线|dashed|

##### LineModeType参数说明

|描述|实际值|
|:--|:--:|
|曲线|bezier|
|直线|direct|

##### ended函数参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|event|[EndedEvent](#endedevent参数说明)|-|结束回调信息|

###### EndedEvent参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|status|number|-|10-成功,20-失败|
|data|string|-|图层id，用于移除等操作|

### 示例


```javascript
kmap.addRelationLayer({
    data:[{
        from: {
            name: '姑苏区',
            point: [120.618, 31.336]
        },
        to: {
            name: '虎丘区',
            point: [120.474, 31.356]
        }
    }, {
        from: {
            name: '姑苏区',
            point: [120.618, 31.336]
        },
        to: {
            name: '吴中区',
            point: [120.632, 31.264]
        }
    }],
    //marker点半径
    markerRadius: 5,
    //marker点颜色,为空或null则默认取线条颜色
    markerColor: null,
    //线条类型 solid、dashed
    lineType: 'solid',
    //线条宽度
    lineWidth: 2,
    //线条颜色
    colors: ['#F9815C', '#F8AB60'],
    //移动点半径
    moveRadius: 2,
    //移动点颜色
    fillColor: '#fff',
    //移动点阴影颜色
    shadowColor: '#fff',
    //移动点阴影大小
    shadowBlur: 5,
    ended: function (res) {
        console.log(res);
    }
});
```


## showRelationLayer

### 描述

显示关系图。

### 参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|opts|true|[ShowRelationLayerOptions](#showrelationlayeroptions参数说明)|-|-|

#### ShowRelationLayerOptions参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|layerId|true|string|-|关系图Id|

### 示例


```javascript
kmap.showRelationLayer({
    layerId: 'relationLayerId'
});
```


## hideRelationLayer

### 描述

隐藏关系图。

### 参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|opts|true|[HideRelationLayerOptions](#hiderelationlayeroptions参数说明)|-|-|

#### HideRelationLayerOptions参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|layerId|true|string|-|关系图Id|

### 示例


```javascript
kmap.hideRelationLayer({
    layerId: 'relationLayerId'
});
```


## updateRelationLayer

### 描述

更新关系图。

### 参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|opts|true|[UpdateRelationLayerOptions](#updaterelationlayeroptions参数说明)|-|-|

#### UpdateRelationLayerOptions参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|layerId|true|string|-|关系图Id|
|data|true|Array&lt;[dataObject](#dataobject参数说明)&gt;|-|添加关系图数据|
|colors|false|Array&lt;string&gt;|-|线条颜色|
|lineType|false|[LineType](#linetype参数说明)|'solid'|线条类型|
|lineMode|false|[LineModeType](#linemodetype参数说明)|'bezier'|线条模式|
|lineWidth|false|number|1|线条宽度|
|markerType|false|number|1|起终点点位类型；1表示圆点，2表示扩散点|
|markerRings|false|number|3|起终点点位类型为2时，表示扩散的环数|
|markerRadius|false|number|3|marker点半径，起终点点位类型为2时表示最外层圆半径，且此时默认值是15|
|markerColor|false|string|'#FFF'|marker点颜色,为空或null则默认取线条颜色，支持 rgb,rgba,16 进制色值,颜色名称|
|markerDisplayRule|false|string|'first'|data数据中多个marker坐标相同时，marker的显示规则，first-仅显示第一个marker、last-仅显示最后一个marker、all-显示全部marker|
|moveRadius|false|number|2|移动点半径|
|fillColor|false|string|'#FFF'|移动点颜色，支持 rgb,rgba,16 进制色值,颜色名称|
|shadowColor|false|string|'#FFF'|移动点阴影颜色，支持 rgb,rgba,16 进制色值,颜色名称|
|shadowBlur|false|number|5|移动点阴影大小|

##### dataObject参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|from|true|[RelationPoint](#relationpoint参数说明)|-|关系图起点|
|to|true|[RelationPoint](#relationpoint参数说明)|-|关系图终点|
|radian|false|number|-0.2|路径相对弧度值，取值在-0.2至0.2之间，且不能等于0|
|properties|false|object|-|自定义属性值，事件的第二个参数可以获取到|

###### RelationPoint参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|name|true|string|-|名称；多个相同的坐标，名称仅显示半径最大的一个|
|point|true|[LngLat](#lnglat参数说明（类型）)|-|坐标|
|radius|false|number|-|圆半径，优先级比全局markerRadius高，单位px|
|color|false|string|-|圆颜色，优先级比全局markerColor高，支持rgb、rgba、16进制色值、颜色名称|

###### LngLat参数说明（类型）

|参数名称|类型|说明|
|:--|:--:|:--|
|LngLat|[number, number]|经纬度坐标|

##### LineType参数说明

|参数名称|描述|实际值|
|:--|:--|:--:|
|KMap.LINE_TYPE.SOLID|实线|solid|
|KMap.LINE_TYPE.DASHED|虚线|dashed|

##### LineModeType参数说明

|描述|实际值|
|:--|:--:|
|曲线|bezier|
|直线|direct|

### 示例


```javascript
kmap.updateRelationLayer({
    layerId: 'relationLayerId',
    data:[{
            from: {
                name: '虎丘区',
                point: [120.474, 31.356]
            },
            to: {
            name: '吴中区',
            point: [120.632, 31.264]
            }
        },{
            from: {
                name: '虎丘区',
                point: [120.474, 31.356]
            },
            to: {
                name: '姑苏区',
                point: [120.618, 31.336]
            }
        }],
    //marker点半径
    markerRadius: 5,
    //marker点颜色,为空或null则默认取线条颜色
    markerColor: null,
    //线条类型 solid、dashed
    lineType: 'solid',
    //线条宽度
    lineWidth: 2,
    //线条颜色
    colors: ['#F9815C', '#F8AB60'],
    //移动点半径
    moveRadius: 2,
    //移动点颜色
    fillColor: '#fff',
    //移动点阴影颜色
    shadowColor: '#fff',
    //移动点阴影大小
    shadowBlur: 5,
});
```


## removeRelationLayer

### 描述

删除关系图。

### 参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|opts|true|[RemoveRelationLayerOptions](#removerelationlayeroptions参数说明)|-|-|

#### RemoveRelationLayerOptions参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|layerId|true|string|-|关系图Id|

### 示例


```javascript
kmap.removeRelationLayer({
    layerId: 'relationLayerId'
});
```


## addRelationLayerEvent

### 描述

关系图添加事件。同一个事件类型只能绑定一个事件回调，不支持拖拽事件。

### 参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|opts|true|[AddRelationLayerEventOptions](#addrelationlayereventoptions参数说明)|-|-|

#### AddRelationLayerEventOptions参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|layerId|true|string|-|关系图Id|
|eventType|true|[LayerEventType](#layereventtype参数说明)|-|事件类型，不支持拖拽事件|
|handler|true|[Function](#handler函数参数说明)|-|事件回调函数，回调参数是事件相关信息|

##### LayerEventType参数说明

|描述|实际值|
|:--|:--:|
|鼠标按下|mousedown|
|鼠标弹起|mouseup|
|点击|click|
|双击|dblclick|
|右键|contextmenu|
|鼠标移动|mousemove|
|鼠标进入|mouseenter|
|鼠标离开|mouseleave|
|鼠标悬浮|mouseover|
|鼠标移出|mouseout|
|拖拽开始|dragstart|
|拖拽|dragging|
|拖拽结束|dragend|

##### handler函数参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|event|Object|-|事件对象|

### 示例


```javascript
kmap.addRelationLayerEvent({
    id: 'relationLayerId',
    eventType: 'click',
    handler: function (e, features) {
        console.log(features);
    }
})
```


## removeRelationLayerEvent

### 描述

关系图删除绑定事件。

### 参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|opts|true|[RemoveRelationLayerEventOptions](#removerelationlayereventoptions参数说明)|-|-|

#### RemoveRelationLayerEventOptions参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|layerId|true|string|-|关系图Id|
|eventType|true|[LayerEventType](#layereventtype参数说明)|-|事件类型，不支持拖拽事件|

##### LayerEventType参数说明

|描述|实际值|
|:--|:--:|
|鼠标按下|mousedown|
|鼠标弹起|mouseup|
|点击|click|
|双击|dblclick|
|右键|contextmenu|
|鼠标移动|mousemove|
|鼠标进入|mouseenter|
|鼠标离开|mouseleave|
|鼠标悬浮|mouseover|
|鼠标移出|mouseout|
|拖拽开始|dragstart|
|拖拽|dragging|
|拖拽结束|dragend|

### 示例


```javascript
kmap.removeRelationLayerEvent({
    id: 'relationLayerId',
    eventType: 'click',
});
```


## 台风轨迹图

## addTyphoonTrack

### 描述

添加台风轨迹。

### 参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|opts|true|[AddTyphoonTrackOptions](#addtyphoontrackoptions参数说明)|-|-|

#### AddTyphoonTrackOptions参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|data|true|[]|-|台风轨迹数据，该数据一般由特定机构生产|
|typhoonIcon|true|string|-|台风图标(雪碧图)|
|style|false|[styleObject](#styleobject参数说明)|-|台风轨迹样式|
|mouseEnterEvent|false|[Function](#mouseenterevent函数参数说明)|-|台风节点移入回调|
|mouseLeaveEvent|false|[Function](#mouseleaveevent函数参数说明)|-|台风节点移出回调|
|onStateChange|false|[Function](#onstatechange函数参数说明)|-|状态变化时的回调，会在每次状态切换时执行|

##### styleObject参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|TFCordonLineColor|false|string|'yellow'|24小时警戒线颜色，支持 rgb,rgba,16 进制色值,颜色名称|
|TFCordonLineWidth|false|number|2|24小时警戒线线宽|
|TFCordonTextColor|false|string|'yellow'|24小时警戒线文字颜色，支持 rgb,rgba,16 进制色值,颜色名称|
|TFCordonTextSize|false|number|12|24小时警戒线文字字号|
|FECordonLineColor|false|string|'blue'|48小时警戒线颜色，支持 rgb,rgba,16 进制色值,颜色名称|
|FECordonLineWidth|false|number|2|48小时警戒线线宽|
|FECordonTextColor|false|string|'blue'|48小时警戒线文字颜色，支持 rgb,rgba,16 进制色值,颜色名称|
|FECordonTextSize|false|number|12|48小时警戒线文字字号|
|FECordonLineDashArray|false|[number, number]|[2, 2]|48小时警戒线虚线格式|
|pointRadius|false|number|5|台风节点半径|
|pointColor|false|string|'red'|台风节点颜色，支持 rgb,rgba,16 进制色值,颜色名称|
|pointStrokeWidth|false|number|1|台风节点轮廓线宽|
|pointStrokeColor|false|string|'gray'|台风节点轮廓线颜色，支持 rgb,rgba,16 进制色值,颜色名称|
|lineWidth|false|固定值(number)-2|2|台风轨迹线宽|
|lineColor|false|string|'black'|台风轨迹线颜色，支持 rgb,rgba,16 进制色值,颜色名称|
|lineDasharray|false|[number, number]|[2, 2]|台风轨迹线虚线格式|
|scopeColor|false|string|'rgba(255,165,0,1)'|台风轨迹风圈颜色，支持 rgb,rgba,16 进制色值,颜色名称|
|scopeOpacity|false|number|0.2|台风轨迹风圈不透明度|
|scopeOutlineColor|false|string|'rgba(255,165,0,1)'|台风轨迹风圈轮廓线颜色，支持 rgb,rgba,16 进制色值,颜色名称|

##### mouseEnterEvent函数参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|event|object|-|-|

##### mouseLeaveEvent函数参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|event|object|-|-|

##### onStateChange函数参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|event|[OnStateChangeEvent](#onstatechangeevent参数说明)|-|事件对象|

###### OnStateChangeEvent参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|state|[TyphoonStateType](#typhoonstatetype参数说明)|-|台风轨迹状态|

###### TyphoonStateType参数说明

|参数名称|描述|实际值|
|:--|:--|:--:|
|KMap.TYPHOON_STATE.PLAYING|播放|playing|
|KMap.TYPHOON_STATE.PAUSE|暂停|pause|
|KMap.TYPHOON_STATE.FINISH|结束|finish|

#### AddTyphoonResult参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|layerId|true|string|-|台风轨迹id|
|show|true|[Function](#show函数参数说明)|-|台风轨迹展示|
|play|true|[Function](#play函数参数说明)|-|台风轨迹播放|
|pause|true|[Function](#pause函数参数说明)|-|台风轨迹暂停|
|continue|true|[Function](#continue函数参数说明)|-|台风轨迹继续播放|

### 示例


```javascript
const typhoonData = [
    {
      "ZXWD": 22.9,
      "SJLY": "中央气象台",
      "FQSJ": [
        { "DNBJ": 300, "XNBJ": 250, "DBBJ": 300, "XBBJ": 180, "FLDJ": "30KTS" },
        { "DNBJ": 100, "XNBJ": 70, "DBBJ": 100, "XBBJ": 70, "FLDJ": "50KTS" },
        { "DNBJ": 50, "XNBJ": 50, "DBBJ": 50, "XBBJ": 50, "FLDJ": "64KTS" }
      ],
      "GJBH": 2513629,
      "YBSJ": [
        {
          "ZXWD": 23.4,
          "ZXJD": 125.4333,
          "DDSJ": 6,
          "TFLX": { "ID": "STY", "VALUE": "强台风" },
          "ZXQY": 960,
          "ZDFS": 42,
          "POINT_COLOR": "rgba(255, 81, 9, 1)",
          "LINE_COLOR": "rgba(255, 81, 9, 1)"
        },
        {
          "ZXWD": 24,
          "ZXJD": 125.5,
          "DDSJ": 12,
          "TFLX": { "ID": "STY", "VALUE": "强台风" },
          "ZXQY": 950,
          "ZDFS": 48,
          "POINT_COLOR": "rgba(255, 81, 9, 1)",
          "LINE_COLOR": "rgba(255, 81, 9, 1)"
        },
        {
          "ZXWD": 24.6333,
          "ZXJD": 125.4667,
          "DDSJ": 18,
          "TFLX": { "ID": "STY", "VALUE": "强台风" },
          "ZXQY": 945,
          "ZDFS": 50,
          "POINT_COLOR": "rgba(255, 81, 9, 1)",
          "LINE_COLOR": "rgba(255, 81, 9, 1)"
        },
        {
          "ZXWD": 25.4167,
          "ZXJD": 125.35,
          "DDSJ": 24,
          "TFLX": { "ID": "STY", "VALUE": "强台风" },
          "ZXQY": 940,
          "ZDFS": 50,
          "POINT_COLOR": "rgba(255, 81, 9, 1)",
          "LINE_COLOR": "rgba(255, 81, 9, 1)"
        },
        {
          "ZXWD": 27.4,
          "ZXJD": 125.0833,
          "DDSJ": 36,
          "TFLX": { "ID": "STY", "VALUE": "强台风" },
          "ZXQY": 940,
          "ZDFS": 50,
          "POINT_COLOR": "rgba(255, 81, 9, 1)",
          "LINE_COLOR": "rgba(255, 81, 9, 1)"
        },
        {
          "ZXWD": 29.9167,
          "ZXJD": 124.95,
          "DDSJ": 48,
          "TFLX": { "ID": "STY", "VALUE": "强台风" },
          "ZXQY": 945,
          "ZDFS": 50,
          "POINT_COLOR": "rgba(255, 81, 9, 1)",
          "LINE_COLOR": "rgba(255, 81, 9, 1)"
        },
        {
          "ZXWD": 33,
          "ZXJD": 124.6833,
          "DDSJ": 60,
          "TFLX": { "ID": "TY", "VALUE": "台风" },
          "ZXQY": 965,
          "ZDFS": 40,
          "POINT_COLOR": "rgba(255, 112, 9, 1)",
          "LINE_COLOR": "rgba(255, 112, 9, 1)"
        },
        {
          "ZXWD": 36.0833,
          "ZXJD": 125.0083,
          "DDSJ": 72,
          "TFLX": { "ID": "STS", "VALUE": "强热带风暴" },
          "ZXQY": 980,
          "ZDFS": 30,
          "POINT_COLOR": "rgba(255, 153, 9, 1)",
          "LINE_COLOR": "rgba(255, 153, 9, 1)"
        },
        {
          "ZXWD": 42.9,
          "ZXJD": 130.0417,
          "DDSJ": 96,
          "TFLX": { "ID": "TD", "VALUE": "热带低压" },
          "ZXQY": 998,
          "ZDFS": 16,
          "POINT_COLOR": "rgba(255, 242, 9, 1)",
          "LINE_COLOR": "rgba(255, 242, 9, 1)"
        },
        {
          "ZXWD": 47.38,
          "ZXJD": 136.1083,
          "DDSJ": 120,
          "TFLX": { "ID": "TS", "VALUE": "热带风暴" },
          "ZXQY": 995,
          "ZDFS": 18,
          "POINT_COLOR": "rgba(255, 200, 9, 1)",
          "LINE_COLOR": "rgba(255, 200, 9, 1)"
        }
      ],
      "ZXQY": 970,
      "ZXJD": 125.4,
      "FBSJ": "2019-09-04 19:00:00",
      "YDFX": "NNE",
      "YDSD": 10,
      "TFLX": { "ID": "TY", "VALUE": "台风" },
      "ZDFS": 35,
      "TFBH": 2509073,
      "POINT_COLOR": "rgba(255, 112, 9, 1)",
      "LINE_COLOR": "rgba(255, 112, 9, 1)"
    },
    {
      "ZXWD": 22.3,
      "SJLY": "中央气象台",
      "FQSJ": [
        { "DNBJ": 300, "XNBJ": 250, "DBBJ": 300, "XBBJ": 180, "FLDJ": "30KTS" },
        { "DNBJ": 100, "XNBJ": 70, "DBBJ": 100, "XBBJ": 70, "FLDJ": "50KTS" },
        { "DNBJ": 50, "XNBJ": 50, "DBBJ": 50, "XBBJ": 50, "FLDJ": "64KTS" }
      ],
      "GJBH": 2513197,
      "YBSJ": [
        {
          "ZXWD": 22.8,
          "ZXJD": 125,
          "DDSJ": 6,
          "TFLX": { "ID": "TY", "VALUE": "台风" },
          "ZXQY": 960,
          "ZDFS": 40,
          "POINT_COLOR": "rgba(255, 112, 9, 1)",
          "LINE_COLOR": "rgba(255, 112, 9, 1)"
        },
        {
          "ZXWD": 23.2,
          "ZXJD": 125.2333,
          "DDSJ": 12,
          "TFLX": { "ID": "STY", "VALUE": "强台风" },
          "ZXQY": 945,
          "ZDFS": 48,
          "POINT_COLOR": "rgba(255, 81, 9, 1)",
          "LINE_COLOR": "rgba(255, 81, 9, 1)"
        },
        {
          "ZXWD": 23.8,
          "ZXJD": 125.3333,
          "DDSJ": 18,
          "TFLX": { "ID": "STY", "VALUE": "强台风" },
          "ZXQY": 940,
          "ZDFS": 50,
          "POINT_COLOR": "rgba(255, 81, 9, 1)",
          "LINE_COLOR": "rgba(255, 81, 9, 1)"
        },
        {
          "ZXWD": 24.4667,
          "ZXJD": 125.3833,
          "DDSJ": 24,
          "TFLX": { "ID": "STY", "VALUE": "强台风" },
          "ZXQY": 945,
          "ZDFS": 50,
          "POINT_COLOR": "rgba(255, 81, 9, 1)",
          "LINE_COLOR": "rgba(255, 81, 9, 1)"
        },
        {
          "ZXWD": 26.1833,
          "ZXJD": 125.2333,
          "DDSJ": 36,
          "TFLX": { "ID": "STY", "VALUE": "强台风" },
          "ZXQY": 945,
          "ZDFS": 48,
          "POINT_COLOR": "rgba(255, 81, 9, 1)",
          "LINE_COLOR": "rgba(255, 81, 9, 1)"
        },
        {
          "ZXWD": 28.6,
          "ZXJD": 124.8333,
          "DDSJ": 48,
          "TFLX": { "ID": "STY", "VALUE": "强台风" },
          "ZXQY": 945,
          "ZDFS": 48,
          "POINT_COLOR": "rgba(255, 81, 9, 1)",
          "LINE_COLOR": "rgba(255, 81, 9, 1)"
        },
        {
          "ZXWD": 31.5667,
          "ZXJD": 124.4833,
          "DDSJ": 60,
          "TFLX": { "ID": "STY", "VALUE": "强台风" },
          "ZXQY": 950,
          "ZDFS": 48,
          "POINT_COLOR": "rgba(255, 81, 9, 1)",
          "LINE_COLOR": "rgba(255, 81, 9, 1)"
        },
        {
          "ZXWD": 34.4167,
          "ZXJD": 124.5917,
          "DDSJ": 72,
          "TFLX": { "ID": "TY", "VALUE": "台风" },
          "ZXQY": 970,
          "ZDFS": 38,
          "POINT_COLOR": "rgba(255, 112, 9, 1)",
          "LINE_COLOR": "rgba(255, 112, 9, 1)"
        },
        {
          "ZXWD": 40.375,
          "ZXJD": 127.1917,
          "DDSJ": 96,
          "TFLX": { "ID": "TS", "VALUE": "热带风暴" },
          "ZXQY": 998,
          "ZDFS": 18,
          "POINT_COLOR": "rgba(255, 200, 9, 1)",
          "LINE_COLOR": "rgba(255, 200, 9, 1)"
        },
        {
          "ZXWD": 43.455,
          "ZXJD": 132.6983,
          "DDSJ": 120,
          "TFLX": { "ID": "TS", "VALUE": "热带风暴" },
          "ZXQY": 995,
          "ZDFS": 20,
          "POINT_COLOR": "rgba(255, 200, 9, 1)",
          "LINE_COLOR": "rgba(255, 200, 9, 1)"
        }
      ],
      "ZXQY": 970,
      "ZXJD": 124.6,
      "FBSJ": "2019-09-04 13:00:00",
      "YDFX": "NE",
      "YDSD": 10,
      "TFLX": { "ID": "TY", "VALUE": "台风" },
      "ZDFS": 35,
      "TFBH": 2509073,
      "POINT_COLOR": "rgba(255, 112, 9, 1)",
      "LINE_COLOR": "rgba(255, 112, 9, 1)"
    },
  ];
  const track = kmap.addTyphoonTrack({
    data: typhoonData,
    style: {
      lineColor: 'green',
      pointRadius: 5,
      pointColor: 'pink'
    },
    typhoonIcon: 'wind',
    currentDate: '2019-09-07 10:00:00',
    mouseEnterEvent: (e)=>{
      console.log(e);
    },
    mouseLeaveEvent: (e)=>{
      console.log(e);
    },
    onStateChange: (res) => {
      // res : { state : 'playing' }
    }
  });
  track.show({
    animation: true
  });
```


## removeTyphoonTrack

### 描述

删除台风轨迹图。

### 参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|opts|true|[RemoveTyphoonTrackOptions](#removetyphoontrackoptions参数说明)|-|-|

#### RemoveTyphoonTrackOptions参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|id|true|string|-|台风轨迹id|

### 示例


```javascript
kmap.removeTyphoonTrack({
    id: track.layerId
});
```


## 等高线

## addIsoline

### 描述

添加等高线。

### 参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|opts|true|[AddIsolineOptions](#addisolineoptions参数说明)|-|-|

#### AddIsolineOptions参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|data|true|[LineFeatureCollectionType](#linefeaturecollectiontype参数说明)|-|等高线数据|
|ended|false|[Function](#ended函数参数说明)|-|结束回调|

##### LineFeatureCollectionType参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|type|true|固定值(string)-FeatureCollection|-|要素类型|
|features|true|Array&lt;[LineFeatureType](#linefeaturetype参数说明)&gt;|-|线要素集合|

###### LineFeatureType参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|type|true|固定值(string)-Feature|-|要素类型|
|properties|true|Object|-|要素自定义属性|
|geometry|true|[LineStringGeometry](#linestringgeometry参数说明)|-|要素空间信息|

###### LineStringGeometry参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|type|true|固定值(string)-LineString|-|要素图形类型|
|coordinates|true|Array&lt;[LngLat](#lnglat参数说明（类型）)&gt;|-|要素空间信息|

###### LngLat参数说明（类型）

|参数名称|类型|说明|
|:--|:--:|:--|
|LngLat|[number, number]|经纬度坐标|

##### ended函数参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|event|[EndedEvent](#endedevent参数说明)|-|结束回调信息|

###### EndedEvent参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|status|number|-|10-成功,20-失败|
|data|string|-|图层id，用于移除等操作|

### 示例


```javascript
let isoData = {
    "type": "FeatureCollection",
    "features": [{
        "type": "Feature",
        "properties": {
            "ID": 0,
            "ELEV": 1370.0
        },
        "geometry": {
            "type": "LineString",
            "coordinates": [
                [102.582035891687823, 23.123174402406956],
                [102.582035891687823,
                    23.12303965511434
                ],
                [102.582170638980443, 23.122981906274646],
                [102.582440133565669,
                    23.12290490782172
                ],
                [102.582709628150909, 23.122912066936163],
                [102.582979122736148, 23.122962711621053],
                [102.583247945265057, 23.12303965511434],
                [102.583247945265057, 23.123174402406956]
            ]
        }
    }, ]
}
kmap.addIsoline({
    data: isoData,
    ended: function (res) {
        console.log(res);
    }
});
```


## removeIsoline

### 描述

删除等高线。

### 参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|opts|true|[RemoveIsolineOptions](#removeisolineoptions参数说明)|-|-|

#### RemoveIsolineOptions参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|id|true|string|-|等高线id|

### 示例


```javascript
kmap.removeIsoline({
    id: "isoLineID"
});
```


## 堵控圈

## addPluggingCircle

### 描述

添加堵控圈。

### 参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|opts|true|[AddPluggingCircleOptions](#addpluggingcircleoptions参数说明)|-|-|

#### AddPluggingCircleOptions参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|points|false|Array&lt;[LngLat](#lnglat参数说明（类型）)&gt;|-|原始点数据，points与scope必须填写一个，此参数优先级高于scope|
|pointStyle|false|[IPointStyleType](#ipointstyletype参数说明)|-|点样式|
|lineStyle|false|[DefaultLineStyleType](#defaultlinestyletype参数说明)|-|连接线样式|
|polygonStyle|false|[PolygonStyleType](#polygonstyletype参数说明)|-|面样式|
|scope|false|[scopeObject](#scopeobject参数说明)|-|等时圈配置，points与scope必须填写一个，此参数优先级低于points|
|ended|false|[Function](#ended函数参数说明)|-|结束回调|
|onError|false|[Function](#onerror函数参数说明)|-|错误回调函数|

##### LngLat参数说明（类型）

|参数名称|类型|说明|
|:--|:--:|:--|
|LngLat|[number, number]|经纬度坐标|

##### IPointStyleType参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|circle-color|false|string|-|颜色，支持 rgb,rgba,16 进制色值,颜色名称|
|circle-blur|false|number|-|模糊度|
|circle-opacity|false|string|-|不透明度，取值范围[0-1]|
|circle-stroke-width|false|number|-|边框宽度，单位px|
|circle-stroke-color|false|string|-|边框颜色，支持 rgb,rgba,16 进制色值,颜色名称|
|circle-stroke-opacity|false|number|-|边框不透明度，取值范围[0-1]|
|circle-radius|false|number|-|半径，单位px|

##### DefaultLineStyleType参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|line-color|false|string|-|填充颜色，支持 rgb,rgba,16 进制色值,颜色名称|
|line-opacity|false|number|-|不透明度，取值范围[0-1]|
|line-pattern|false|string|-|填充纹理, 需指定雪碧图名称，指定填充纹理会导致填充颜色失效|
|line-width|false|number|-|宽度，单位px|
|line-gap-width|false|number|-|内部间隙宽度，单位px|
|line-offset|false|number|-|相对于线方向偏移|
|line-blur|false|number|-|模糊度|
|line-dasharray|false|[number, number]|-|虚线线段的长度及间距|

##### PolygonStyleType参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|fill-color|false|string|-|填充颜色，支持 rgb,rgba,16 进制色值,颜色名称|
|fill-outline-color|false|number|-|边框颜色，支持 rgb,rgba,16 进制色值,颜色名称|
|fill-opacity|false|number|-|不透明度，取值范围[0-1]|
|fill-pattern|false|string|-|填充纹理, 需指定雪碧图名称，指定填充纹理会导致填充颜色失效|

##### scopeObject参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|center|true|[LngLat](#lnglat参数说明（类型）)|-|中心点坐标|
|time|true|number|-|与中心点的时间距离，单位为秒，最大值不可超过600|

##### ended函数参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|event|[EndedEvent](#endedevent参数说明)|-|-|

###### EndedEvent参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|status|number|-|10-成功,20-失败|
|data|string|-|返回图层id|

##### onError函数参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|error|[IErrorCodeInfo](#ierrorcodeinfo参数说明)|-|错误信息|

###### IErrorCodeInfo参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|code|string|-|错误码编号|
|message|string|-|错误信息|

### 返回值

|类型|说明|
|:--|:--:|
|string|layerId 堵控圈id|

### 示例


```javascript
var layerId = kmap.addPluggingCircle({
    points: [
        [120.69678, 31.22286],
        [120.68663, 31.26994],
        [120.57177, 31.16156],
        [120.56117, 31.25401],
        [120.58688, 31.30498],
        [120.65053, 31.1746],
        [120.65461, 31.28674],
        [120.56378, 31.2781],
        [120.64802, 31.14]
    ],
    pointStyle: {
        "circle-color": "green",
        "circle-radius":  10
    },
    lineStyle: {
        "line-color": "green",
        "line-width": 4
   }
});
```


## removePluggingCircle

### 描述

删除堵控圈。

### 参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|opts|true|[RemovePluggingCircleOptions](#removepluggingcircleoptions参数说明)|-|-|

#### RemovePluggingCircleOptions参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|layerId|true|string|-|堵控圈id|

### 示例


```javascript
kmap.removePluggingCircle({
    layerId: 'layerId'
});
```


## 等值线

## drawIsogram

### 描述

绘制等值线图层

### 参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|opts|true|[DrawIsogramOptions](#drawisogramoptions参数说明)|-|-|

#### DrawIsogramOptions参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|color|false|string|'#FF0000'|等值线图层填充色，请使用HEX值|
|coordinates|true|Array&lt;Array&lt;Array&lt;[LngLat](#lnglat参数说明（类型）)&gt;&gt;&gt;|-|添加的等值线坐标集合|

##### LngLat参数说明（类型）

|参数名称|类型|说明|
|:--|:--:|:--|
|LngLat|[number, number]|经纬度坐标|

### 返回值

|类型|说明|
|:--|:--:|
|string|同步返回图层id|

### 示例


```javascript
let layerId = kmap.drawIsogram({
   color: '#FF0000',
   coordinates: [
       [
           [
               [120.54679870605466, 31.262704744996242],
               [120.70129394531249, 31.262704744996242],
               [120.70129394531249, 31.322260587551767],
               [120.54679870605466, 31.322260587551767],
               [120.54679870605466, 31.262704744996242]
           ]
       ],
       [
           [
               [120.55469512939452, 31.270041239726922],
               [120.69168090820312, 31.270041239726922],
               [120.69168090820312, 31.316687991715057],
               [120.55469512939452, 31.316687991715057],
               [120.55469512939452, 31.270041239726922]
           ]
       ],
       [
           [
               [120.56774139404298, 31.278844280399724],
               [120.67588806152347, 31.278844280399724],
               [120.67588806152347, 31.308181814919706],
               [120.56774139404298, 31.308181814919706],
               [120.56774139404298, 31.278844280399724]
           ]
       ],
       [
           [
               [120.58490753173831, 31.28676631455572],
               [120.65803527832031, 31.28676631455572],
               [120.65803527832031, 31.30026158050819],
               [120.58490753173831, 31.30026158050819],
               [120.58490753173831, 31.28676631455572]
           ]
       ]
   ]
});
```


## 行政区划

## highlightPolygon

### 描述

高亮显示多边形区域

### 参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|opts|true|[HighlightPolygonOptions](#highlightpolygonoptions参数说明)|-|-|

#### HighlightPolygonOptions参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|area|true|[PolygonFeatureType](#polygonfeaturetype参数说明)|-|添加的高亮显示多边形坐标集合|
|color|true|string|'rgba(0, 0, 0, 0.5)'|阴影蒙层颜色，请使用 rgba 格式设置|

##### PolygonFeatureType参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|type|true|固定值(string)-Feature|-|要素类型|
|properties|true|Object|-|要素自定义属性|
|geometry|true|[PolygonGeometry](#polygongeometry参数说明)|-|要素空间信息|

###### PolygonGeometry参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|type|true|固定值(string)-Polygon|-|要素图形类型|
|coordinates|true|[PolygonCoordinates](#polygoncoordinates参数说明（类型）)|-|要素空间信息|

###### PolygonCoordinates参数说明（类型）

|参数名称|类型|说明|
|:--|:--:|:--|
|PolygonCoordinates|Array&lt;Array&lt;[LngLat](#lnglat参数说明（类型）)&gt;&gt;|面数据坐标类型|

### 返回值

|类型|说明|
|:--|:--:|
|any|-|

### 示例


```javascript
kmap.getGeometryByAdminCode({
   code: '320500',
   callback: function (res) {
       console.log(res);
       let layerId = kmap.highlightPolygon({
             color: 'rgba(255,0,0,0.5)',
           area:res.data
       });
   }
});
```


## addExtrusion

### 描述

绘制3D区域。

### 参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|opts|true|[AddExtrusionOptions](#addextrusionoptions参数说明)|-|-|

#### AddExtrusionOptions参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|data|true|[PolygonFeatureType](#polygonfeaturetype参数说明)|-|多边形点位数据,不支持MultiPolygon|
|color|false|string|'rgb(51, 135, 219)'|边线颜色,只支持rgb|
|height|false|object|1200|高度|
|textureImage|false|string|-|纹理图片url|

##### PolygonFeatureType参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|type|true|固定值(string)-Feature|-|要素类型|
|properties|true|Object|-|要素自定义属性|
|geometry|true|[PolygonGeometry](#polygongeometry参数说明)|-|要素空间信息|

###### PolygonGeometry参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|type|true|固定值(string)-Polygon|-|要素图形类型|
|coordinates|true|[PolygonCoordinates](#polygoncoordinates参数说明（类型）)|-|要素空间信息|

###### PolygonCoordinates参数说明（类型）

|参数名称|类型|说明|
|:--|:--:|:--|
|PolygonCoordinates|Array&lt;Array&lt;[LngLat](#lnglat参数说明（类型）)&gt;&gt;|面数据坐标类型|

### 返回值

|类型|说明|
|:--|:--:|
|string|layerId 3D区域id|

### 示例


```javascript
var data = kmap.addExtrusion({
    data: {
      type: 'Feature',
      geometry: {
        type: 'Polygon',
        coordinates: [
          [
            [120.68779209545909, 31.330804762418197],
            [120.61809757641635, 31.331977791990198],
            [120.64625004223547, 31.292086586765365],
            [120.743067058838, 31.318780366443818],
            [120.73963383129876, 31.344440328236843],
            [120.68779209545909, 31.330804762418197],
          ],
        ],
      },
      properties: {},
    },
  });
```

## createFence

### 描述

绘制3D边界效果。

### 参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|opts|true|[CreateFenceOptions](#createfenceoptions参数说明)|-|-|

#### CreateFenceOptions参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|data|true|[PolygonFeatureType](#polygonfeaturetype参数说明)|-|多边形点位数据|
|color|false|string|'rgb(51, 135, 219)'|边线颜色,只支持rgb|
|height|false|object|1200|高度|

##### PolygonFeatureType参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|type|true|固定值(string)-Feature|-|要素类型|
|properties|true|Object|-|要素自定义属性|
|geometry|true|[PolygonGeometry](#polygongeometry参数说明)|-|要素空间信息|

###### PolygonGeometry参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|type|true|固定值(string)-Polygon|-|要素图形类型|
|coordinates|true|[PolygonCoordinates](#polygoncoordinates参数说明（类型）)|-|要素空间信息|

###### PolygonCoordinates参数说明（类型）

|参数名称|类型|说明|
|:--|:--:|:--|
|PolygonCoordinates|Array&lt;Array&lt;[LngLat](#lnglat参数说明（类型）)&gt;&gt;|面数据坐标类型|

### 返回值

|类型|说明|
|:--|:--:|
|string|layerId 3D边界id|

### 示例


```javascript
kmap.createFence({
    data: {
        type: 'Feature',
        geometry: {
            type: 'Polygon',
            coordinates: [
                [
                    [120.68779209545909, 31.330804762418197],
                    [120.61809757641635, 31.331977791990198],
                    [120.64625004223547, 31.292086586765365],
                    [120.743067058838, 31.318780366443818],
                    [120.73963383129876, 31.344440328236843],
                    [120.68779209545909, 31.330804762418197],
                ],
            ],
        },
        properties: {},
    },
    height: 1200,
});
```

## addMultiColorMap

### 描述

绘制四色地图,需要图层等级小于等于11。

### 参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|opts|true|[AddMultiColorMapOptions](#addmulticolormapoptions参数说明)|-|-|

#### AddMultiColorMapOptions参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|style|false|[styleObject](#styleobject参数说明)|-|自定义样式|

##### styleObject参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|fill|false|Array&lt;string&gt;|-|填充颜色|
|line|false|Array&lt;string&gt;|-|描边颜色|

### 返回值

|类型|说明|
|:--|:--:|
|any|-|

### 示例


```javascript
kmap.addMultiColorMap(
    {
         style: {
             fill: {
                color: ['red','orange','blue','gray']
             },
         }
    }
);
```


## 线状要素高亮

## highlightLineFeature

### 描述

突出显示线状要素。

### 参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|opts|true|[HighlightLineFeatureOptions](#highlightlinefeatureoptions参数说明)|-|-|

#### HighlightLineFeatureOptions参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|lines|true|Array&lt;[LineFeatureType](#linefeaturetype参数说明)&gt;|-|添加的线坐标集合 ，支持1万个坐标点|
|fence|true|Array&lt;[PolygonFeatureType](#polygonfeaturetype参数说明)&gt;|-|添加的多边形外边界坐标|
|bgFillColor|false|string|'rgba(22, 126, 251, 1)'|背景填充色，支持 rgb,rgba,16 进制色值,颜色名称|
|fillColor|false|string|'rgba(21, 32, 49, 1)'|区域面填充色，支持 rgb,rgba,16 进制色值,颜色名称|
|lineColor|false|string|'rgba(21, 89, 172, 1)'|线段颜色，支持 rgb,rgba,16 进制色值,颜色名称|
|shadowBlur|false|number|1500|背景模糊半径|

##### LineFeatureType参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|type|true|固定值(string)-Feature|-|要素类型|
|properties|true|Object|-|要素自定义属性|
|geometry|true|[LineStringGeometry](#linestringgeometry参数说明)|-|要素空间信息|

###### LineStringGeometry参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|type|true|固定值(string)-LineString|-|要素图形类型|
|coordinates|true|Array&lt;[LngLat](#lnglat参数说明（类型）)&gt;|-|要素空间信息|

###### LngLat参数说明（类型）

|参数名称|类型|说明|
|:--|:--:|:--|
|LngLat|[number, number]|经纬度坐标|

##### PolygonFeatureType参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|type|true|固定值(string)-Feature|-|要素类型|
|properties|true|Object|-|要素自定义属性|
|geometry|true|[PolygonGeometry](#polygongeometry参数说明)|-|要素空间信息|

###### PolygonGeometry参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|type|true|固定值(string)-Polygon|-|要素图形类型|
|coordinates|true|[PolygonCoordinates](#polygoncoordinates参数说明（类型）)|-|要素空间信息|

###### PolygonCoordinates参数说明（类型）

|参数名称|类型|说明|
|:--|:--:|:--|
|PolygonCoordinates|Array&lt;Array&lt;[LngLat](#lnglat参数说明（类型）)&gt;&gt;|面数据坐标类型|

### 返回值

|类型|说明|
|:--|:--:|
|string|layerId 线状要素id|

### 示例


```javascript
let layerId = kmap.highlightLineFeature({
    lines: {
        type: 'FeatureCollection',
        features: [{
            type: 'Feature',
            properties: {},
            geometry: {
                type: 'LineString',
                coordinates: [
                    [120.45959472656249, 31.30744848785164],
                    [120.44792175292969, 31.26769362347472],
                    [120.49993515014648, 31.284565816271495],
                    [120.47332763671874, 31.305835148208434],
                    [120.47109603881836, 31.313168287590177],
                ],
            },
        }, ],
    },
    fence: {
        type: 'FeatureCollection',
        features: [{
            type: 'Feature',
            properties: {},
            geometry: {
                type: 'Polygon',
                coordinates: [
                    [
                        [120.45787811279297, 31.322407230357054],
                        [120.41410446166991, 31.29058038992317],
                        [120.42200088500975, 31.262264537173685],
                        [120.46731948852539, 31.23599508802514],
                        [120.5232810974121, 31.25742211560861],
                        [120.53237915039062, 31.300408257566225],
                        [120.52276611328124, 31.332378405263402],
                        [120.49015045166016, 31.340002708650196],
                        [120.45787811279297, 31.322407230357054],
                    ],
                ],
            },
        }, ],
    },
    bgFillColor: '#f00',
    // fillColor: "#f00",
    lineColor: '#00f',
    shadowBlur: 1000,
});
```

## removeHighlightLineFeature

### 描述

删除线状要素高亮。

### 参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|opts|true|[RemoveHighlightLineFeatureOptions](#removehighlightlinefeatureoptions参数说明)|-|-|

#### RemoveHighlightLineFeatureOptions参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|layerId|true|string|-|线状要素高亮id|

### 示例


```javascript
kmap.removeHighlightLineFeature({
    layerId: '线状要素layerId'
});
```


## hideHighlightLineFeature

### 描述

隐藏线状要素高亮。

### 参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|opts|true|[HideHighlightLineFeatureOptions](#hidehighlightlinefeatureoptions参数说明)|-|-|

#### HideHighlightLineFeatureOptions参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|layerId|true|string|-|线状要素高亮id|

### 示例


```javascript
kmap.hideHighlightLineFeature({
    layerId: '线状要素layerId'
});
```


## showHighlightLineFeature

### 描述

显示线状要素高亮。

### 参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|opts|true|[ShowHighlightLineFeatureOptions](#showhighlightlinefeatureoptions参数说明)|-|-|

#### ShowHighlightLineFeatureOptions参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|layerId|true|string|-|线状要素高亮id|

### 示例


```javascript
kmap.showHighlightLineFeature({
    layerId: '线状要素layerId'
});
```


## 雷达扫描

## addRadarScan

### 描述

添加雷达扫描效果。

### 参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|opts|true|[AddRadarScanOptions](#addradarscanoptions参数说明)|-|-|

#### AddRadarScanOptions参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|point|true|[LngLat](#lnglat参数说明（类型）)|-|显示雷达扫描的经纬度坐标|
|radius|false|number|1|雷达扫描半径，单位km，超过10000的部分不生效|
|color|false|string|'red'|雷达扫描圈颜色，支持rgb、rgba、16进制色值、颜色名称|
|opacity|false|number|0.2|雷达扫描圈不透明度，范围0-1,0表示隐藏扫描圈，建议设置0至0.5|
|speed|false|string|1|扫描速度，需要大于0|
|ended|false|[Function](#ended函数参数说明)|-|回调函数, 回调参数包含雷达扫描id|

##### LngLat参数说明（类型）

|参数名称|类型|说明|
|:--|:--:|:--|
|LngLat|[number, number]|经纬度坐标|

##### ended函数参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|event|[EndedEvent](#endedevent参数说明)|-|结束回调信息|

###### EndedEvent参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|status|number|-|10-成功,20-失败|
|data|string|-|雷达扫描id，用于移除等操作|

### 示例


```javascript
kmap.addRadarScan({
    point: [120.54060780469786, 31.29280493842346],
    ended(res) {
        radarId = res.data;
    },
});
```


## hideRadarScan

### 描述

隐藏雷达扫描效果。

### 参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|opts|true|[RadarScanOperationOptions](#radarscanoperationoptions参数说明)|-|-|

#### RadarScanOperationOptions参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|id|true|string|-|需要操作的雷达扫描id|

### 示例


```javascript
kmap.hideRadarScan({
    id: 'radarId' // 创建时返回的唯一id
});
```


## showRadarScan

### 描述

显示雷达扫描效果。

### 参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|opts|true|[RadarScanOperationOptions](#radarscanoperationoptions参数说明)|-|-|

#### RadarScanOperationOptions参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|id|true|string|-|需要操作的雷达扫描id|

### 示例


```javascript
kmap.showRadarScan({
    id: 'radarId' // 创建时返回的唯一id
});
```


## removeRadarScan

### 描述

移除雷达扫描效果。

### 参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|opts|true|[RadarScanOperationOptions](#radarscanoperationoptions参数说明)|-|-|

#### RadarScanOperationOptions参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|id|true|string|-|需要操作的雷达扫描id|

### 示例


```javascript
kmap.removeRadarScan({
    id: 'radarId' // 创建时返回的唯一id
});
```


## 动态线

## addDynamicLine

### 描述

添加动态线效果；出于性能考虑，操作地图后，将会重置部分动画效果。

### 参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|opts|true|[AddDynamicLineOptions](#adddynamiclineoptions参数说明)|-|-|

#### AddDynamicLineOptions参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|line|true|[LineStringGeometry](#linestringgeometry参数说明)|-|线坐标信息|
|lineStyle|false|[lineStyleObject](#linestyleobject参数说明)|-|线条样式|
|focusStyle|false|[focusStyleObject](#focusstyleobject参数说明)|-|-|
|speed|false|number|1|动画速度|
|ended|false|[Function](#ended函数参数说明)|-|回调函数, 回调参数包含动态线id|

##### LineStringGeometry参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|type|true|固定值(string)-LineString|-|要素图形类型|
|coordinates|true|Array&lt;[LngLat](#lnglat参数说明（类型）)&gt;|-|要素空间信息|

###### LngLat参数说明（类型）

|参数名称|类型|说明|
|:--|:--:|:--|
|LngLat|[number, number]|经纬度坐标|

##### lineStyleObject参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|lineColor|false|string|'red'|线条颜色|
|linePattern|false|string|-|线条纹理，需要传入雪碧图名称，传入后lineColor属性将失效，若雪碧图不存在将导致线条无法显示|
|lineWidth|false|number|2|线条宽度|

##### focusStyleObject参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|radius|false|string|5|移动点半径，必须大于1|
|color|false|string|'red'|移动点颜色，支持 rgb,rgba,16 进制色值,颜色名称|
|blurWidth|false|number|3|虚化宽度|

##### ended函数参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|event|[EndedEvent](#endedevent参数说明)|-|结束回调信息|

###### EndedEvent参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|status|number|-|10-成功,20-失败|
|data|string|-|动态线id，用于移除操作|

### 示例


```javascript
kmap.addDynamicLine({
    line: {
        type: 'LineString',
        coordinates: [
           [120.63406331475716, 31.37015846749444],
           [120.68670276892914, 31.349419624978346],
           [120.65247826596539, 31.31542931693572],
           [120.72653630070613, 31.314113745241308],
        ],
    },
    lineStyle: {
        lineColor: 'green',
        lineWidth: 6,
        // linePattern: 'road-tap-100',
    },
    focusStyle: {
        color: 'black',
        radius: 4,
        blurWidth: 2,
    },
    speed: 1,
    ended(res) {
        console.log('res', res);
    }
});
```


## removeDynamicLine

### 描述

移除动态线。

### 参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|opts|true|[DynamicLineOperationOptions](#dynamiclineoperationoptions参数说明)|-|-|

#### DynamicLineOperationOptions参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|id|true|string|-|需要操作的动态线id|

### 示例


```javascript
kmap.removeDynamicLine({ id: 'dynamic-line-id' });
```


## showDynamicLine

### 描述

显示动态线。

### 参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|opts|true|[DynamicLineOperationOptions](#dynamiclineoperationoptions参数说明)|-|-|

#### DynamicLineOperationOptions参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|id|true|string|-|需要操作的动态线id|

### 示例


```javascript
kmap.showDynamicLine({ id: 'dynamic-line-id' });
```


## hideDynamicLine

### 描述

隐藏动态线。

### 参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|opts|true|[DynamicLineOperationOptions](#dynamiclineoperationoptions参数说明)|-|-|

#### DynamicLineOperationOptions参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|id|true|string|-|需要操作的动态线id|

### 示例


```javascript
kmap.hideDynamicLine({ id: 'dynamic-line-id' });
```


## 内发光面

## addInnerGlowPolygon

### 描述

添加内发光面效果；

### 参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|opts|true|[AddInnerGlowPolygonOptions](#addinnerglowpolygonoptions参数说明)|-|-|

#### AddInnerGlowPolygonOptions参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|polygon|true|[PolygonFeatureType](#polygonfeaturetype参数说明)|-|面坐标信息|
|before|false|string|-|图层ID。将当前图层插入在before对应图层的下方,如果不指定,将图层添加到最上层|
|color|false|[number, number, number]|[255, 0, 0]|颜色数组|
|isDynamic|false|boolean|false|是否启用呼吸渐变动态效果|
|speed|false|number|1|动画速度。区间为(0,10]|

##### PolygonFeatureType参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|type|true|固定值(string)-Feature|-|要素类型|
|properties|true|Object|-|要素自定义属性|
|geometry|true|[PolygonGeometry](#polygongeometry参数说明)|-|要素空间信息|

###### PolygonGeometry参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|type|true|固定值(string)-Polygon|-|要素图形类型|
|coordinates|true|[PolygonCoordinates](#polygoncoordinates参数说明（类型）)|-|要素空间信息|

###### PolygonCoordinates参数说明（类型）

|参数名称|类型|说明|
|:--|:--:|:--|
|PolygonCoordinates|Array&lt;Array&lt;[LngLat](#lnglat参数说明（类型）)&gt;&gt;|面数据坐标类型|

### 示例


```javascript
const layerId = kmap.addInnerGlowPolygon({
    polygon: {
      type: 'Feature',
      properties: {},
      geometry: {
        type: 'Polygon',
        coordinates: [
          [
            [120.57420980856375, 31.299420281576857],
            [120.56723871185005, 31.29581791712387],
            [120.5699275634397, 31.291307676186392],
            [120.57787793326378, 31.29207358136867],
            [120.58035101281149, 31.29702344811713],
            [120.57420980856375, 31.299420281576857],
          ]
        ]
      }
    },
    isDynamic: true
});
```


## removeInnerGlowPolygon

### 描述

移除内发光面。

### 参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|opts|true|[InnerGlowPolygonOperationOptions](#innerglowpolygonoperationoptions参数说明)|-|-|

#### InnerGlowPolygonOperationOptions参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|layerId|true|string|-|需要操作的内发光面id|

### 示例


```javascript
kmap.removeInnerGlowPolygon({ layerId: 'layerId' });
```


## showInnerGlowPolygon

### 描述

显示内发光面。

### 参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|opts|true|[InnerGlowPolygonOperationOptions](#innerglowpolygonoperationoptions参数说明)|-|-|

#### InnerGlowPolygonOperationOptions参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|layerId|true|string|-|需要操作的内发光面id|

### 示例


```javascript
kmap.showInnerGlowPolygon({ layerId: 'layerId' });
```


## hideInnerGlowPolygon

### 描述

隐藏内发光面。

### 参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|opts|true|[InnerGlowPolygonOperationOptions](#innerglowpolygonoperationoptions参数说明)|-|-|

#### InnerGlowPolygonOperationOptions参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|layerId|true|string|-|需要操作的内发光面id|

### 示例


```javascript
kmap.hideInnerGlowPolygon({ layerId: 'layerId' });
```


## addInnerGlowPolygonEvent

### 描述

添加内发光面事件。目前支持click、contextmenu、mouseover、mouseout事件类型。

### 参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|opts|true|[AddInnerGlowPolygonEventOptions](#addinnerglowpolygoneventoptions参数说明)|-|-|

#### AddInnerGlowPolygonEventOptions参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|layerId|true|string|-|需要操作的内发光面id|
|eventType|true|string|-|事件类型|
|handler|true|[Function](#handler函数参数说明)|-|事件回调函数，回调参数是事件相关信息|

##### handler函数参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|event|Object|-|事件对象|

### 示例


```javascript
kmap.addInnerGlowPolygonEvent({
 layerId: id,
 eventType: 'click',
 handler: function (e, features) {
   console.log(e, features);
 }
 });
```


## removeInnerGlowPolygonEvent

### 描述

删除内发光面事件。目前支持click、contextmenu、mouseover、mouseout事件类型。

### 参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|opts|true|[RemoveInnerGlowPolygonEventOptions](#removeinnerglowpolygoneventoptions参数说明)|-|-|

#### RemoveInnerGlowPolygonEventOptions参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|layerId|true|string|-|需要操作的内发光面id|
|eventType|true|string|-|事件类型|

### 示例


```javascript
kmap.removeInnerGlowPolygonEvent({
 layerId: id,
 eventType: 'click'
 });
```


## 墙体

## addWall

### 描述

添加墙体效果；

### 参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|opts|true|[AddWallOptions](#addwalloptions参数说明)|-|-|

#### AddWallOptions参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|polygon|true|[PolygonFeatureType](#polygonfeaturetype参数说明)|-|面坐标信息|
|before|false|string|-|图层ID。将当前图层插入在before对应图层的下方,如果不指定,将图层添加到最上层|
|color|false|[number, number, number]|[255, 0, 0]|颜色数组|
|height|false|number|100|墙体高度。|
|speed|false|number|1|动画速度。区间为[0,10]|
|type|false|number|1|墙体材质类型。1为栅栏类型、2为纯色渐变类型|

##### PolygonFeatureType参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|type|true|固定值(string)-Feature|-|要素类型|
|properties|true|Object|-|要素自定义属性|
|geometry|true|[PolygonGeometry](#polygongeometry参数说明)|-|要素空间信息|

###### PolygonGeometry参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|type|true|固定值(string)-Polygon|-|要素图形类型|
|coordinates|true|[PolygonCoordinates](#polygoncoordinates参数说明（类型）)|-|要素空间信息|

###### PolygonCoordinates参数说明（类型）

|参数名称|类型|说明|
|:--|:--:|:--|
|PolygonCoordinates|Array&lt;Array&lt;[LngLat](#lnglat参数说明（类型）)&gt;&gt;|面数据坐标类型|


**type参数配置效果**

参数等于1：

![image](http://kfront.kedacom.com/file/docImage/1718095678960wall_1.png)

参数等于2：

![image](http://kfront.kedacom.com/file/docImage/1718095703851wall_2.png)


### 示例


```javascript
const layerId = kmap.addWall({
   polygon: {
     type: 'Feature',
     properties: {},
     geometry: {
       type: 'Polygon',
       coordinates: [
         [
           [120.57420980856375, 31.299420281576857],
           [120.56723871185005, 31.29581791712387],
           [120.5699275634397, 31.291307676186392],
           [120.57787793326378, 31.29207358136867],
           [120.58035101281149, 31.29702344811713],
           [120.57420980856375, 31.299420281576857],
         ],
       ],
     },
   },
   color: [255, 0, 0],
   speed: 1
});
```


## removeWall

### 描述

移除墙体。

### 参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|opts|true|[WallOperationOptions](#walloperationoptions参数说明)|-|-|

#### WallOperationOptions参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|layerId|true|string|-|需要操作的墙体图层id|

### 示例


```javascript
kmap.removeWall({ layerId: 'layerId' });
```


## showWall

### 描述

显示墙体。

### 参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|opts|true|[WallOperationOptions](#walloperationoptions参数说明)|-|-|

#### WallOperationOptions参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|layerId|true|string|-|需要操作的墙体图层id|

### 示例


```javascript
kmap.showWall({ layerId: 'layerId' });
```


## hideWall

### 描述

隐藏墙体。

### 参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|opts|true|[WallOperationOptions](#walloperationoptions参数说明)|-|-|

#### WallOperationOptions参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|layerId|true|string|-|需要操作的墙体图层id|

### 示例


```javascript
kmap.hideWall({ layerId: 'layerId' });
```


## addWallEvent

### 描述

添加墙体事件。目前支持click、contextmenu、mouseover、mouseout事件类型。

### 参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|opts|true|[AddWallEventOptions](#addwalleventoptions参数说明)|-|-|

#### AddWallEventOptions参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|layerId|true|string|-|需要操作的墙体id|
|eventType|true|string|-|事件类型|
|handler|true|[Function](#handler函数参数说明)|-|事件回调函数，回调参数是事件相关信息|

##### handler函数参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|event|Object|-|事件对象|

### 示例


```javascript
kmap.addWallEvent({
 layerId: id,
 eventType: 'click',
 handler: function (e, features) {
   console.log(e, features);
 }
 });
```


## removeWallEvent

### 描述

删除墙体事件。目前支持click、contextmenu、mouseover、mouseout事件类型。

### 参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|opts|true|[RemoveWallEventOptions](#removewalleventoptions参数说明)|-|-|

#### RemoveWallEventOptions参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|layerId|true|string|-|需要操作的墙体id|
|eventType|true|string|-|事件类型|

### 示例


```javascript
kmap.removeWallEvent({
 layerId: id,
 eventType: 'click'
 });
```


## 流动线

## addFlowLine

### 描述

添加流动线效果。该效果默认带有泛光效果，由于泛光是对亮度像素做提取，所以颜色越是接近黑色则显示的越不明显，设置黑色则会消失，因此建议使用明亮的颜色效果更佳

### 参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|opts|true|[AddFlowLineOptions](#addflowlineoptions参数说明)|-|-|

#### AddFlowLineOptions参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|before|false|string|-|图层ID。将当前图层插入在before对应图层的下方,如果不指定,将图层添加到最上层|
|line|true|[LineStringGeometry](#linestringgeometry参数说明)|-|线坐标信息|
|color|false|[number, number, number]|[255, 0, 0]|颜色数组|
|width|false|number|5|线宽|
|speed|false|number|1|动画速度。区间为(0,10]|

##### LineStringGeometry参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|type|true|固定值(string)-LineString|-|要素图形类型|
|coordinates|true|Array&lt;[LngLat](#lnglat参数说明（类型）)&gt;|-|要素空间信息|

###### LngLat参数说明（类型）

|参数名称|类型|说明|
|:--|:--:|:--|
|LngLat|[number, number]|经纬度坐标|

### 示例


```javascript
const layerId = kmap.addFlowLine({
   line: {
       type: 'Feature',
       properties: {},
       geometry: {
           type: 'LineString',
           coordinates: [
               [
                   120.56315702797815,
                   31.30053499918877
               ],
               [
                   120.58902075021592,
                   31.300841161114917
               ],
               [
                   120.58820640127891,
                   31.28842688925505
               ],
               [
                   120.56393880295809,
                   31.286979378933722
               ]
           ],
       },
   },
   color: [255, 255, 0],
   speed: 1,
});
```


## removeFlowLine

### 描述

移除流动线。

### 参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|opts|true|[FlowLineOperationOptions](#flowlineoperationoptions参数说明)|-|-|

#### FlowLineOperationOptions参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|layerId|true|string|-|需要操作的流动线图层id|

### 示例


```javascript
kmap.removeFlowLine({ layerId: 'layerId' });
```


## showFlowLine

### 描述

显示流动线。

### 参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|opts|true|[FlowLineOperationOptions](#flowlineoperationoptions参数说明)|-|-|

#### FlowLineOperationOptions参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|layerId|true|string|-|需要操作的流动线图层id|

### 示例


```javascript
kmap.showFlowLine({ layerId: 'layerId' });
```


## hideFlowLine

### 描述

隐藏流动线。

### 参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|opts|true|[FlowLineOperationOptions](#flowlineoperationoptions参数说明)|-|-|

#### FlowLineOperationOptions参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|layerId|true|string|-|需要操作的流动线图层id|

### 示例


```javascript
kmap.hideFlowLine({ layerId: 'layerId' });
```


## 纹理流动线

## addImageFlowLine

### 描述

添加纹理流动线效果；该效果为异步添加，layerId通过ended的方法返回

### 参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|opts|true|[AddImageFlowLineOptions](#addimageflowlineoptions参数说明)|-|-|

#### AddImageFlowLineOptions参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|line|true|[LineStringGeometry](#linestringgeometry参数说明)|-|线坐标信息|
|before|false|string|-|图层ID。将当前图层插入在before对应图层的下方,如果不指定,将图层添加到最上层|
|url|true|string|-|纹理图片地址|
|width|false|number|5|线宽|
|repeat|false|number|1|纹理图片重复次数。|
|speed|false|number|1|动画速度。区间为(0,10]|
|ended|false|[Function](#ended函数参数说明)|-|图层添加完成回调|

##### LineStringGeometry参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|type|true|固定值(string)-LineString|-|要素图形类型|
|coordinates|true|Array&lt;[LngLat](#lnglat参数说明（类型）)&gt;|-|要素空间信息|

###### LngLat参数说明（类型）

|参数名称|类型|说明|
|:--|:--:|:--|
|LngLat|[number, number]|经纬度坐标|

##### ended函数参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|res|[EndedRes](#endedres参数说明)|-|回调信息|

###### EndedRes参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|status|number|-|10-成功,20-失败|
|data|string|-|返回图层id|

### 示例


```javascript
kmap.addImageFlowLine({
   line: {
       type: 'Feature',
       properties: {},
       geometry: {
           type: 'LineString',
           coordinates: [
               [
                   120.56315702797815,
                   31.30053499918877
               ],
               [
                   120.58902075021592,
                   31.300841161114917
               ],
               [
                   120.58820640127891,
                   31.28842688925505
               ],
               [
                   120.56393880295809,
                   31.286979378933722
               ]
           ],
       },
   },
   url: 'http://xxx.png',
   repeat: 10,
   speed: 1,
   ended: (res) => {
     const layerId = res.data;
   }
});
```


## removeImageFlowLine

### 描述

移除纹理流动线。

### 参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|opts|true|[ImageFlowLineOperationOptions](#imageflowlineoperationoptions参数说明)|-|-|

#### ImageFlowLineOperationOptions参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|layerId|true|string|-|需要操作的流动线图层id|

### 示例


```javascript
kmap.removeImageFlowLine({ layerId: 'layerId' });
```


## showImageFlowLine

### 描述

显示纹理流动线。

### 参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|opts|true|[ImageFlowLineOperationOptions](#imageflowlineoperationoptions参数说明)|-|-|

#### ImageFlowLineOperationOptions参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|layerId|true|string|-|需要操作的流动线图层id|

### 示例


```javascript
kmap.showImageFlowLine({ layerId: 'layerId' });
```


## hideImageFlowLine

### 描述

隐藏纹理流动线。

### 参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|opts|true|[ImageFlowLineOperationOptions](#imageflowlineoperationoptions参数说明)|-|-|

#### ImageFlowLineOperationOptions参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|layerId|true|string|-|需要操作的流动线图层id|

### 示例


```javascript
kmap.hideImageFlowLine({ layerId: 'layerId' });
```

# 覆盖物

## 标记

## addMarkers

### 描述

批量添加Marker，将多个Marker视为一个整体添加到地图上。后续可批量移除、添加事件。

### 参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|options|true|[AddMarkersOptions](#addmarkersoptions参数说明)|-|-|

#### AddMarkersOptions参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|data|true|Array&lt;[MarkersOptions](#markersoptions参数说明)&gt;|-|Marker配置集合,包含经纬度及自定义属性|
|url|true|string|-|Marker背景图url地址|
|cssClassName|false|string|-|覆盖物DOM类名，使用此参数设置样式时需要注意，标记的默认行内样式和style的优先级比此参数高|
|markerType|false|string|-|功能同cssClassName参数，建议使用cssClassName参数|
|style|false|string|-|自定义样式，cssText|
|offset|false|[Offset](#offset参数说明（类型）)|[0, 0]|Marker相对于锚点的偏移量(offset参数在设置'anchor'时无法达到相应要求后设置，通常情况下建议优先设置'anchor')|
|anchor|false|[Anchor](#anchor参数说明)|KMap.ANCHOR.CENTER|标记锚点位置|
|zIndex|false|number|100|覆盖物堆叠顺序，通过该属性使级别较高的点标记在上层显示，值越大，位置越靠上|
|alignment|false|[Alignment](#alignment参数说明)|KMap.ALIGNMENT.VIEWPORT|对齐方式|
|scale|false|Array&lt;[ScaleStep](#scalestep参数说明)&gt;|-|缩放比例，根据层级，获取阶梯式结果，地图当前层级，大于等于某个阶梯的层级，使用当前阶梯的缩放比例，多个 ScaleStep 的对象，需要按照其中的 zoom 从小到大排序|
|ended|false|[Function](#ended函数参数说明)|-|结束回调|

##### MarkersOptions参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|point|true|[LngLat](#lnglat参数说明（类型）)|-|Marker的经纬度|
|customProps|false|any|-|Marker自定义属性，可在覆盖物事件中获取|

###### LngLat参数说明（类型）

|参数名称|类型|说明|
|:--|:--:|:--|
|LngLat|[number, number]|经纬度坐标|

##### Offset参数说明（类型）

|参数名称|类型|说明|
|:--|:--:|:--|
|Offset|[number, number]|相对于锚点偏移量|

##### Anchor参数说明

|参数名称|描述|实际值|
|:--|:--|:--:|
|KMap.ANCHOR.CENTER|中心|center|
|KMap.ANCHOR.TOP|顶部|top|
|KMap.ANCHOR.BOTTOM|底部|bottom|
|KMap.ANCHOR.LEFT|左侧|left|
|KMap.ANCHOR.RIGHT|右侧|right|
|KMap.ANCHOR.TOP_LEFT|左上方|top-left|
|KMap.ANCHOR.TOP_RIGHT|右上方|top-right|
|KMap.ANCHOR.BOTTOM_LEFT|左下方|bottom-left|
|KMap.ANCHOR.BOTTOM_RIGHT|右下方|bottom-right|

##### Alignment参数说明

|参数名称|描述|实际值|
|:--|:--|:--:|
|KMap.ALIGNMENT.VIEWPORT|视口|viewport|
|KMap.ALIGNMENT.MAP|地图|map|

##### ScaleStep参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|zoom|true|number|-|层级|
|value|true|number|-|缩放比例，建议取值 0-1 之间，不然会影响打印覆盖物的清晰度|

##### ended函数参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|res|[EndedRes](#endedres参数说明)|-|结束回调信息|

###### EndedRes参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|status|number|-|10-成功,20-失败|
|data|string|-|标记的分组type，用于标记批量隐藏、显示、移除等操作|

### 示例


```javascript
kmap.addMarkers({
  data: [
    {
      point: [120.58, 31.29],
      customProps: {
        username: "警察1"
      }
    },
    {
      point: [120.59, 31.29],
      customProps: {
        username: "警察2"
      }
    }
  ],
  url: 'https://ss2.bdstatic.com/70cFvnSh_Q1YnxGkpoWK1HF6hhy/it/u=3681880960,455182084&fm=26&gp=0.jpg',
  markerType: 'marker-class-name',
  style: 'width:50px;height:50px;background-repeat:no-repeat;background-position:center;',
  ended: function (res) {
    if (res.status === 10) {
      // to do sth
    }
  }
});
```


## addMarker

### 描述

添加单个 Marker

### 参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|options|true|[AddMarkerOptions](#addmarkeroptions参数说明)|-|-|

#### AddMarkerOptions参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|point|true|[LngLat](#lnglat参数说明（类型）)|-|添加Marker的经纬度|
|url|true|string|-|Marker背景图url地址|
|groupName|false|string|-|自定义marker分组名，如果有，添加的单个marker将从属于该分组，之后可以通过这个分组名进行对分组内单个marker的修改、删除操作|
|customProps|false|string|-|自定义属性，可通过事件参数及getOverlayPropsById接口获取此信息|
|style|false|string|-|自定义样式，cssText|
|offset|false|[Offset](#offset参数说明（类型）)|[0, 0]|Marker相对于锚点的偏移量(offset参数在设置'anchor'时无法达到相应要求后设置，通常情况下建议优先设置'anchor')|
|anchor|false|[Anchor](#anchor参数说明)|KMap.ANCHOR.CENTER|标记锚点位置|
|cssClassName|false|string|-|覆盖物DOM类名，使用此参数设置样式时需要注意，标记的默认行内样式和style的优先级比此参数高|
|markerType|false|string|-|功能同cssClassName参数，建议使用cssClassName参数|
|zIndex|false|number|100|覆盖物堆叠顺序，通过该属性使级别较高的点标记在上层显示，值越大，位置越靠上|
|alignment|false|[Alignment](#alignment参数说明)|KMap.ALIGNMENT.VIEWPORT|对齐方式|
|scale|false|Array&lt;[ScaleStep](#scalestep参数说明)&gt;|-|缩放比例，根据层级，获取阶梯式结果，地图当前层级，大于等于某个阶梯的层级，使用当前阶梯的缩放比例，多个 ScaleStep 的对象，需要按照其中的 zoom 从小到大排序|
|ended|false|[Function](#ended函数参数说明)|-|结束回调|

##### LngLat参数说明（类型）

|参数名称|类型|说明|
|:--|:--:|:--|
|LngLat|[number, number]|经纬度坐标|

##### Offset参数说明（类型）

|参数名称|类型|说明|
|:--|:--:|:--|
|Offset|[number, number]|相对于锚点偏移量|

##### Anchor参数说明

|参数名称|描述|实际值|
|:--|:--|:--:|
|KMap.ANCHOR.CENTER|中心|center|
|KMap.ANCHOR.TOP|顶部|top|
|KMap.ANCHOR.BOTTOM|底部|bottom|
|KMap.ANCHOR.LEFT|左侧|left|
|KMap.ANCHOR.RIGHT|右侧|right|
|KMap.ANCHOR.TOP_LEFT|左上方|top-left|
|KMap.ANCHOR.TOP_RIGHT|右上方|top-right|
|KMap.ANCHOR.BOTTOM_LEFT|左下方|bottom-left|
|KMap.ANCHOR.BOTTOM_RIGHT|右下方|bottom-right|

##### Alignment参数说明

|参数名称|描述|实际值|
|:--|:--|:--:|
|KMap.ALIGNMENT.VIEWPORT|视口|viewport|
|KMap.ALIGNMENT.MAP|地图|map|

##### ScaleStep参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|zoom|true|number|-|层级|
|value|true|number|-|缩放比例，建议取值 0-1 之间，不然会影响打印覆盖物的清晰度|

##### ended函数参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|res|[EndedRes](#endedres参数说明)|-|结束回调信息|

###### EndedRes参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|status|number|-|10-成功,20-失败|
|data|string|-|标记的id，用于单个标记的删除、获取属性、绑定事件等操作|

### 示例


```javascript
kmap.addMarker({
 url: 'https://ss2.bdstatic.com/70cFvnSh_Q1YnxGkpoWK1HF6hhy/it/u=3681880960,455182084&fm=26&gp=0.jpg',
 style: 'width:50px;height:50px;background-repeat:no-repeat;background-position:center;',
 point: [120.583, 31.294],
 ended: function (res) {
   if (res.status === 10) {
     // to do sth
   }
 },
});
```


## removeMarkersById

### 描述

通过 addMarker 接口返回的覆盖物 id 删除指定 marker

### 参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|options|true|[RemoveMarkersByIdOptions](#removemarkersbyidoptions参数说明)|-|-|

#### RemoveMarkersByIdOptions参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|groupName|false|string|-|自定义marker分组名，如果有，添加的单个marker将从属于该分组，之后可以通过这个分组名进行对分组内单个marker的修改、删除操作|
|id|true|string\|Array&lt;string&gt;|-|marker的id, 或多个marker的id集合|

### 示例


```javascript
kmap.removeMarkersById({
 id: '123456789'
});
```


## removeMarkersByType

### 描述

通过addMarkers返回的分组type删除一组Marker。

### 参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|options|true|[RemoveMarkersByTypeOptions](#removemarkersbytypeoptions参数说明)|-|-|

#### RemoveMarkersByTypeOptions参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|markerType|true|string|-|需要删除的Marker分组type，通过addMarkers返回的分组type或addMarker指定的groupName|

### 示例


```javascript
kmap.removeMarkersByType({ markerType:  'groupName' });
```


## addEventOnMarkers

### 描述

通过选择器绑定事件(触发拖拽事件需要先调用setMarkersDraggable/setMarkerDraggable，设置允许拖拽)，每个覆盖物每种类型的事件只可绑定一次。如果出现点击覆盖物触发了在覆盖物下方图层的事件，可以在对应类型事件回调中添加event.stopPropagation()阻止触发图层事件。

### 参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|options|true|[AddEventOnMarkersOptions](#addeventonmarkersoptions参数说明)|-|-|

#### AddEventOnMarkersOptions参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|selector|true|string|-|addMarkers/addMarker接口返回的id或type，使用之前请添加相关标识字符,单个Marker事件标识符为'#'，多个标识符为'.'|
|event|true|[OverlayEventType](#overlayeventtype参数说明)|-|事件类型|
|handler|true|[Function](#handler函数参数说明)|-|回调函数，接收的第一个参数为事件对象，第二个参数包含覆盖物位置及自定义属性信息|

##### OverlayEventType参数说明

|描述|实际值|
|:--|:--:|
|点击|click|
|双击|dblclick|
|右键|contextmenu|
|鼠标按下|mousedown|
|鼠标弹起|mouseup|
|鼠标进入|mouseenter|
|鼠标悬浮|mouseover|
|鼠标移动|mousemove|
|鼠标移出|mouseout|
|鼠标离开|mouseleave|
|拖拽开始|dragstart|
|拖拽|dragging|
|拖拽结束|dragend|

##### handler函数参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|event|[Event](#event参数说明)|-|事件对象|
|info|[HandlerInfo](#handlerinfo参数说明)|-|位置及自定义属性|

###### HandlerInfo参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|position|[LngLat](#lnglat参数说明（类型）)|-|经纬度|
|extraData|any|-|自定义属性|

###### LngLat参数说明（类型）

|参数名称|类型|说明|
|:--|:--:|:--|
|LngLat|[number, number]|经纬度坐标|

### 示例


```javascript
kmap.setMarkersDraggable({
  markerType: 'groupName',
  draggable: true
});
kmap.addEventOnMarkers({
  selector: '.groupName',
  event: 'dragstart',
  handler: function (evt, info) {
    console.log(evt, 'dragend');
    console.log(info.position, info.extraData);
  }
});
kmap.addEventOnMarkers({
  selector: '.groupName',
  event: 'dragging',
  handler: function (evt, info) {
    console.log(evt, 'dragend');
    console.log(info.position, info.extraData);
  }
});
kmap.addEventOnMarkers({
  selector: '.groupName',
  event: 'dragend',
  handler: function (evt, info) {
    console.log(evt, 'dragend');
    console.log(info.position, info.extraData);
  }
});
```


## removeEventOnMarkers

### 描述

通过selector移除已绑定的事件。

### 参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|options|true|[RemoveEventOnMarkersOptions](#removeeventonmarkersoptions参数说明)|-|-|

#### RemoveEventOnMarkersOptions参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|selector|true|string|-|addMarkers/addMarker接口返回的id或type，使用之前请添加相关标识字符,单个Marker事件标识符为'#'，多个标识符为'.'|
|event|true|[OverlayEventType](#overlayeventtype参数说明)|-|事件类型|

##### OverlayEventType参数说明

|描述|实际值|
|:--|:--:|
|点击|click|
|双击|dblclick|
|右键|contextmenu|
|鼠标按下|mousedown|
|鼠标弹起|mouseup|
|鼠标进入|mouseenter|
|鼠标悬浮|mouseover|
|鼠标移动|mousemove|
|鼠标移出|mouseout|
|鼠标离开|mouseleave|
|拖拽开始|dragstart|
|拖拽|dragging|
|拖拽结束|dragend|

### 示例


```javascript
kmap.removeEventOnMarkers({
  selector: '.groupName',
  event: 'click'
});
```


## setMarkerProperty

### 描述

通过addMarker接口返回的唯一标识设置Marker。

### 参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|options|true|[SetMarkerPropertyOptions](#setmarkerpropertyoptions参数说明)|-|-|

#### SetMarkerPropertyOptions参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|type|true|string|-|区分是通过分组type或是单个id操作Marker,可选'markerType'，'id'|
|groupName|false|string|-|指定查询分组名称，如果存在，则是对分组内单个覆盖物的设置|
|id|false|string|-|单个Marker的id，type=id时必填|
|markerType|false|string|-|Marker分组type，type=markerType时必填|
|url|false|string|-|要更换的Marker背景图url地址|
|style|false|string|-|要更新的图标的样式|
|point|false|[LngLat](#lnglat参数说明（类型）)|-|要设置成的经纬度, type=id, 读取该属性|
|points|false|Array&lt;[LngLat](#lnglat参数说明（类型）)&gt;|-|要设置成的经纬度集合, type=markerType, 读取该属性|

##### LngLat参数说明（类型）

|参数名称|类型|说明|
|:--|:--:|:--|
|LngLat|[number, number]|经纬度坐标|

### 示例


```javascript
// 通过id修改marker
kmap.setMarkerProperty({
  type: 'id',
  id: 'overlayId',
  url: '../../icon-police-active-png',
  point: [120, 30]
});
// 通过分组批量修改
kmap.setMarkerProperty({
  type: 'markerType',
  markerType: 'groupName',
  points: [
    [120, 30],
    [121, 29]
  ]
});
```


## setMarkerDraggable

### 描述

通过addMarker添加时使用该接口设置Marker是否可拖拽。

### 参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|options|true|[SetMarkerDraggableOptions](#setmarkerdraggableoptions参数说明)|-|-|

#### SetMarkerDraggableOptions参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|id|true|string|-|addMarker接口返回的id|
|draggable|true|boolean|-|设置是否可拖拽，true-可拖拽，false-不可拖拽|

### 示例


```javascript
kmap.setMarkerDraggable({
  id: 'markerId',
  draggable: true
});
```


## setMarkersDraggable

### 描述

通过addMarkers返回的分组type批量设置Marker是否可拖拽。

### 参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|options|true|[SetMarkersDraggableOptions](#setmarkersdraggableoptions参数说明)|-|-|

#### SetMarkersDraggableOptions参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|markerType|true|string|-|addMarkers返回的分组type|
|draggable|true|boolean|-|设置是否可拖拽，true-可拖拽，false-不可拖拽|

### 示例


```javascript
kmap.setMarkersDraggable({
  markerType: 'groupName',
  draggable: true
});
```

## 文本

## addTexts

### 描述

批量添加文本覆盖物，后续可进行批量移除、添加事件等操作。

### 参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|options|true|[AddTextsOptions](#addtextsoptions参数说明)|-|-|

#### AddTextsOptions参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|points|true|Array&lt;[TextsOptions](#textsoptions参数说明)&gt;|-|添加文本的配置集合|
|url|false|string|-|文本背景图片|
|cssClassName|false|string|-|覆盖物DOM类名，使用此参数设置样式时需要注意，文本的默认行内样式和style的优先级比此参数高|
|textType|false|string|-|功能同cssClassName参数，建议使用cssClassName参数|
|style|false|string|-|自定义样式，cssText|
|offset|false|[Offset](#offset参数说明（类型）)|[0, 0]|相对于锚点的偏移量(offset参数在设置'anchor'时无法达到相应要求后设置，通常情况下建议优先设置'anchor')|
|anchor|false|[Anchor](#anchor参数说明)|KMap.ANCHOR.CENTER|文本锚点位置|
|zIndex|false|number|100|覆盖物堆叠顺序，通过该属性使级别较高的文本在上层显示，值越大，位置越靠上|
|alignment|false|[Alignment](#alignment参数说明)|KMap.ALIGNMENT.VIEWPORT|对齐方式|
|scale|false|Array&lt;[ScaleStep](#scalestep参数说明)&gt;|-|缩放比例，根据层级，获取阶梯式结果，地图当前层级，大于等于某个阶梯的层级，使用当前阶梯的缩放比例，多个 ScaleStep 的对象，需要按照其中的 zoom 从小到大排序|
|ended|false|[Function](#ended函数参数说明)|-|结束回调|

##### TextsOptions参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|point|true|[LngLat](#lnglat参数说明（类型）)|-|文本经纬度|
|htmlText|true|string|-|文本内容|
|customProps|false|any|-|文本自定义属性，可在覆盖物事件中获取|

###### LngLat参数说明（类型）

|参数名称|类型|说明|
|:--|:--:|:--|
|LngLat|[number, number]|经纬度坐标|

##### Offset参数说明（类型）

|参数名称|类型|说明|
|:--|:--:|:--|
|Offset|[number, number]|相对于锚点偏移量|

##### Anchor参数说明

|参数名称|描述|实际值|
|:--|:--|:--:|
|KMap.ANCHOR.CENTER|中心|center|
|KMap.ANCHOR.TOP|顶部|top|
|KMap.ANCHOR.BOTTOM|底部|bottom|
|KMap.ANCHOR.LEFT|左侧|left|
|KMap.ANCHOR.RIGHT|右侧|right|
|KMap.ANCHOR.TOP_LEFT|左上方|top-left|
|KMap.ANCHOR.TOP_RIGHT|右上方|top-right|
|KMap.ANCHOR.BOTTOM_LEFT|左下方|bottom-left|
|KMap.ANCHOR.BOTTOM_RIGHT|右下方|bottom-right|

##### Alignment参数说明

|参数名称|描述|实际值|
|:--|:--|:--:|
|KMap.ALIGNMENT.VIEWPORT|视口|viewport|
|KMap.ALIGNMENT.MAP|地图|map|

##### ScaleStep参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|zoom|true|number|-|层级|
|value|true|number|-|缩放比例，建议取值 0-1 之间，不然会影响打印覆盖物的清晰度|

##### ended函数参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|res|[EndedRes](#endedres参数说明)|-|结束回调信息|

###### EndedRes参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|status|number|-|10-成功,20-失败|
|data|string|-|文本的分组type，用于文本批量隐藏、显示、移除等操作|

### 示例


```javascript
kmap.addTexts({
  points: [
    {
      point: [120.4426708984168, 31.33047861102378],
      htmlText: '文本内容',
      customProps: '文本属性'
    },
    {
      point: [120.4323508984168, 31.32047861102378],
      htmlText: '文本内容2',
      customProps: '文本属性2'
    }
  ],
  textType: 'text-class-name',
  ended: function (res) {
    if (res.status === 10) {
      // to do sth
    }
  }
});
```


## addText

### 描述

添加单个Text。

### 参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|options|true|[AddTextOptions](#addtextoptions参数说明)|-|-|

#### AddTextOptions参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|point|true|[LngLat](#lnglat参数说明（类型）)|-|添加Text的经纬度|
|htmlText|true|string|-|文本内容|
|groupName|false|string|-|自定义marker分组名，如果有，添加的单个marker将从属于该分组，之后可以通过这个分组名进行对分组内单个marker的修改、删除操作|
|url|false|string|-|文本背景图url地址|
|style|false|string|-|自定义样式，cssText|
|offset|false|[Offset](#offset参数说明（类型）)|[0, 0]|Marker相对于锚点的偏移量(offset参数在设置'anchor'时无法达到相应要求后设置，通常情况下建议优先设置'anchor')|
|anchor|false|[Anchor](#anchor参数说明)|KMap.ANCHOR.CENTER|标记锚点位置|
|cssClassName|false|string|-|覆盖物DOM类名，使用此参数设置样式时需要注意，文本的默认行内样式和style的优先级比此参数高|
|textType|true|string|-|功能同cssClassName参数，建议使用cssClassName参数|
|zIndex|true|number|100|覆盖物堆叠顺序，通过该属性使级别较高的文本在上层显示，值越大，位置越靠上|
|alignment|false|[Alignment](#alignment参数说明)|KMap.ALIGNMENT.VIEWPORT|对齐方式|
|scale|false|Array&lt;[ScaleStep](#scalestep参数说明)&gt;|-|缩放比例，根据层级，获取阶梯式结果，地图当前层级，大于等于某个阶梯的层级，使用当前阶梯的缩放比例，多个 ScaleStep 的对象，需要按照其中的 zoom 从小到大排序|
|ended|true|[Function](#ended函数参数说明)|-|结束回调|

##### LngLat参数说明（类型）

|参数名称|类型|说明|
|:--|:--:|:--|
|LngLat|[number, number]|经纬度坐标|

##### Offset参数说明（类型）

|参数名称|类型|说明|
|:--|:--:|:--|
|Offset|[number, number]|相对于锚点偏移量|

##### Anchor参数说明

|参数名称|描述|实际值|
|:--|:--|:--:|
|KMap.ANCHOR.CENTER|中心|center|
|KMap.ANCHOR.TOP|顶部|top|
|KMap.ANCHOR.BOTTOM|底部|bottom|
|KMap.ANCHOR.LEFT|左侧|left|
|KMap.ANCHOR.RIGHT|右侧|right|
|KMap.ANCHOR.TOP_LEFT|左上方|top-left|
|KMap.ANCHOR.TOP_RIGHT|右上方|top-right|
|KMap.ANCHOR.BOTTOM_LEFT|左下方|bottom-left|
|KMap.ANCHOR.BOTTOM_RIGHT|右下方|bottom-right|

##### Alignment参数说明

|参数名称|描述|实际值|
|:--|:--|:--:|
|KMap.ALIGNMENT.VIEWPORT|视口|viewport|
|KMap.ALIGNMENT.MAP|地图|map|

##### ScaleStep参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|zoom|true|number|-|层级|
|value|true|number|-|缩放比例，建议取值 0-1 之间，不然会影响打印覆盖物的清晰度|

##### ended函数参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|res|[EndedRes](#endedres参数说明)|-|结束回调信息|

###### EndedRes参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|status|number|-|10-成功,20-失败|
|data|string|-|文本的id，用于单个文本的显示、隐藏、移除等操作|

### 示例


```javascript
kmap.addText({
  point: [120.82032592775812, 31.2659392554352],
  htmlText: '单个文本内容',
  textType: 'single-text-class',
  ended: function (res) {
    if (res.status === 10) {
      // to do sth
    }
  }
});
```


## removeTextById

### 描述

通过addText接口返回的文本id删除单个文本。

### 参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|options|true|[RemoveTextByIdOptions](#removetextbyidoptions参数说明)|-|-|

#### RemoveTextByIdOptions参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|id|true|string\|Array&lt;string&gt;|-|单个文本的id或id集合|
|groupName|false|string|-|指定查询分组名称，如果存在，则是对分组内单个文本的删除作|

### 示例


```javascript
kmap.removeTextById({
  id: 'textId'
});
```


## removeTextsByType

### 描述

通过addTexts接口返回的分组type批量删除文本。

### 参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|options|true|[RemoveTextsByTypeOptions](#removetextsbytypeoptions参数说明)|-|-|

#### RemoveTextsByTypeOptions参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|textType|false|string|-|需要删除的文本分组type，通过addTexts返回的分组type或addText指定的groupName|

### 示例


```javascript
kmap.removeTextsByType({
  textType: 'groupName'
});
```


## addEventOnTexts

### 描述

通过选择器绑定事件(触发拖拽事件需要先调用setTextsDraggable/setTextDraggable，设置允许拖拽)，每个文本每种类型的事件只可绑定一次。如果出现点击覆盖物触发了在覆盖物下方图层的事件，可以在对应类型事件回调中添加event.stopPropagation()阻止触发图层事件。

### 参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|options|true|[AddEventOnTextsOptions](#addeventontextsoptions参数说明)|-|-|

#### AddEventOnTextsOptions参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|selector|true|string|-|addTexts/addText接口返回的id或type，使用之前请添加相关标识字符,单个文本事件标识符为#，多个标识符为'.'|
|event|true|[OverlayEventType](#overlayeventtype参数说明)|-|事件类型|
|handler|true|[Function](#handler函数参数说明)|-|回调函数，接收的第一个参数为事件对象，第二个参数包含覆盖物位置及自定义属性信息|

##### OverlayEventType参数说明

|描述|实际值|
|:--|:--:|
|点击|click|
|双击|dblclick|
|右键|contextmenu|
|鼠标按下|mousedown|
|鼠标弹起|mouseup|
|鼠标进入|mouseenter|
|鼠标悬浮|mouseover|
|鼠标移动|mousemove|
|鼠标移出|mouseout|
|鼠标离开|mouseleave|
|拖拽开始|dragstart|
|拖拽|dragging|
|拖拽结束|dragend|

##### handler函数参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|event|[Event](#event参数说明)|-|事件对象|
|info|[HandlerInfo](#handlerinfo参数说明)|-|位置及自定义属性|

###### HandlerInfo参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|position|[LngLat](#lnglat参数说明（类型）)|-|经纬度|
|extraData|any|-|自定义属性|

###### LngLat参数说明（类型）

|参数名称|类型|说明|
|:--|:--:|:--|
|LngLat|[number, number]|经纬度坐标|

### 示例


```javascript
kmap.setTextsDraggable({
  markerType: 'groupName',
  draggable: true
});
kmap.addEventOnTexts({
  selector: '.textType',
  event: 'dragstart',
  handler: function(evt, info) {
      console.log(evt, 'dragging');
      console.log(info.position, info.extraData);
  }
});
kmap.addEventOnTexts({
  selector: '.textType',
  event: 'dragging',
  handler: function(evt, info) {
      console.log(evt, 'dragging');
      console.log(info.position, info.extraData);
  }
});
kmap.addEventOnTexts({
  selector: '.textType',
  event: 'dragend',
  handler: function(evt, info) {
      console.log(evt, 'dragging');
      console.log(info.position, info.extraData);
  }
});
```


## removeEventOnTexts

### 描述

通过选择器删除已绑定的文本事件。

### 参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|options|true|[RemoveEventOnTextsOptions](#removeeventontextsoptions参数说明)|-|-|

#### RemoveEventOnTextsOptions参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|selector|true|string|-|addTexts/addText接口返回的id或type，使用之前请添加相关标识字符,单个text事件标识符为#，多个标识符为'.'|
|event|true|[OverlayEventType](#overlayeventtype参数说明)|-|事件类型|

##### OverlayEventType参数说明

|描述|实际值|
|:--|:--:|
|点击|click|
|双击|dblclick|
|右键|contextmenu|
|鼠标按下|mousedown|
|鼠标弹起|mouseup|
|鼠标进入|mouseenter|
|鼠标悬浮|mouseover|
|鼠标移动|mousemove|
|鼠标移出|mouseout|
|鼠标离开|mouseleave|
|拖拽开始|dragstart|
|拖拽|dragging|
|拖拽结束|dragend|

### 示例


```javascript
kmap.removeEventOnTexts({
  selector: '#textId',
  event: 'dragstart'
});
```


## setTextDraggable

### 描述

设置单个文本是否可拖拽。

### 参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|options|true|[SetTextDraggableOptions](#settextdraggableoptions参数说明)|-|-|

#### SetTextDraggableOptions参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|draggable|true|boolean|-|设置是否可拖拽，true-可拖拽，false-不可拖拽|
|id|true|string|-|addText接口返回的id|

### 示例


```javascript
kmap.setTextDraggable({
  id: 'textId',
  draggable: true
});
```


## setTextsDraggable

### 描述

设置某个分组的Text是否可拖拽。

### 参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|options|true|[SetTextsDraggableOptions](#settextsdraggableoptions参数说明)|-|-|

#### SetTextsDraggableOptions参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|draggable|true|boolean|-|设置是否可拖拽，true-可拖拽，false-不可拖拽|
|markerType|true|string|-|addTexts返回的分组type|

### 示例


```javascript
kmap.setTextsDraggable({
  markerType: 'textType',
  draggable: true
});
```

## 自定义覆盖物

## addCustomOverlays

### 描述

批量添加自定义覆盖物，返回自定义覆盖物分组唯一标识。

### 参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|options|true|[AddCustomOverlaysOptions](#addcustomoverlaysoptions参数说明)|-|-|

#### AddCustomOverlaysOptions参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|data|true|Array&lt;[CustomOverlayOptions](#customoverlayoptions参数说明)&gt;|-|自定义覆盖物配置集合,包含经纬度及自定义属性|
|cssClassName|false|string|-|覆盖物DOM类名，使用此参数设置样式时需要注意，标记的默认行内样式和style的优先级比此参数高|
|customOverlaysType|false|string|-|功能同cssClassName参数，建议使用cssClassName参数|
|offset|false|[Offset](#offset参数说明（类型）)|[0, 0]|自定义覆盖物相对于锚点的偏移量(offset参数在设置'anchor'时无法达到相应要求后设置，通常情况下建议优先设置'anchor')|
|anchor|false|[Anchor](#anchor参数说明)|KMap.ANCHOR.CENTER|自定义覆盖物锚点位置|
|zIndex|false|number|100|覆盖物堆叠顺序，通过该属性使级别较高的点标记在上层显示，值越大，位置越靠上|
|alignment|false|[Alignment](#alignment参数说明)|KMap.ALIGNMENT.VIEWPORT|对齐方式|
|scale|false|Array&lt;[ScaleStep](#scalestep参数说明)&gt;|-|缩放比例，根据层级，获取阶梯式结果，地图当前层级，大于等于某个阶梯的层级，使用当前阶梯的缩放比例，多个 ScaleStep 的对象，需要按照其中的 zoom 从小到大排序|
|ended|false|[Function](#ended函数参数说明)|-|结束回调，返回覆盖物分组type，详见回调参数说明|

##### CustomOverlayOptions参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|point|true|[LngLat](#lnglat参数说明（类型）)|-|覆盖物经纬度|
|element|true|[HTMLElement](#htmlelement参数说明)|-|自定义覆盖物内容，DOM元素，注意不要复用DOM，若元素内容相同请使用dom.cloneNode(true)|
|customProps|false|string|-|覆盖物自定义属性，可在覆盖物事件中获取|

###### LngLat参数说明（类型）

|参数名称|类型|说明|
|:--|:--:|:--|
|LngLat|[number, number]|经纬度坐标|

##### Offset参数说明（类型）

|参数名称|类型|说明|
|:--|:--:|:--|
|Offset|[number, number]|相对于锚点偏移量|

##### Anchor参数说明

|参数名称|描述|实际值|
|:--|:--|:--:|
|KMap.ANCHOR.CENTER|中心|center|
|KMap.ANCHOR.TOP|顶部|top|
|KMap.ANCHOR.BOTTOM|底部|bottom|
|KMap.ANCHOR.LEFT|左侧|left|
|KMap.ANCHOR.RIGHT|右侧|right|
|KMap.ANCHOR.TOP_LEFT|左上方|top-left|
|KMap.ANCHOR.TOP_RIGHT|右上方|top-right|
|KMap.ANCHOR.BOTTOM_LEFT|左下方|bottom-left|
|KMap.ANCHOR.BOTTOM_RIGHT|右下方|bottom-right|

##### Alignment参数说明

|参数名称|描述|实际值|
|:--|:--|:--:|
|KMap.ALIGNMENT.VIEWPORT|视口|viewport|
|KMap.ALIGNMENT.MAP|地图|map|

##### ScaleStep参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|zoom|true|number|-|层级|
|value|true|number|-|缩放比例，建议取值 0-1 之间，不然会影响打印覆盖物的清晰度|

##### ended函数参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|res|[EndedRes](#endedres参数说明)|-|结束回调信息|

###### EndedRes参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|status|number|-|10-成功,20-失败|
|data|string|-|覆盖物的分组type，用于覆盖物批量隐藏、显示、删除覆盖物|

### 示例


```javascript
var element = document.createElement('div');
element.innerText = '自定义覆盖物内容';
kmap.addCustomOverlays({
    data: [
        {
            point: [120.4598370360851 + Math.random() * 0.1, 31.327252693143436 + Math.random() * 0.1],
            element: element.cloneNode(true),
            customProps: '通过type添加的自定义属性1'
        },
        {
            point: [120.4598370360851 + Math.random() * 0.1, 31.327252693143436 + Math.random() * 0.1],
            element: element.cloneNode(true),
            customProps: '通过type添加的自定义属性2'
        }
    ],
    customOverlaysType: 'overlay-class-name',
    ended: function (res) {
        if (res.status === 10) {
            // to do sth
        }
    }
});
```


## addCustomOverlay

### 描述

添加单个自定义覆盖物。

### 参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|options|true|[AddCustomOverlayOptions](#addcustomoverlayoptions参数说明)|-|-|

#### AddCustomOverlayOptions参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|point|true|[LngLat](#lnglat参数说明（类型）)|-|添加自定义覆盖物的经纬度|
|element|true|[HTMLElement](#htmlelement参数说明)|-|自定义覆盖物内容，DOM元素|
|groupName|false|string|-|自定义覆盖物分组名，如果有，添加的单个覆盖物将从属于该分组，之后可以通过这个分组名进行对分组内单个覆盖物的修改、删除操作|
|customProps|false|string|-|覆盖物自定义属性，可通过事件参数及getOverlayPropsById接口获取此信息|
|offset|false|[Offset](#offset参数说明（类型）)|[0, 0]|相对于锚点的偏移量(offset参数在设置'anchor'时无法达到相应要求后设置，通常情况下建议优先设置'anchor')|
|anchor|false|[Anchor](#anchor参数说明)|KMap.ANCHOR.CENTER|自定义覆盖物锚点位置|
|cssClassName|false|string|-|覆盖物DOM类名，使用此参数设置样式时需要注意，标记的默认行内样式和style的优先级比此参数高|
|customOverlaysType|false|string|-|功能同cssClassName参数，建议使用cssClassName参数|
|zIndex|false|number|100|自定义覆盖物堆叠顺序，通过该属性使级别较高的点标记在上层显示，值越大，位置越靠上|
|alignment|false|[Alignment](#alignment参数说明)|KMap.ALIGNMENT.VIEWPORT|对齐方式|
|scale|false|Array&lt;[ScaleStep](#scalestep参数说明)&gt;|-|缩放比例，根据层级，获取阶梯式结果，地图当前层级，大于等于某个阶梯的层级，使用当前阶梯的缩放比例，多个 ScaleStep 的对象，需要按照其中的 zoom 从小到大排序|
|ended|false|[Function](#ended函数参数说明)|-|回调函数|

##### LngLat参数说明（类型）

|参数名称|类型|说明|
|:--|:--:|:--|
|LngLat|[number, number]|经纬度坐标|

##### Offset参数说明（类型）

|参数名称|类型|说明|
|:--|:--:|:--|
|Offset|[number, number]|相对于锚点偏移量|

##### Anchor参数说明

|参数名称|描述|实际值|
|:--|:--|:--:|
|KMap.ANCHOR.CENTER|中心|center|
|KMap.ANCHOR.TOP|顶部|top|
|KMap.ANCHOR.BOTTOM|底部|bottom|
|KMap.ANCHOR.LEFT|左侧|left|
|KMap.ANCHOR.RIGHT|右侧|right|
|KMap.ANCHOR.TOP_LEFT|左上方|top-left|
|KMap.ANCHOR.TOP_RIGHT|右上方|top-right|
|KMap.ANCHOR.BOTTOM_LEFT|左下方|bottom-left|
|KMap.ANCHOR.BOTTOM_RIGHT|右下方|bottom-right|

##### Alignment参数说明

|参数名称|描述|实际值|
|:--|:--|:--:|
|KMap.ALIGNMENT.VIEWPORT|视口|viewport|
|KMap.ALIGNMENT.MAP|地图|map|

##### ScaleStep参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|zoom|true|number|-|层级|
|value|true|number|-|缩放比例，建议取值 0-1 之间，不然会影响打印覆盖物的清晰度|

##### ended函数参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|res|[EndedRes](#endedres参数说明)|-|结束回调信息|

###### EndedRes参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|status|number|-|10-成功,20-失败|
|data|string|-|自定义覆盖物的id，用于单个覆盖物的隐藏、显示、移除等操作|

### 示例


```javascript
var element = document.createElement('div');
element.className = 'addByIdClass';
element.innerHTML = '通过id删除';
element.style.width = '200px';
element.style.height = '50px';
kmap.addCustomOverlay({
    point: [120.89929016109369, 31.38588847078431],
    customProps: '通过id添加的自定义属性',
    element: element,
    customOverlaysType: 'addById',
    ended: function (res) {
        console.log(res);
    }
});
```


## removeCustomOverlayById

### 描述

通过 id 移除单个自定义覆盖物。

### 参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|options|true|[RemoveCustomOverlayByIdOptions](#removecustomoverlaybyidoptions参数说明)|-|-|

#### RemoveCustomOverlayByIdOptions参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|id|true|string\|Array&lt;string&gt;|-|自定义覆盖物id或id集合|
|groupName|false|string|-|自定义覆盖物分组名，如果存在，则是对分组内单个覆盖物的删除|

### 示例


```javascript
kmap.removeCustomOverlayById({
  id:  'overlaysId'
});
```


## removeCustomOverlaysByType

### 描述

删除某分组的自定义覆盖物，通过addCustomOverlays添加的自定义覆盖物分组type删除。

### 参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|options|true|[RemoveCustomOverlaysByTypeOptions](#removecustomoverlaysbytypeoptions参数说明)|-|-|

#### RemoveCustomOverlaysByTypeOptions参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|customOverlaysType|true|string|-|需要删除的覆盖物分组,传入自定义覆盖物分组type|

### 示例


```javascript
kmap.removeCustomOverlaysByType({
  customOverlaysType: 'overlaysType'
});
```


## showOverlaysByType

### 描述

显示覆盖物，根据批量添加的接口addCustomOverlays返回的分组标识设置。

### 参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|options|true|[ShowOverlaysByTypeOptions](#showoverlaysbytypeoptions参数说明)|-|-|

#### ShowOverlaysByTypeOptions参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|type|true|string|-|要显示的覆盖物分组type|
|ended|false|[Function](#function参数说明)|-|结束回调|

### 示例


```javascript
kmap.showOverlaysByType({ type: 'overlaysType' });
```


## showOverlayById

### 描述

显示单个自定义覆盖物。

### 参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|options|true|[ShowOverlayByIdOptions](#showoverlaybyidoptions参数说明)|-|-|

#### ShowOverlayByIdOptions参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|id|true|string|-|要显示的覆盖物id|
|ended|false|[Function](#function参数说明)|-|结束回调|

### 示例


```javascript
kmap.showOverlayById({ id: 'overlaysId' });
```


## hideOverlaysByType

### 描述

按分组隐藏覆盖物，根据批量添加的接口addCustomOverlays返回的分组type设置。

### 参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|options|true|[HideOverlaysByTypeOptions](#hideoverlaysbytypeoptions参数说明)|-|-|

#### HideOverlaysByTypeOptions参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|type|true|string|-|要隐藏的覆盖物，传入覆盖物分组type|
|ended|false|[Function](#function参数说明)|-|结束回调|

### 示例


```javascript
kmap.hideCustomOverlaysByType({ type: 'groupName' });
```


## hideOverlayById

### 描述

隐藏单个自定义覆盖物。

### 参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|options|true|[HideOverlayByIdOptions](#hideoverlaybyidoptions参数说明)|-|-|

#### HideOverlayByIdOptions参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|id|true|string|-|要隐藏的覆盖物，传入覆盖物的id|
|ended|false|[Function](#function参数说明)|-|结束回调|

### 示例


```javascript
kmap.hideOverlayById({ id: 'overlaysId' });
```


## addEventOnCustomOverlays

### 描述

通过选择器为自定义覆盖物添加事件，单个覆盖物每个类型的事件只能绑定一个监听器。如果出现点击覆盖物触发了在覆盖物下方图层的事件，可以在对应类型事件回调中添加event.stopPropagation()阻止触发图层事件。

### 参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|options|true|[AddEventOnCustomOverlaysOptions](#addeventoncustomoverlaysoptions参数说明)|-|-|

#### AddEventOnCustomOverlaysOptions参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|selector|true|string|-|自定义覆盖物绑定的type或者id使用之前请添加相关标识字符,单个覆盖物事件标识符为'#'，多个标识符为'.'|
|event|true|[OverlayEventType](#overlayeventtype参数说明)|-|事件类型|
|handler|true|[Function](#handler函数参数说明)|-|回调函数，接收的第一个参数为事件对象，第二个参数包含覆盖物位置及自定义属性信息|

##### OverlayEventType参数说明

|描述|实际值|
|:--|:--:|
|点击|click|
|双击|dblclick|
|右键|contextmenu|
|鼠标按下|mousedown|
|鼠标弹起|mouseup|
|鼠标进入|mouseenter|
|鼠标悬浮|mouseover|
|鼠标移动|mousemove|
|鼠标移出|mouseout|
|鼠标离开|mouseleave|
|拖拽开始|dragstart|
|拖拽|dragging|
|拖拽结束|dragend|

##### handler函数参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|event|[Event](#event参数说明)|-|事件对象|
|info|[HandlerInfo](#handlerinfo参数说明)|-|位置及自定义属性|

###### HandlerInfo参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|position|[LngLat](#lnglat参数说明（类型）)|-|经纬度|
|extraData|any|-|自定义属性|

###### LngLat参数说明（类型）

|参数名称|类型|说明|
|:--|:--:|:--|
|LngLat|[number, number]|经纬度坐标|

### 示例


```javascript
kmap.setCustomOverlayDraggable({
  id: 'overlaysId',
  draggable: true
});
kmap.addEventOnCustomOverlays({
  selector: '#overlaysId',
  event: 'dragstart',
  handler: function(evt, info) {
      console.log(evt, 'dragstart');
      console.log(info.position, info.extraData);
  }
});
kmap.addEventOnCustomOverlays({
  selector: '#overlaysId',
  event: 'dragging',
  handler: function(evt) {
      console.log(evt, 'dragging');
  }
});
kmap.addEventOnCustomOverlays({
  selector: '#overlaysId',
  event: 'dragend',
  handler: function(evt) {
      console.log(evt, 'dragend');
  }
});
```


## removeEventOnCustomOverlays

### 描述

按css选择器移除自定义覆盖物绑定的事件。

### 参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|options|true|[RemoveEventOnCustomOverlaysOptions](#removeeventoncustomoverlaysoptions参数说明)|-|-|

#### RemoveEventOnCustomOverlaysOptions参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|selector|true|string|-|自定义覆盖物绑定的type或者id使用之前请添加相关标识字符,单个覆盖物事件标识符为'#'，多个标识符为'.'|
|event|true|[OverlayEventType](#overlayeventtype参数说明)|-|事件类型|

##### OverlayEventType参数说明

|描述|实际值|
|:--|:--:|
|点击|click|
|双击|dblclick|
|右键|contextmenu|
|鼠标按下|mousedown|
|鼠标弹起|mouseup|
|鼠标进入|mouseenter|
|鼠标悬浮|mouseover|
|鼠标移动|mousemove|
|鼠标移出|mouseout|
|鼠标离开|mouseleave|
|拖拽开始|dragstart|
|拖拽|dragging|
|拖拽结束|dragend|

### 示例


```javascript
kmap.removeEventOnCustomOverlays({
  selector: '#overlaysId',
  event: 'click'
});
```


## getOverlayById

### 描述

根据id获取覆盖物信息，获取单个自定义覆盖物。

### 参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|options|true|[GetOverlayByIdOptions](#getoverlaybyidoptions参数说明)|-|-|

#### GetOverlayByIdOptions参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|id|true|string|-|marker、text、customerOverlay的id|
|callback|true|[Function](#callback函数参数说明)|-|包含覆盖物信息参数的回调函数|
|groupName|false|string|-|自定义覆盖物绑定的type或者id使用之前请添加相关标识字符,单个覆盖物事件标识符为'#'，多个标识符为'.'|

##### callback函数参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|event|[CallbackEvent](#callbackevent参数说明)|-|-|

###### CallbackEvent参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|status|number|-|10-成功,20-失败|
|data|[dataObject](#dataobject参数说明)|-|覆盖物信息|

###### dataObject参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|element|[HTMLElement](#htmlelement参数说明)|-|覆盖物对应的DOM元素|
|point|[LngLat](#lnglat参数说明（类型）)|-|覆盖物经纬度|

###### LngLat参数说明（类型）

|参数名称|类型|说明|
|:--|:--:|:--|
|LngLat|[number, number]|经纬度坐标|

### 示例


```javascript
kmap.getOverlayById({
  id: 'overlaysId',
  callback: function (res) {
      if (res.data) {
          alert(res.data.innerText);
      } else {
          alert('不存在覆盖物');
      }
  }
});
```


## getCustomOverlaysByType

### 描述

根据分组名称获取覆盖物信息，批量获取自定义覆盖物的信息。

### 参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|options|true|[GetCustomOverlaysByTypeOptions](#getcustomoverlaysbytypeoptions参数说明)|-|-|

#### GetCustomOverlaysByTypeOptions参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|customOverlaysType|true|string|-|需要获取的覆盖物分组，传入覆盖物分组type|
|callback|true|[Function](#callback函数参数说明)|-|包含覆盖物信息参数的回调函数|

##### callback函数参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|event|[CallbackEvent](#callbackevent参数说明)|-|结束回调信息|

###### CallbackEvent参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|status|number|-|10-成功,20-失败|
|data|Array&lt;[HTMLElement](#htmlelement参数说明)&gt;|-|覆盖物信息集合|

### 示例


```javascript
kmap.getCustomOverlaysByType({
  customOverlaysType: 'addByType',
  callback: function(res) {
      console.log(res.data);
  }
});
```


## getOverlayPropsById

### 描述

根据id获取覆盖物信息，可以是marker、text、customerOverlay。

### 参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|options|true|[GetOverlayPropsByIdOptions](#getoverlaypropsbyidoptions参数说明)|-|-|

#### GetOverlayPropsByIdOptions参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|id|true|string|-|marker、text、customerOverlay的id|
|callback|true|[Function](#callback函数参数说明)|-|包含覆盖物信息参数的回调函数|

##### callback函数参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|event|[CallbackEvent](#callbackevent参数说明)|-|结束回调信息|

###### CallbackEvent参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|status|number|-|10-成功,20-失败|
|data|any|-|覆盖物自定义属性|

### 示例


```javascript
kmap.getOverlayPropsById({
  id: 'overlaysId',
  callback: res => {
      alert(res.data)
  }
});
```


## setCustomOverlayProperty

### 描述

根据id或覆盖物分组type修改自定义覆盖物的属性。

### 参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|options|true|[SetCustomOverlayPropertyOptions](#setcustomoverlaypropertyoptions参数说明)|-|-|

#### SetCustomOverlayPropertyOptions参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|type|true|string|-|区分按照customOverlaysType或id修改, 可选值为'customOverlaysType', 'id'|
|id|false|string|-|自定义覆盖物对象的唯一标识，type=id时必填|
|customOverlaysType|false|string|-|自定义覆盖物分组type，type=customOverlaysType时必填|
|groupName|false|string|-|新的覆盖物分组名称|
|point|false|[LngLat](#lnglat参数说明（类型）)|-|要改变的点坐标, type=id, 读取该属性,type=id时必填|
|points|false|Array&lt;[LngLat](#lnglat参数说明（类型）)&gt;|-|要改变的点坐标集合, type=customOverlaysType, 读取该属性, 需要和创建时的顺序一致|
|customProps|false|any|-|新的覆盖物自定义属性|

##### LngLat参数说明（类型）

|参数名称|类型|说明|
|:--|:--:|:--|
|LngLat|[number, number]|经纬度坐标|

### 示例


```javascript
// 通过 id 修改
kmap.setCustomOverlayProperty({
  type: 'id',
  id: 'overlaysId',
  point: [121.05103881834157, 31.19107700584874],
  customProps: '这才是自定义属性'
});
// 通过 customOverlaysType 修改
kmap.setCustomOverlayProperty({
  type: 'customOverlaysType',
  customOverlaysType: 'overlaysType',
  customProps: '通过type添加的自定义属性2222',
  url: 'url'
});
```


## setCustomOverlayDraggable

### 描述

通过addCustomOverlay添加覆盖物时使用该事件设置覆盖物是否可拖拽。

### 参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|options|true|[SetCustomOverlayDraggableOptions](#setcustomoverlaydraggableoptions参数说明)|-|-|

#### SetCustomOverlayDraggableOptions参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|draggable|true|boolean|-|设置是否可拖拽，true-可拖拽，false-不可拖拽|
|id|true|string|-|自定义覆盖物的id|

### 示例


```javascript
kmap.setCustomOverlayDraggable({
  id: 'overlaysId',
  draggable: true
});
```


## setCustomOverlaysDraggable

### 描述

批量设置自定义覆盖物是否可拖拽

### 参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|options|true|[SetCustomOverlaysDraggableOptions](#setcustomoverlaysdraggableoptions参数说明)|-|-|

#### SetCustomOverlaysDraggableOptions参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|draggable|true|boolean|-|设置是否可拖拽，true-可拖拽，false-不可拖拽|
|markerType|true|string|-|自定义覆盖物的分组type|

### 示例


```javascript
kmap.setCustomOverlaysDraggable({
  markerType: 'overlaysType',
  draggable: true
});
```

## 信息窗体

## addPopup

### 描述

添加信息窗体。对于内容较多需要滚动条的信息窗体，可以通过添加class参数并在结束回调中绑定事件阻止滚轮滚动事件冒泡来支持滚轮操作，详情参考示例。

### 参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|options|true|[AddPopupOptions](#addpopupoptions参数说明)|-|-|

#### AddPopupOptions参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|point|true|[LngLat](#lnglat参数说明（类型）)|-|显示信息窗体的经纬度|
|htmlText|true|[String](#string参数说明)|-|popup中显示的内容, html字符串|
|offset|false|[Offset](#offset参数说明（类型）)|[0, 0]|相对于锚点的偏移量(offset参数在设置'anchor'时无法达到相应要求后设置，通常情况下建议优先设置'anchor')|
|anchor|false|[Anchor](#anchor参数说明)|KMap.ANCHOR.CENTER|信息窗体锚点位置|
|tipPosition|false|string|-|popup箭头显示位置，可选值'top'、'bottom'、'left'、'right'|
|closeButton|false|boolean|false|是否显示关闭按钮|
|afterClose|false|[Function](#afterclose函数参数说明)|-|窗体关闭后的回调|
|class|false|string|-|覆盖物DOM类名，使用此参数设置样式时需要注意，窗体的默认行内样式的优先级比此参数高|
|zIndex|false|number|100|覆盖物堆叠顺序，通过该属性使级别较高的窗体在上层显示，值越大，位置越靠上|
|ended|false|[Function](#ended函数参数说明)|-|结束回调,返回信息窗体id|

##### LngLat参数说明（类型）

|参数名称|类型|说明|
|:--|:--:|:--|
|LngLat|[number, number]|经纬度坐标|

##### Offset参数说明（类型）

|参数名称|类型|说明|
|:--|:--:|:--|
|Offset|[number, number]|相对于锚点偏移量|

##### Anchor参数说明

|参数名称|描述|实际值|
|:--|:--|:--:|
|KMap.ANCHOR.CENTER|中心|center|
|KMap.ANCHOR.TOP|顶部|top|
|KMap.ANCHOR.BOTTOM|底部|bottom|
|KMap.ANCHOR.LEFT|左侧|left|
|KMap.ANCHOR.RIGHT|右侧|right|
|KMap.ANCHOR.TOP_LEFT|左上方|top-left|
|KMap.ANCHOR.TOP_RIGHT|右上方|top-right|
|KMap.ANCHOR.BOTTOM_LEFT|左下方|bottom-left|
|KMap.ANCHOR.BOTTOM_RIGHT|右下方|bottom-right|

##### ended函数参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|res|[EndedRes](#endedres参数说明)|-|结束回调信息|

###### EndedRes参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|status|number|-|10-成功,20-失败|
|data|string|-|当前添加的信息窗体的id|

### 示例


```javascript
// 通过点坐标创建
kmap.addPopup({
  htmlText: '这是Popup',
  closeButton: true,
  anchor: 'bottom',
  offset:[30,-30],
  point: [120.58, 31.29],
  ended: function (res) {
      console.log(res);
  }
});

// 支持滚动条的信息窗体
// css 请添加到样式文件中
.custom-popup .kmap-popup-content {
  height: 100px;
  overflow: auto;
}
// js
const content = '<div style="height: 300px;">很多内容...</div>';
  kmap.addPopup({
    class: 'custom-popup',  // 指定className
    anchor: 'bottom',
    point: center,
    htmlText: content,
    ended: function (popup) {
    // 查询指定元素
    const customPop = document.querySelector('.custom-popup');
    if (customPop) {
      // 阻止滚轮事件冒泡
      customPop.addEventListener('mousewheel', (e) => {
          e.stopPropagation();
      })
    }
  }
});
```


## removePopup

### 描述

删除信息窗体。

### 参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|options|true|[RemovePopupOptions](#removepopupoptions参数说明)|-|-|

#### RemovePopupOptions参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|popup|true|string|-|需要删除的信息窗体，传入信息窗体的id|

### 示例


```javascript
kmap.removePopup({
  popup: 'popupId' // popupId为创建时返回的唯一id
});
```


## removeAllPopups

### 描述

删除所有信息窗体

### 示例


```javascript
kmap.removeAllPopups();
```

# 服务查询

## 行政区划

## getAdminInfoByPoint

### 描述

根据点坐标查询该点所在的行政区划信息，要使用镇、街道、网格类型需要先添加对应数据。

### 参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|opts|true|[GetAdminInfoByPointOptions](#getadmininfobypointoptions参数说明)|-|-|

#### GetAdminInfoByPointOptions参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|point|true|[LngLat](#lnglat参数说明（类型）)|-|查询的点坐标|
|level|false|string|'district'| 行政区划等级，province-省 、city-市、district-区、town-镇、street-街道、grid-网格|
|callback|true|[Function](#callback函数参数说明)|-|回调函数|
|onError|false|[Function](#onerror函数参数说明)|-|错误回调函数|

##### LngLat参数说明（类型）

|参数名称|类型|说明|
|:--|:--:|:--|
|LngLat|[number, number]|经纬度坐标|

##### callback函数参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|res|[CallbackRes](#callbackres参数说明)|-|结束回调信息|

###### CallbackRes参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|status|number|-|10-成功,20-失败|
|data|[dataObject](#dataobject参数说明)|-|响应结果|

###### dataObject参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|geometry|object|-|几何图形|
|adminId|number|-|行政编码|
|type|string|-|类型|
|nameZh|string|-|中文名称|
|parentId|number|-|父级区域编码|
|cityadcode|number|-|归属地级市区域编码|
|proadcode|number|-|归属省区域编码|
|scale|string|-|比例尺|
|cityName|string|-|城市|
|provinceName|string|-|省份|
|distritctAdCode|number|-|区行政编码|
|distritctName|number|-|区名称|
|streetAdCode|number|-|街道行政编码街道行政编码|
|streetName|number|-|街道名称|

##### onError函数参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|error|[IErrorCodeInfo](#ierrorcodeinfo参数说明)|-|错误信息|

###### IErrorCodeInfo参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|code|string|-|错误码编号|
|message|string|-|错误信息|

### 示例


```
kmap.getAdminInfoByPoint({
   point: [120, 30],
   callback: function (res) {
       if (res.status === 10) {
           console.log(res.data);
       }
   }
});
```


## getGeometryByAdminCode

### 描述

根据行政编码获取几何图形数据。

### 参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|opts|true|[GetGeometryByAdminCodeOptions](#getgeometrybyadmincodeoptions参数说明)|-|-|

#### GetGeometryByAdminCodeOptions参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|code|true|string|-|行政编码|
|toWgs84|false|boolean|false| 是否转换成wgs84坐标系, 默认为gcj02坐标系|
|containsSon|false|boolean|-|是否需要返回下一级的行政区划列表|
|callback|true|[Function](#callback函数参数说明)|-|回调函数|
|onError|false|[Function](#onerror函数参数说明)|-|错误回调函数|

##### callback函数参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|res|[CallbackRes](#callbackres参数说明)|-|结束回调信息|

###### CallbackRes参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|status|number|-|10-成功,20-失败|
|data|any|-|响应结果|

##### onError函数参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|error|[IErrorCodeInfo](#ierrorcodeinfo参数说明)|-|错误信息|

###### IErrorCodeInfo参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|code|string|-|错误码编号|
|message|string|-|错误信息|

### 示例


```
kmap.getGeometryByAdminCode({
   code: '110000',
   callback: function (res) {
       console.log(res);
   }
});
```


## pointInAdcode

### 描述

判断点是否在指定行政区划内

### 参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|opts|true|[PointInAdcodeOptions](#pointinadcodeoptions参数说明)|-|-|

#### PointInAdcodeOptions参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|point|true|[LngLat](#lnglat参数说明（类型）)|-|查询的点坐标|
|coordinateType|false|number|-|坐标系，1=02坐标系，3=84坐标系|
|adcode|true|string|-|行政区划编码|
|callback|true|[Function](#callback函数参数说明)|-|回调函数|
|onError|false|[Function](#onerror函数参数说明)|-|错误回调函数|

##### LngLat参数说明（类型）

|参数名称|类型|说明|
|:--|:--:|:--|
|LngLat|[number, number]|经纬度坐标|

##### callback函数参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|res|[CallbackRes](#callbackres参数说明)|-|结束回调信息|

###### CallbackRes参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|status|number|-|10-成功,20-失败|
|data|boolean|-|响应结果, true=在,false=不在|

##### onError函数参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|error|[IErrorCodeInfo](#ierrorcodeinfo参数说明)|-|错误信息|

###### IErrorCodeInfo参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|code|string|-|错误码编号|
|message|string|-|错误信息|

### 示例


```
kmap.pointInAdcode({
   point: [120.58, 31.29],
   coordinateType: 1,
   adcode: '320505',
   callback: function(res) {
       // 接收返回数据
   }
});
```


## addAdminBoundary

### 描述

根据指定code添加行政区划边界。

### 参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|opts|true|[AddAdminBoundaryOptions](#addadminboundaryoptions参数说明)|-|-|

#### AddAdminBoundaryOptions参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|code|true|string|-|行政编码|
|lineStyle|false|[LineStyle](#linestyle参数说明)|-|边界线条样式|
|callback|true|[Function](#callback函数参数说明)|-|回调函数|
|onError|false|[Function](#onerror函数参数说明)|-|错误回调函数|

##### LineStyle参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|line-color|false|string|-|填充颜色|
|line-opacity|false|number|-|透明度|
|line-pattern|false|string|-|填充纹理, 指定一个图标的名称,图标可以通过addImage方法添加|
|line-translate|false|[number, number]|-|几何偏移量, [x,y]|
|line-translate-anchor|false|string|-|偏移相对锚点, 可选值有'map','viewport'|
|line-width|false|number|-|宽度|
|line-gap-width|false|number|-|内部间隙宽度|
|line-offset|false|[number, number]|-|相对于线方向偏移|
|line-blur|false|number|-|绘制阴影|
|line-dasharray|false|[number, number]|-|虚线线段的长度及间距，例：[0.2, 2]|

##### callback函数参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|res|[CallbackRes](#callbackres参数说明)|-|结束回调信息|

###### CallbackRes参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|status|number|-|10-成功,20-失败|
|data|any|-|响应结果|

##### onError函数参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|error|[IErrorCodeInfo](#ierrorcodeinfo参数说明)|-|错误信息|

###### IErrorCodeInfo参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|code|string|-|错误码编号|
|message|string|-|错误信息|

### 示例


```
kmap.addAdminBoundary({
       code: '320500',
       lineStyle: {
           'line-color': 'red'
       },
       callback: function(res) {
           console.log(res);
       }
  });
```


## getAdminInfoByPolygon

### 描述

根据面数据获取与之相交的行政区划信息

### 参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|opts|true|[GetAdminInfoByPolygonOptions](#getadmininfobypolygonoptions参数说明)|-|-|

#### GetAdminInfoByPolygonOptions参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|level|true|[LngLat](#lnglat参数说明（类型）)|-|行政区划等级。province：省、city：市、district：区县|
|polygon|true|Array&lt;[LngLat](#lnglat参数说明（类型）)&gt;\|Array&lt;Array&lt;Array&lt;[LngLat](#lnglat参数说明（类型）)&gt;&gt;&gt;|-|查询的面信息，支持2维数组单面或4维数组多面|
|callback|true|[Function](#callback函数参数说明)|-|回调函数|
|onError|false|[Function](#onerror函数参数说明)|-|错误回调函数|

##### LngLat参数说明（类型）

|参数名称|类型|说明|
|:--|:--:|:--|
|LngLat|[number, number]|经纬度坐标|

##### callback函数参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|res|[CallbackRes](#callbackres参数说明)|-|结束回调信息|

###### CallbackRes参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|status|number|-|10-成功,20-失败|
|data|Array&lt;object&gt;|-|返回匹配行政区域的数据|

##### onError函数参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|error|[IErrorCodeInfo](#ierrorcodeinfo参数说明)|-|-|

###### IErrorCodeInfo参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|code|string|-|错误码编号|
|message|string|-|错误信息|

### 示例


```
kmap.getAdminInfoByPolygon({
    level: 'city',
        polygon: [
           [120.29033504882847, 31.230705386912092],
           [120.29033504882847, 31.491035962130553],
           [120.72704159179773, 31.491035962130553],
           [120.72704159179773, 31.230705386912092],
           [120.29033504882847, 31.230705386912092]
        ],
    callback: function (res) {
        console.log(res);
    }
});
```


## 业务数据

## queryCustomInfoByType

### 描述

根据关键字、区域进行自有数据搜索。

### 参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|opts|true|[QueryCustomInfoByTypeOptions](#querycustominfobytypeoptions参数说明)|-|-|

#### QueryCustomInfoByTypeOptions参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|serviceName|true|string|-|查询数据对应的后端标识|
|adcode|false|string|-|查询区域的行政编码,此参数优先级高于points|
|maxCount|false|number|50|每页最大返回数量|
|pageNo|false|number|1|页码, 最小为1|
|points|false|Array&lt;[LngLat](#lnglat参数说明（类型）)&gt;\|Array&lt;Array&lt;Array&lt;[LngLat](#lnglat参数说明（类型）)&gt;&gt;&gt;|-|查询的面信息，支持2维数组单面或4维数组多面|
|isPublic|false|boolean|false|是否查询公有空间数据|
|mixTerms|false|Array&lt;[Term](#term参数说明)&gt;|-|查询过滤条件, 支持多条件搜索,详见自有数据查询的term|
|sorts|false|Array&lt;[SortColumn](#sortcolumn参数说明)\|[SortOrigin](#sortorigin参数说明)&gt;|-|排序条件，支持按照字段名称/指定点进行升序/降序|
|through|false|Array&lt;[ThroughNet](#throughnet参数说明)&gt;|-|穿网设置。详见下方through参数说明|
|callback|true|[Function](#callback函数参数说明)|-|回调函数|
|onError|false|[Function](#onerror函数参数说明)|-|错误回调函数|

##### LngLat参数说明（类型）

|参数名称|类型|说明|
|:--|:--:|:--|
|LngLat|[number, number]|经纬度坐标|

##### Term参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|column|true|string|-|过滤字段，对于人员账号，需要传 targetType 值为 5；对于重点人员，需要传 targetType 值为 27；其它情况默认无需填写|
|termType|true|string|-|过滤条件,例如eq,neq,like,nlike,gt,lt,gte,lte,in,nin,prefix,subfix,isnull,notnull,should。其中like、nlike、prefix、subfix只能用于过滤值为字符串类型。|
|value|true|string\|number\|Array&lt;number&gt;\|Array&lt;string&gt;|-|过滤值|
|type|false|string|'and'|term之间的过滤关系.可选"and"和"or",如果存在至少一个and,过滤所有and对应的并集,如果全部是or,返回所有数据， 如果要过滤某个条件可以匹配多个值中的任何一个， 可以使用termType="in".|
|filterType|false|number|0|公有属性及私有属性标记，0为私有属性，1为公有属性，在查询公有图层数据时，根据该字段区分公私有属性，不填默认为私有|
|analyzeEnum|false|string|'not_analyze'|userId、deptId、roleId必须设置成default_analyze,上传数据指定的拼音分词需要设置成pinyin_analyze,默认不分词|
|terms|false|Array&lt;[Term](#term参数说明)&gt;|-|即当前Term，支持循环使用|

##### SortColumn参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|column|true|string|-|排序字段|
|type|true|string|-|排序类型 asc或者desc|

##### SortOrigin参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|origin|true|[number, number]|-|源坐标|
|type|true|string|-|排序类型 ase或者desc|

##### ThroughNet参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|netFlag|false|number|-|穿网标识 0-穿网 1-不穿网 不填默认不穿网|
|netUrls|false|Array&lt;string&gt;|-|穿网转发ctserver对应服务ip或ip+port，目前只支持一个，固定 size为1，例："netUrls":["10.68.2.27"]或"netUrls":["127.0.0.1:8092"]|

##### callback函数参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|res|[CallbackRes](#callbackres参数说明)|-|结束回调信息|

###### CallbackRes参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|status|number|-|10-成功,20-失败|
|data|Array&lt;[BusinessDataType](#businessdatatype参数说明)&gt;|-|响应结果|
|total|number|-|总条数|

###### BusinessDataType参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|appName|string|-|应用名称|
|serviceName|string|-|图层标识|
|dataId|string|-|业务数据id|
|dataTime|string|-|数据产生时间|
|infoTime|string|-|数据入库时间|
|location|object|-|geojson数据|

##### onError函数参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|error|[IErrorCodeInfo](#ierrorcodeinfo参数说明)|-|错误信息|

###### IErrorCodeInfo参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|code|string|-|错误码编号|
|message|string|-|错误信息|

### 示例


```
kmap.queryCustomInfoByType({
   serviceName: '32',
   mixTerms: [
           {
               column: 'dataId',
               value: 'keyword',
               termType: 'like',
               filterType: 1
           }
       ],
   // sorts: [
   //     {
   //         column: 'dataId',
   //         type: 'asc'
   //     }
   // ],
   // sorts: [
   //     {
   //         origin: [120.54341, 31.29950],
   //         type: 'asc'
   //     }
   // ],
   callback: function (res) {
       console.log(res);
   }
});
```


## queryCustomTriangleSpace

### 描述

搜索绘制的三角形内的业务数据信息。

### 参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|opts|true|[QueryCustomTriangleSpaceOptions](#querycustomtrianglespaceoptions参数说明)|-|-|

#### QueryCustomTriangleSpaceOptions参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|serviceName|true|string|-|查询数据对应的后端标识|
|mixTerms|false|Array&lt;[Term](#term参数说明)&gt;|-|查询过滤条件, 支持多条件搜索,详见自有数据查询的term|
|isPublic|false|boolean|false|是否查询公有空间数据|
|maxCount|false|number|10| 查询最大返回数量|
|pageNo|false|number|1|页码, 最小为1|
|callback|true|[Function](#callback函数参数说明)|-|回调函数|
|onError|false|[Function](#onerror函数参数说明)|-|错误回调函数|

##### Term参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|column|true|string|-|过滤字段，对于人员账号，需要传 targetType 值为 5；对于重点人员，需要传 targetType 值为 27；其它情况默认无需填写|
|termType|true|string|-|过滤条件,例如eq,neq,like,nlike,gt,lt,gte,lte,in,nin,prefix,subfix,isnull,notnull,should。其中like、nlike、prefix、subfix只能用于过滤值为字符串类型。|
|value|true|string\|number\|Array&lt;number&gt;\|Array&lt;string&gt;|-|过滤值|
|type|false|string|'and'|term之间的过滤关系.可选"and"和"or",如果存在至少一个and,过滤所有and对应的并集,如果全部是or,返回所有数据， 如果要过滤某个条件可以匹配多个值中的任何一个， 可以使用termType="in".|
|filterType|false|number|0|公有属性及私有属性标记，0为私有属性，1为公有属性，在查询公有图层数据时，根据该字段区分公私有属性，不填默认为私有|
|analyzeEnum|false|string|'not_analyze'|userId、deptId、roleId必须设置成default_analyze,上传数据指定的拼音分词需要设置成pinyin_analyze,默认不分词|
|terms|false|Array&lt;[Term](#term参数说明)&gt;|-|即当前Term，支持循环使用|

##### callback函数参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|res|[CallbackRes](#callbackres参数说明)|-|结束回调信息|

###### CallbackRes参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|status|number|-|10-成功,20-失败|
|data|Array&lt;[BusinessDataType](#businessdatatype参数说明)&gt;|-|响应结果|
|total|number|-|总条数|

###### BusinessDataType参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|appName|string|-|应用名称|
|serviceName|string|-|图层标识|
|dataId|string|-|业务数据id|
|dataTime|string|-|数据产生时间|
|infoTime|string|-|数据入库时间|
|location|object|-|geojson数据|

##### onError函数参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|error|[IErrorCodeInfo](#ierrorcodeinfo参数说明)|-|错误信息|

###### IErrorCodeInfo参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|code|string|-|错误码编号|
|message|string|-|错误信息|

### 示例


```
kmap.queryCustomTriangleSpace({
   serviceName: '13',
   callback: function (res) {
       console.log(res); // 查询到的数据
   }
});
```


## queryCustomCircularSpace

### 描述

搜索绘制的圆形内的业务数据信息。

### 参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|opts|true|[QueryCustomCircularSpaceOptions](#querycustomcircularspaceoptions参数说明)|-|-|

#### QueryCustomCircularSpaceOptions参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|serviceName|true|string|-|查询数据对应的后端标识|
|mixTerms|false|Array&lt;[Term](#term参数说明)&gt;|-|查询过滤条件, 支持多条件搜索,详见自有数据查询的term|
|isPublic|false|boolean|false|是否查询公有空间数据|
|maxCount|false|number|10| 查询最大返回数量|
|pageNo|false|number|1|页码, 最小为1|
|callback|true|[Function](#callback函数参数说明)|-|回调函数|
|onError|false|[Function](#onerror函数参数说明)|-|错误回调函数|

##### Term参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|column|true|string|-|过滤字段，对于人员账号，需要传 targetType 值为 5；对于重点人员，需要传 targetType 值为 27；其它情况默认无需填写|
|termType|true|string|-|过滤条件,例如eq,neq,like,nlike,gt,lt,gte,lte,in,nin,prefix,subfix,isnull,notnull,should。其中like、nlike、prefix、subfix只能用于过滤值为字符串类型。|
|value|true|string\|number\|Array&lt;number&gt;\|Array&lt;string&gt;|-|过滤值|
|type|false|string|'and'|term之间的过滤关系.可选"and"和"or",如果存在至少一个and,过滤所有and对应的并集,如果全部是or,返回所有数据， 如果要过滤某个条件可以匹配多个值中的任何一个， 可以使用termType="in".|
|filterType|false|number|0|公有属性及私有属性标记，0为私有属性，1为公有属性，在查询公有图层数据时，根据该字段区分公私有属性，不填默认为私有|
|analyzeEnum|false|string|'not_analyze'|userId、deptId、roleId必须设置成default_analyze,上传数据指定的拼音分词需要设置成pinyin_analyze,默认不分词|
|terms|false|Array&lt;[Term](#term参数说明)&gt;|-|即当前Term，支持循环使用|

##### callback函数参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|res|[CallbackRes](#callbackres参数说明)|-|结束回调信息|

###### CallbackRes参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|status|number|-|10-成功,20-失败|
|data|Array&lt;[BusinessDataType](#businessdatatype参数说明)&gt;|-|响应结果|

###### BusinessDataType参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|appName|string|-|应用名称|
|serviceName|string|-|图层标识|
|dataId|string|-|业务数据id|
|dataTime|string|-|数据产生时间|
|infoTime|string|-|数据入库时间|
|location|object|-|geojson数据|

##### onError函数参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|error|[IErrorCodeInfo](#ierrorcodeinfo参数说明)|-|错误信息|

###### IErrorCodeInfo参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|code|string|-|错误码编号|
|message|string|-|错误信息|

### 示例


```
kmap.queryCustomCircularSpace({
   serviceName: '32',
   callback: function (res) {
       console.log(res); // 查询到的数据
   }
});
```


## queryCustomRectangleSpace

### 描述

搜索绘制的矩形内的业务数据信息。

### 参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|opts|true|[QueryCustomRectangleSpaceOptions](#querycustomrectanglespaceoptions参数说明)|-|-|

#### QueryCustomRectangleSpaceOptions参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|serviceName|true|string|-|查询数据对应的后端标识|
|mixTerms|false|Array&lt;[Term](#term参数说明)&gt;|-|查询过滤条件, 支持多条件搜索,详见自有数据查询的term|
|isPublic|false|boolean|false|是否查询公有空间数据|
|maxCount|false|number|10| 查询最大返回数量|
|pageNo|false|number|1|页码, 最小为1|
|callback|true|[Function](#callback函数参数说明)|-|回调函数|
|onError|false|[Function](#onerror函数参数说明)|-|错误回调函数|

##### Term参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|column|true|string|-|过滤字段，对于人员账号，需要传 targetType 值为 5；对于重点人员，需要传 targetType 值为 27；其它情况默认无需填写|
|termType|true|string|-|过滤条件,例如eq,neq,like,nlike,gt,lt,gte,lte,in,nin,prefix,subfix,isnull,notnull,should。其中like、nlike、prefix、subfix只能用于过滤值为字符串类型。|
|value|true|string\|number\|Array&lt;number&gt;\|Array&lt;string&gt;|-|过滤值|
|type|false|string|'and'|term之间的过滤关系.可选"and"和"or",如果存在至少一个and,过滤所有and对应的并集,如果全部是or,返回所有数据， 如果要过滤某个条件可以匹配多个值中的任何一个， 可以使用termType="in".|
|filterType|false|number|0|公有属性及私有属性标记，0为私有属性，1为公有属性，在查询公有图层数据时，根据该字段区分公私有属性，不填默认为私有|
|analyzeEnum|false|string|'not_analyze'|userId、deptId、roleId必须设置成default_analyze,上传数据指定的拼音分词需要设置成pinyin_analyze,默认不分词|
|terms|false|Array&lt;[Term](#term参数说明)&gt;|-|即当前Term，支持循环使用|

##### callback函数参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|res|[CallbackRes](#callbackres参数说明)|-|结束回调信息|

###### CallbackRes参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|status|number|-|10-成功,20-失败|
|data|Array&lt;[BusinessDataType](#businessdatatype参数说明)&gt;|-|响应结果|

###### BusinessDataType参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|appName|string|-|应用名称|
|serviceName|string|-|图层标识|
|dataId|string|-|业务数据id|
|dataTime|string|-|数据产生时间|
|infoTime|string|-|数据入库时间|
|location|object|-|geojson数据|

##### onError函数参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|error|[IErrorCodeInfo](#ierrorcodeinfo参数说明)|-|错误信息|

###### IErrorCodeInfo参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|code|string|-|错误码编号|
|message|string|-|错误信息|

### 示例


```
kmap.queryCustomRectangleSpace({
   serviceName: '32',
   callback: function (res) {
       console.log(res); // 查询到的数据
   }
});
```


## queryCustomPolygonSpace

### 描述

搜索绘制的多边形内的业务数据信息。

### 参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|opts|true|[QueryCustomPolygonSpaceOptions](#querycustompolygonspaceoptions参数说明)|-|-|

#### QueryCustomPolygonSpaceOptions参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|serviceName|true|string|-|查询数据对应的后端标识|
|mixTerms|false|Array&lt;[Term](#term参数说明)&gt;|-|查询过滤条件, 支持多条件搜索,详见自有数据查询的term|
|isPublic|false|boolean|false|是否查询公有空间数据|
|maxCount|false|number|10| 查询最大返回数量|
|pageNo|false|number|1|页码, 最小为1|
|callback|true|[Function](#callback函数参数说明)|-|回调函数|
|onError|false|[Function](#onerror函数参数说明)|-|错误回调函数|

##### Term参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|column|true|string|-|过滤字段，对于人员账号，需要传 targetType 值为 5；对于重点人员，需要传 targetType 值为 27；其它情况默认无需填写|
|termType|true|string|-|过滤条件,例如eq,neq,like,nlike,gt,lt,gte,lte,in,nin,prefix,subfix,isnull,notnull,should。其中like、nlike、prefix、subfix只能用于过滤值为字符串类型。|
|value|true|string\|number\|Array&lt;number&gt;\|Array&lt;string&gt;|-|过滤值|
|type|false|string|'and'|term之间的过滤关系.可选"and"和"or",如果存在至少一个and,过滤所有and对应的并集,如果全部是or,返回所有数据， 如果要过滤某个条件可以匹配多个值中的任何一个， 可以使用termType="in".|
|filterType|false|number|0|公有属性及私有属性标记，0为私有属性，1为公有属性，在查询公有图层数据时，根据该字段区分公私有属性，不填默认为私有|
|analyzeEnum|false|string|'not_analyze'|userId、deptId、roleId必须设置成default_analyze,上传数据指定的拼音分词需要设置成pinyin_analyze,默认不分词|
|terms|false|Array&lt;[Term](#term参数说明)&gt;|-|即当前Term，支持循环使用|

##### callback函数参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|res|[CallbackRes](#callbackres参数说明)|-|结束回调信息|

###### CallbackRes参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|status|number|-|10-成功,20-失败|
|data|Array&lt;[BusinessDataType](#businessdatatype参数说明)&gt;|-|响应结果|

###### BusinessDataType参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|appName|string|-|应用名称|
|serviceName|string|-|图层标识|
|dataId|string|-|业务数据id|
|dataTime|string|-|数据产生时间|
|infoTime|string|-|数据入库时间|
|location|object|-|geojson数据|

##### onError函数参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|error|[IErrorCodeInfo](#ierrorcodeinfo参数说明)|-|错误信息|

###### IErrorCodeInfo参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|code|string|-|错误码编号|
|message|string|-|错误信息|

### 示例


```
kmap.queryCustomPolygonSpace({
   serviceName: '32',
   callback: function (res) {
       console.log(res.status); // 10 或者 20
       console.log(res.data); // 查询到的数据
   }
});
```


## queryCustomSectorSpace

### 描述

扇形空间自有数据查询。

### 参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|opts|true|[QueryCustomSectorSpaceOptions](#querycustomsectorspaceoptions参数说明)|-|-|

#### QueryCustomSectorSpaceOptions参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|serviceName|true|string|-|查询数据对应的后端标识|
|mixTerms|false|Array&lt;[Term](#term参数说明)&gt;|-|查询过滤条件, 支持多条件搜索,详见自有数据查询的term|
|isPublic|false|boolean|false|是否查询公有空间数据|
|maxCount|false|number|10| 查询最大返回数量|
|pageNo|false|number|1|页码, 最小为1|
|callback|true|[Function](#callback函数参数说明)|-|回调函数|
|onError|false|[Function](#onerror函数参数说明)|-|错误回调函数|

##### Term参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|column|true|string|-|过滤字段，对于人员账号，需要传 targetType 值为 5；对于重点人员，需要传 targetType 值为 27；其它情况默认无需填写|
|termType|true|string|-|过滤条件,例如eq,neq,like,nlike,gt,lt,gte,lte,in,nin,prefix,subfix,isnull,notnull,should。其中like、nlike、prefix、subfix只能用于过滤值为字符串类型。|
|value|true|string\|number\|Array&lt;number&gt;\|Array&lt;string&gt;|-|过滤值|
|type|false|string|'and'|term之间的过滤关系.可选"and"和"or",如果存在至少一个and,过滤所有and对应的并集,如果全部是or,返回所有数据， 如果要过滤某个条件可以匹配多个值中的任何一个， 可以使用termType="in".|
|filterType|false|number|0|公有属性及私有属性标记，0为私有属性，1为公有属性，在查询公有图层数据时，根据该字段区分公私有属性，不填默认为私有|
|analyzeEnum|false|string|'not_analyze'|userId、deptId、roleId必须设置成default_analyze,上传数据指定的拼音分词需要设置成pinyin_analyze,默认不分词|
|terms|false|Array&lt;[Term](#term参数说明)&gt;|-|即当前Term，支持循环使用|

##### callback函数参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|res|[CallbackRes](#callbackres参数说明)|-|结束回调信息|

###### CallbackRes参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|status|number|-|10-成功,20-失败|
|data|Array&lt;[BusinessDataType](#businessdatatype参数说明)&gt;|-|响应结果|
|total|number|-|总条数|

###### BusinessDataType参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|appName|string|-|应用名称|
|serviceName|string|-|图层标识|
|dataId|string|-|业务数据id|
|dataTime|string|-|数据产生时间|
|infoTime|string|-|数据入库时间|
|location|object|-|geojson数据|

##### onError函数参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|error|[IErrorCodeInfo](#ierrorcodeinfo参数说明)|-|错误信息|

###### IErrorCodeInfo参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|code|string|-|错误码编号|
|message|string|-|错误信息|

### 示例


```
kmap.queryCustomSectorSpace({
   serviceName: '13',
   callback: function (res) {
       console.log(res.status); // 10 或者 20
       console.log(res.data); // 查询到的数据
   }
});
```


## queryCustomPointBuffer

### 描述

根据点的缓冲区范围查询自有数据。

### 参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|opts|true|[QueryCustomPointBufferOptions](#querycustompointbufferoptions参数说明)|-|-|

#### QueryCustomPointBufferOptions参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|point|true|[LngLat](#lnglat参数说明（类型）)|-|查询的点坐标|
|radius|false|number|1|查询半径，单位千米|
|serviceName|true|string|-| 查询数据对应的后端标识|
|isPublic|false|boolean|false| 是否查询公有空间数据|
|maxCount|false|number|50| 查询最大返回数量|
|pageNo|false|number|1|页码, 最小为1|
|mixTerms|false|Array&lt;[Term](#term参数说明)&gt;|-|查询过滤条件, 支持多条件搜索,详见自有数据查询的term|
|callback|true|[Function](#callback函数参数说明)|-|回调函数|
|onError|false|[Function](#onerror函数参数说明)|-|错误回调函数|

##### LngLat参数说明（类型）

|参数名称|类型|说明|
|:--|:--:|:--|
|LngLat|[number, number]|经纬度坐标|

##### Term参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|column|true|string|-|过滤字段，对于人员账号，需要传 targetType 值为 5；对于重点人员，需要传 targetType 值为 27；其它情况默认无需填写|
|termType|true|string|-|过滤条件,例如eq,neq,like,nlike,gt,lt,gte,lte,in,nin,prefix,subfix,isnull,notnull,should。其中like、nlike、prefix、subfix只能用于过滤值为字符串类型。|
|value|true|string\|number\|Array&lt;number&gt;\|Array&lt;string&gt;|-|过滤值|
|type|false|string|'and'|term之间的过滤关系.可选"and"和"or",如果存在至少一个and,过滤所有and对应的并集,如果全部是or,返回所有数据， 如果要过滤某个条件可以匹配多个值中的任何一个， 可以使用termType="in".|
|filterType|false|number|0|公有属性及私有属性标记，0为私有属性，1为公有属性，在查询公有图层数据时，根据该字段区分公私有属性，不填默认为私有|
|analyzeEnum|false|string|'not_analyze'|userId、deptId、roleId必须设置成default_analyze,上传数据指定的拼音分词需要设置成pinyin_analyze,默认不分词|
|terms|false|Array&lt;[Term](#term参数说明)&gt;|-|即当前Term，支持循环使用|

##### callback函数参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|res|[CallbackRes](#callbackres参数说明)|-|结束回调信息|

###### CallbackRes参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|status|number|-|10-成功,20-失败|
|data|Array&lt;[BusinessDataType](#businessdatatype参数说明)&gt;|-|响应结果|
|total|number|-|总条数|

###### BusinessDataType参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|appName|string|-|应用名称|
|serviceName|string|-|图层标识|
|dataId|string|-|业务数据id|
|dataTime|string|-|数据产生时间|
|infoTime|string|-|数据入库时间|
|location|object|-|geojson数据|

##### onError函数参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|error|[IErrorCodeInfo](#ierrorcodeinfo参数说明)|-|错误信息|

###### IErrorCodeInfo参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|code|string|-|错误码编号|
|message|string|-|错误信息|

### 示例


```
kmap.queryCustomPointBuffer({
   point: [120, 30], // 一维数组, 点坐标
   serviceName: '32',
   callback: function (res) {
       console.log(res);
   }
});
```


## queryCustomLineBuffer

### 描述

根据线缓冲区范围查询自有数据。

### 参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|opts|true|[QueryCustomLineBufferOptions](#querycustomlinebufferoptions参数说明)|-|-|

#### QueryCustomLineBufferOptions参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|polyline|true|Array&lt;[LngLat](#lnglat参数说明（类型）)&gt;|-|线的点坐标集合|
|radius|false|number|1|查询半径，单位千米|
|serviceName|true|string|-| 查询数据对应的后端标识|
|isPublic|false|boolean|false| 是否查询公有空间数据|
|maxCount|false|number|50| 查询最大返回数量|
|pageNo|false|number|1|页码, 最小为1|
|mixTerms|false|Array&lt;[Term](#term参数说明)&gt;|-|查询过滤条件, 支持多条件搜索,详见自有数据查询的term|
|callback|true|[Function](#callback函数参数说明)|-|回调函数|
|onError|false|[Function](#onerror函数参数说明)|-|错误回调函数|

##### LngLat参数说明（类型）

|参数名称|类型|说明|
|:--|:--:|:--|
|LngLat|[number, number]|经纬度坐标|

##### Term参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|column|true|string|-|过滤字段，对于人员账号，需要传 targetType 值为 5；对于重点人员，需要传 targetType 值为 27；其它情况默认无需填写|
|termType|true|string|-|过滤条件,例如eq,neq,like,nlike,gt,lt,gte,lte,in,nin,prefix,subfix,isnull,notnull,should。其中like、nlike、prefix、subfix只能用于过滤值为字符串类型。|
|value|true|string\|number\|Array&lt;number&gt;\|Array&lt;string&gt;|-|过滤值|
|type|false|string|'and'|term之间的过滤关系.可选"and"和"or",如果存在至少一个and,过滤所有and对应的并集,如果全部是or,返回所有数据， 如果要过滤某个条件可以匹配多个值中的任何一个， 可以使用termType="in".|
|filterType|false|number|0|公有属性及私有属性标记，0为私有属性，1为公有属性，在查询公有图层数据时，根据该字段区分公私有属性，不填默认为私有|
|analyzeEnum|false|string|'not_analyze'|userId、deptId、roleId必须设置成default_analyze,上传数据指定的拼音分词需要设置成pinyin_analyze,默认不分词|
|terms|false|Array&lt;[Term](#term参数说明)&gt;|-|即当前Term，支持循环使用|

##### callback函数参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|res|[CallbackRes](#callbackres参数说明)|-|结束回调信息|

###### CallbackRes参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|status|number|-|10-成功,20-失败|
|data|Array&lt;[BusinessDataType](#businessdatatype参数说明)&gt;|-|响应结果|
|total|number|-|总条数|

###### BusinessDataType参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|appName|string|-|应用名称|
|serviceName|string|-|图层标识|
|dataId|string|-|业务数据id|
|dataTime|string|-|数据产生时间|
|infoTime|string|-|数据入库时间|
|location|object|-|geojson数据|

##### onError函数参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|error|[IErrorCodeInfo](#ierrorcodeinfo参数说明)|-|错误信息|

###### IErrorCodeInfo参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|code|string|-|错误码编号|
|message|string|-|错误信息|

### 示例


```
kmap.queryCustomLineBuffer({
   polyline: [ // 点坐标集合, 二维数组
       [120, 30],
       [121, 30],
       [121, 31]
   ],
   serviceName: '32',
   callback: function (res) {
       console.log(res);
   }
});
```


## queryCustomPolygonBuffer

### 描述

根据多边形缓冲区范围查询自有数据。

### 参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|opts|true|[QueryCustomPolygonBufferOptions](#querycustompolygonbufferoptions参数说明)|-|-|

#### QueryCustomPolygonBufferOptions参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|polygon|true|Array&lt;[LngLat](#lnglat参数说明（类型）)&gt;|-|多边形的点坐标集合|
|radius|false|number|1|查询半径，单位千米|
|serviceName|true|string|-| 查询数据对应的后端标识|
|isPublic|false|boolean|false| 是否查询公有空间数据|
|maxCount|false|number|50| 查询最大返回数量|
|pageNo|false|number|1|页码, 最小为1|
|mixTerms|false|Array&lt;[Term](#term参数说明)&gt;|-|查询过滤条件, 支持多条件搜索,详见自有数据查询的term|
|callback|true|[Function](#callback函数参数说明)|-|回调函数|
|onError|false|[Function](#onerror函数参数说明)|-|错误回调函数|

##### LngLat参数说明（类型）

|参数名称|类型|说明|
|:--|:--:|:--|
|LngLat|[number, number]|经纬度坐标|

##### Term参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|column|true|string|-|过滤字段，对于人员账号，需要传 targetType 值为 5；对于重点人员，需要传 targetType 值为 27；其它情况默认无需填写|
|termType|true|string|-|过滤条件,例如eq,neq,like,nlike,gt,lt,gte,lte,in,nin,prefix,subfix,isnull,notnull,should。其中like、nlike、prefix、subfix只能用于过滤值为字符串类型。|
|value|true|string\|number\|Array&lt;number&gt;\|Array&lt;string&gt;|-|过滤值|
|type|false|string|'and'|term之间的过滤关系.可选"and"和"or",如果存在至少一个and,过滤所有and对应的并集,如果全部是or,返回所有数据， 如果要过滤某个条件可以匹配多个值中的任何一个， 可以使用termType="in".|
|filterType|false|number|0|公有属性及私有属性标记，0为私有属性，1为公有属性，在查询公有图层数据时，根据该字段区分公私有属性，不填默认为私有|
|analyzeEnum|false|string|'not_analyze'|userId、deptId、roleId必须设置成default_analyze,上传数据指定的拼音分词需要设置成pinyin_analyze,默认不分词|
|terms|false|Array&lt;[Term](#term参数说明)&gt;|-|即当前Term，支持循环使用|

##### callback函数参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|res|[CallbackRes](#callbackres参数说明)|-|结束回调信息|

###### CallbackRes参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|status|number|-|10-成功,20-失败|
|data|Array&lt;[BusinessDataType](#businessdatatype参数说明)&gt;|-|响应结果|
|total|number|-|总条数|

###### BusinessDataType参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|appName|string|-|应用名称|
|serviceName|string|-|图层标识|
|dataId|string|-|业务数据id|
|dataTime|string|-|数据产生时间|
|infoTime|string|-|数据入库时间|
|location|object|-|geojson数据|

##### onError函数参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|error|[IErrorCodeInfo](#ierrorcodeinfo参数说明)|-|错误信息|

###### IErrorCodeInfo参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|code|string|-|错误码编号|
|message|string|-|错误信息|

### 示例


```
kmap.queryCustomPolygonBuffer({
   polygon: [ // 点坐标集合, 二维数组
       [120, 30],
       [121, 30],
       [121, 31],
       [120, 31],
       [120, 30]
   ],
   serviceName: '32',
   callback: function (res) {
       console.log(res);
   }
});
```


## updateCustomData

### 描述

更新自有数据。

### 参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|opts|true|[UpdateCustomDataOptions](#updatecustomdataoptions参数说明)|-|-|

#### UpdateCustomDataOptions参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|serviceName|true|string|-|查询数据对应的后端标识|
|dataId|true|string|-|需要修改的数据id|
|properties|true|object|-|需要修改的属性，键/值对形式|
|callback|true|[Function](#callback函数参数说明)|-|回调函数|
|onError|false|[Function](#onerror函数参数说明)|-|错误回调函数|

##### callback函数参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|res|[CallbackRes](#callbackres参数说明)|-|结束回调信息|

###### CallbackRes参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|status|number|-|10-成功,20-失败|
|data|any|-|响应结果|

##### onError函数参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|error|[IErrorCodeInfo](#ierrorcodeinfo参数说明)|-|错误信息|

###### IErrorCodeInfo参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|code|string|-|错误码编号|
|message|string|-|错误信息|

### 示例


```
kmap.updateCustomData({
   serviceName: 'serviceName',
   dataId: 'dataId',
   properties: {
       key: 'value'
   },
   callback: function(res) {
       // 接收返回数据
   }
});
```


## queryCustomPolygonByPoint

### 描述

根据点坐标查询自有数据多边形

### 参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|opts|true|[QueryCustomPolygonByPointOptions](#querycustompolygonbypointoptions参数说明)|-|-|

#### QueryCustomPolygonByPointOptions参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|serviceName|true|string|-|查询数据对应的后端标识|
|point|true|[LngLat](#lnglat参数说明（类型）)|-|点坐标|
|maxCount|false|number|1000|每页最大返回数量|
|pageNo|false|number|1|页码, 最小为1|
|callback|true|[Function](#callback函数参数说明)|-|回调函数|
|onError|false|[Function](#onerror函数参数说明)|-|错误回调函数|

##### LngLat参数说明（类型）

|参数名称|类型|说明|
|:--|:--:|:--|
|LngLat|[number, number]|经纬度坐标|

##### callback函数参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|res|[CallbackRes](#callbackres参数说明)|-|结束回调信息|

###### CallbackRes参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|status|number|-|10-成功,20-失败|
|data|Array&lt;[BusinessDataType](#businessdatatype参数说明)&gt;|-|响应结果|
|total|number|-|总条数|

###### BusinessDataType参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|appName|string|-|应用名称|
|serviceName|string|-|图层标识|
|dataId|string|-|业务数据id|
|dataTime|string|-|数据产生时间|
|infoTime|string|-|数据入库时间|
|location|object|-|geojson数据|

##### onError函数参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|error|[IErrorCodeInfo](#ierrorcodeinfo参数说明)|-|错误信息|

###### IErrorCodeInfo参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|code|string|-|错误码编号|
|message|string|-|错误信息|

### 示例


```
kmap.queryCustomPolygonByPoint({
   serviceName: 'serviceName',
   point: [120, 30],
   maxCount: 10,
   pageNo: 1,
   callback: function (res) {
       console.log(res);
   }
});
```


## getCustomGeometryById

### 描述

根据ID查询自有数据多边形

### 参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|opts|true|[GetCustomGeometryByIdOptions](#getcustomgeometrybyidoptions参数说明)|-|-|

#### GetCustomGeometryByIdOptions参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|serviceName|true|string|-|查询数据的后端标识|
|id|true|string|-|添加数据时指定的dataId|
|callback|true|[Function](#callback函数参数说明)|-|回调函数|
|onError|false|[Function](#onerror函数参数说明)|-|错误回调函数|

##### callback函数参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|res|[CallbackRes](#callbackres参数说明)|-|结束回调信息|

###### CallbackRes参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|status|number|-|10-成功,20-失败|
|data|any|-|响应结果|

##### onError函数参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|error|[IErrorCodeInfo](#ierrorcodeinfo参数说明)|-|错误信息|

###### IErrorCodeInfo参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|code|string|-|错误码编号|
|message|string|-|错误信息|

### 示例


```
kmap.getCustomGeometryById({
   serviceName: 'serviceName',
   id: 'dataId',
   callback: function (res) {
       console.log(res.data);
   }
})
```


## queryCustomAnnulusSpace

### 描述

环形空间查询自有数据。

### 参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|opts|true|[QueryCustomAnnulusSpaceOptions](#querycustomannulusspaceoptions参数说明)|-|-|

#### QueryCustomAnnulusSpaceOptions参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|serviceName|true|string|-|查询数据对应的后端标识|
|mixTerms|false|Array&lt;[Term](#term参数说明)&gt;|-|查询过滤条件, 支持多条件搜索,详见自有数据查询的term|
|isPublic|false|boolean|false|是否查询公有空间数据|
|center|true|[PointGeometry](#pointgeometry参数说明)|-| 查询环形圆心|
|levels|true|Array&lt;[number, number]&gt;|-|查询环形范围|
|callback|true|[Function](#callback函数参数说明)|-|回调函数|
|onError|false|[Function](#onerror函数参数说明)|-|错误回调函数|

##### Term参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|column|true|string|-|过滤字段，对于人员账号，需要传 targetType 值为 5；对于重点人员，需要传 targetType 值为 27；其它情况默认无需填写|
|termType|true|string|-|过滤条件,例如eq,neq,like,nlike,gt,lt,gte,lte,in,nin,prefix,subfix,isnull,notnull,should。其中like、nlike、prefix、subfix只能用于过滤值为字符串类型。|
|value|true|string\|number\|Array&lt;number&gt;\|Array&lt;string&gt;|-|过滤值|
|type|false|string|'and'|term之间的过滤关系.可选"and"和"or",如果存在至少一个and,过滤所有and对应的并集,如果全部是or,返回所有数据， 如果要过滤某个条件可以匹配多个值中的任何一个， 可以使用termType="in".|
|filterType|false|number|0|公有属性及私有属性标记，0为私有属性，1为公有属性，在查询公有图层数据时，根据该字段区分公私有属性，不填默认为私有|
|analyzeEnum|false|string|'not_analyze'|userId、deptId、roleId必须设置成default_analyze,上传数据指定的拼音分词需要设置成pinyin_analyze,默认不分词|
|terms|false|Array&lt;[Term](#term参数说明)&gt;|-|即当前Term，支持循环使用|

##### PointGeometry参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|type|true|固定值(string)-Point|-|要素图形类型|
|coordinates|true|[LngLat](#lnglat参数说明（类型）)|-|要素空间信息|

###### LngLat参数说明（类型）

|参数名称|类型|说明|
|:--|:--:|:--|
|LngLat|[number, number]|经纬度坐标|

##### callback函数参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|res|[CallbackRes](#callbackres参数说明)|-|结束回调信息|

###### CallbackRes参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|status|number|-|10-成功,20-失败|
|data|Array&lt;[BusinessDataType](#businessdatatype参数说明)&gt;|-|响应结果|
|total|number|-|总条数|

###### BusinessDataType参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|appName|string|-|应用名称|
|serviceName|string|-|图层标识|
|dataId|string|-|业务数据id|
|dataTime|string|-|数据产生时间|
|infoTime|string|-|数据入库时间|
|location|object|-|geojson数据|

##### onError函数参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|error|[IErrorCodeInfo](#ierrorcodeinfo参数说明)|-|错误信息|

###### IErrorCodeInfo参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|code|string|-|错误码编号|
|message|string|-|错误信息|

### 示例


```
kmap.queryCustomAnnulusSpace({
   serviceName: '13',
   center:  {
               "type": "Point",
               "coordinates":[120.61893643,31.22363279]
           },
   levels: [[0, 5.0], [5.0, 10.0]],
   callback: function (res) {
       console.log(res); // 查询到的数据
   }
});
```


## querySectorSpace

### 描述

自定义扇形空间查询自有数据。

### 参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|opts|true|[QuerySectorSpaceOptions](#querysectorspaceoptions参数说明)|-|-|

#### QuerySectorSpaceOptions参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|serviceName|true|string|-|查询数据对应的后端标识|
|maxCount|false|number|50| 查询最大返回数量|
|pageNo|false|number|1|页码, 最小为1|
|isPublic|false|boolean|false|是否查询公有空间数据|
|mixTerms|false|Array&lt;[Term](#term参数说明)&gt;|-|查询过滤条件, 支持多条件搜索,详见自有数据查询的term|
|center|true|[LngLat](#lnglat参数说明（类型）)|-| 扇形圆心坐标|
|radius|true|number|-|扇形半径|
|startDegree|true|number|-|扇形起始角度|
|endDegree|true|number|-|扇形结束角度|
|callback|true|[Function](#callback函数参数说明)|-|回调函数|
|onError|false|[Function](#onerror函数参数说明)|-|错误回调函数|

##### Term参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|column|true|string|-|过滤字段，对于人员账号，需要传 targetType 值为 5；对于重点人员，需要传 targetType 值为 27；其它情况默认无需填写|
|termType|true|string|-|过滤条件,例如eq,neq,like,nlike,gt,lt,gte,lte,in,nin,prefix,subfix,isnull,notnull,should。其中like、nlike、prefix、subfix只能用于过滤值为字符串类型。|
|value|true|string\|number\|Array&lt;number&gt;\|Array&lt;string&gt;|-|过滤值|
|type|false|string|'and'|term之间的过滤关系.可选"and"和"or",如果存在至少一个and,过滤所有and对应的并集,如果全部是or,返回所有数据， 如果要过滤某个条件可以匹配多个值中的任何一个， 可以使用termType="in".|
|filterType|false|number|0|公有属性及私有属性标记，0为私有属性，1为公有属性，在查询公有图层数据时，根据该字段区分公私有属性，不填默认为私有|
|analyzeEnum|false|string|'not_analyze'|userId、deptId、roleId必须设置成default_analyze,上传数据指定的拼音分词需要设置成pinyin_analyze,默认不分词|
|terms|false|Array&lt;[Term](#term参数说明)&gt;|-|即当前Term，支持循环使用|

##### LngLat参数说明（类型）

|参数名称|类型|说明|
|:--|:--:|:--|
|LngLat|[number, number]|经纬度坐标|

##### callback函数参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|res|[CallbackRes](#callbackres参数说明)|-|结束回调信息|

###### CallbackRes参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|status|number|-|10-成功,20-失败|
|data|Array&lt;any&gt;|-|响应结果|
|total|number|-|总条数|

##### onError函数参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|error|[IErrorCodeInfo](#ierrorcodeinfo参数说明)|-|错误信息|

###### IErrorCodeInfo参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|code|string|-|错误码编号|
|message|string|-|错误信息|

### 示例


```
kmap.querySectorSpace({
   serviceName: '13',
   center:  [120.61893643,31.22363279],
   radius: 20,
   startDegree: 30,
   endDegree: 90,
   callback: function (res) {
       console.log(res); // 查询到的数据
   }
});
```


## POI

## queryInfoByType

### 描述

根据数据类型以及关键字进行搜索。行政编码支持省市区，支持模糊查询，数据可支持全国（因测试环境限制，目前只导入了江苏的数据，需要其他省份数据可申请）

### 参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|opts|true|[QueryInfoByTypeOptions](#queryinfobytypeoptions参数说明)|-|-|

#### QueryInfoByTypeOptions参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|code|true|string|-|行政编码|
|keyword|true|string|-|要查询的关键字|
|searchType|true|Array&lt;string&gt;|-|查询的分类,通过getPoiType接口可获得,可传入多个,空数组查询所有类型|
|dataSearchType|false|number|0|查询的POI归属类别，0-基础与用户拓展POI，1-基础POI，2-用户拓展POI|
|pageNo|false|number|1| 分页页码|
|maxCount|false|number|10|每次查询最大返回条数|
|queryMode|false|[QueryMode](#querymode参数说明)|KMap.QueryMode.ChinesePromptQuery|查询模式|
|callback|true|[Function](#callback函数参数说明)|-|回调函数|
|onError|false|[Function](#onerror函数参数说明)|-|错误回调函数|

##### QueryMode参数说明

|参数名称|描述|实际值|
|:--|:--|:--:|
|KMap.QUERY_MODE.CHINESE_PROMPT_QUERY|中文提示查询|0|
|KMap.QUERY_MODE.CHINESE_PRECISE_QUERY|中文精确查询|1|
|KMap.QUERY_MODE.CHINESE_STATISTICS_QUERY|POI 统计数量查询模式，保持和基础数据聚合查询结果一致|2|

##### callback函数参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|res|[CallbackRes](#callbackres参数说明)|-|结束回调信息|

###### CallbackRes参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|status|number|-|10-成功,20-失败|
|data|Array&lt;[POIDataType](#poidatatype参数说明)&gt;|-|响应结果|
|total|number|-|总条数|

###### POIDataType参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|poiUid|string|-|ID|
|kindCode|string|-|分类编码|
|address|string|-|地址|
|province|number|-|省级行政编码|
|provinceName|string|-|省份名称|
|city|number|-|市级行政编码|
|cityName|string|-|城市名|
|district|number|-|区级行政编码|
|areaName|string|-|地区名|
|name|string|-|poi名称|
|geometry|object|-|几何图形对象|
|telephone|string|-|电话|
|bigClass|string|-|一级分类名称|
|className|string|-|二级分类名称|
|smallClass|string|-|三级分类名称|
|longitude|number|-|经度|
|latitude|number|-|纬度|

##### onError函数参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|error|[IErrorCodeInfo](#ierrorcodeinfo参数说明)|-|错误信息|

###### IErrorCodeInfo参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|code|string|-|错误码编号|
|message|string|-|错误信息|

### 示例


```javascript
kmap.queryInfoByType({
   code: '320500',
   keyword: '关键字',
   searchType: [
       '150101',
       '110102'
   ],
   maxCount: 30,
   callback: function (res) {
       console.log(res); // 查询到的数据
   }
});
```


## querySpaceInfo

### 描述

根据坐标范围、数据类型、关键字进行查询。

### 参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|opts|true|[QuerySpaceInfoOptions](#queryspaceinfooptions参数说明)|-|-|

#### QuerySpaceInfoOptions参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|polygon|true|Array&lt;[LngLat](#lnglat参数说明（类型）)&gt;\|Array&lt;Array&lt;Array&lt;[LngLat](#lnglat参数说明（类型）)&gt;&gt;&gt;|-|查询的面信息，支持2维数组单面或4维数组多面|
|code|false|string|-| 行政编码|
|keyword|false|string|-|关键字|
|searchType|true|Array&lt;string&gt;|-|查询的分类,通过getPoiType接口可获得,可传入多个,空数组查询所有类型|
|dataSearchType|false|number|0|查询的POI归属类别，0-基础与用户拓展POI，1-基础POI，2-用户拓展POI|
|maxCount|false|number|10| 查询最大返回数量|
|pageNo|false|number|1|页码, 最小为1|
|queryMode|false|[QueryMode](#querymode参数说明)|KMap.QueryMode.ChinesePromptQuery|查询模式|
|callback|true|[Function](#callback函数参数说明)|-|回调函数|
|onError|false|[Function](#onerror函数参数说明)|-|错误回调函数|

##### LngLat参数说明（类型）

|参数名称|类型|说明|
|:--|:--:|:--|
|LngLat|[number, number]|经纬度坐标|

##### QueryMode参数说明

|参数名称|描述|实际值|
|:--|:--|:--:|
|KMap.QUERY_MODE.CHINESE_PROMPT_QUERY|中文提示查询|0|
|KMap.QUERY_MODE.CHINESE_PRECISE_QUERY|中文精确查询|1|
|KMap.QUERY_MODE.CHINESE_STATISTICS_QUERY|POI 统计数量查询模式，保持和基础数据聚合查询结果一致|2|

##### callback函数参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|res|[CallbackRes](#callbackres参数说明)|-|结束回调信息|

###### CallbackRes参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|status|number|-|10-成功,20-失败|
|data|Array&lt;[POIDataType](#poidatatype参数说明)&gt;|-|响应结果|
|total|number|-|总条数|

###### POIDataType参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|poiUid|string|-|ID|
|kindCode|string|-|分类编码|
|address|string|-|地址|
|province|number|-|省级行政编码|
|provinceName|string|-|省份名称|
|city|number|-|市级行政编码|
|cityName|string|-|城市名|
|district|number|-|区级行政编码|
|areaName|string|-|地区名|
|name|string|-|poi名称|
|geometry|object|-|几何图形对象|
|telephone|string|-|电话|
|bigClass|string|-|一级分类名称|
|className|string|-|二级分类名称|
|smallClass|string|-|三级分类名称|
|longitude|number|-|经度|
|latitude|number|-|纬度|

##### onError函数参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|error|[IErrorCodeInfo](#ierrorcodeinfo参数说明)|-|错误信息|

###### IErrorCodeInfo参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|code|string|-|错误码编号|
|message|string|-|错误信息|

### 示例


```
kmap.querySpaceInfo({
   polygon: [
       [120.26833122769031, 31.475150978300626],
       [121.04854668179931, 31.475150978300626],
       [121.04854668179931, 31.10997909409405],
       [120.26833122769031, 31.10997909409405],
       [120.26833122769031, 31.475150978300626]
   ],
   searchType: [
       '150101',
       '110102'
   ],
   keyword: '肯德基',
   callback: function (res) {
       console.log(res);
   }
});
```


## queryTriangleSpace

### 描述

搜索绘制的三角形内的POI信息。

### 参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|opts|true|[QueryTriangleSpaceOptions](#querytrianglespaceoptions参数说明)|-|-|

#### QueryTriangleSpaceOptions参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|code|false|string|-| 行政编码|
|keyword|false|string|-|关键字|
|searchType|true|Array&lt;string&gt;|-|查询的分类,通过getPoiType接口可获得,可传入多个,空数组查询所有类型|
|dataSearchType|false|number|0|查询的POI归属类别，0-基础与用户拓展POI，1-基础POI，2-用户拓展POI|
|queryMode|false|[QueryMode](#querymode参数说明)|KMap.QueryMode.ChinesePromptQuery|查询模式|
|callback|true|[Function](#callback函数参数说明)|-|回调函数|
|onError|false|[Function](#onerror函数参数说明)|-|错误回调函数|

##### QueryMode参数说明

|参数名称|描述|实际值|
|:--|:--|:--:|
|KMap.QUERY_MODE.CHINESE_PROMPT_QUERY|中文提示查询|0|
|KMap.QUERY_MODE.CHINESE_PRECISE_QUERY|中文精确查询|1|
|KMap.QUERY_MODE.CHINESE_STATISTICS_QUERY|POI 统计数量查询模式，保持和基础数据聚合查询结果一致|2|

##### callback函数参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|res|[CallbackRes](#callbackres参数说明)|-|结束回调信息|

###### CallbackRes参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|status|number|-|10-成功,20-失败|
|data|Array&lt;[POIDataType](#poidatatype参数说明)&gt;|-|响应结果|
|total|number|-|总条数|

###### POIDataType参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|poiUid|string|-|ID|
|kindCode|string|-|分类编码|
|address|string|-|地址|
|province|number|-|省级行政编码|
|provinceName|string|-|省份名称|
|city|number|-|市级行政编码|
|cityName|string|-|城市名|
|district|number|-|区级行政编码|
|areaName|string|-|地区名|
|name|string|-|poi名称|
|geometry|object|-|几何图形对象|
|telephone|string|-|电话|
|bigClass|string|-|一级分类名称|
|className|string|-|二级分类名称|
|smallClass|string|-|三级分类名称|
|longitude|number|-|经度|
|latitude|number|-|纬度|

##### onError函数参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|error|[IErrorCodeInfo](#ierrorcodeinfo参数说明)|-|错误信息|

###### IErrorCodeInfo参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|code|string|-|错误码编号|
|message|string|-|错误信息|

### 示例


```
kmap.queryTriangleSpace({
   searchType: [
       '150101',
       '110102'
   ],
   callback: function (res) {
       console.log(res);
   }
});
```


## queryCircularSpace

### 描述

搜索绘制的圆形内的POI信息。

### 参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|opts|true|[QueryCircularSpaceOptions](#querycircularspaceoptions参数说明)|-|-|

#### QueryCircularSpaceOptions参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|code|false|string|-| 行政编码|
|keyword|false|string|-|关键字|
|searchType|true|Array&lt;string&gt;|-|查询的分类,通过getPoiType接口可获得,可传入多个,空数组查询所有类型|
|dataSearchType|false|number|0|查询的POI归属类别，0-基础与用户拓展POI，1-基础POI，2-用户拓展POI|
|queryMode|false|[QueryMode](#querymode参数说明)|KMap.QueryMode.ChinesePromptQuery|查询模式|
|callback|true|[Function](#callback函数参数说明)|-|回调函数|
|onError|false|[Function](#onerror函数参数说明)|-|错误回调函数|

##### QueryMode参数说明

|参数名称|描述|实际值|
|:--|:--|:--:|
|KMap.QUERY_MODE.CHINESE_PROMPT_QUERY|中文提示查询|0|
|KMap.QUERY_MODE.CHINESE_PRECISE_QUERY|中文精确查询|1|
|KMap.QUERY_MODE.CHINESE_STATISTICS_QUERY|POI 统计数量查询模式，保持和基础数据聚合查询结果一致|2|

##### callback函数参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|res|[CallbackRes](#callbackres参数说明)|-|结束回调信息|

###### CallbackRes参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|status|number|-|10-成功,20-失败|
|data|Array&lt;[POIDataType](#poidatatype参数说明)&gt;|-|响应结果|
|total|number|-|总条数|

###### POIDataType参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|poiUid|string|-|ID|
|kindCode|string|-|分类编码|
|address|string|-|地址|
|province|number|-|省级行政编码|
|provinceName|string|-|省份名称|
|city|number|-|市级行政编码|
|cityName|string|-|城市名|
|district|number|-|区级行政编码|
|areaName|string|-|地区名|
|name|string|-|poi名称|
|geometry|object|-|几何图形对象|
|telephone|string|-|电话|
|bigClass|string|-|一级分类名称|
|className|string|-|二级分类名称|
|smallClass|string|-|三级分类名称|
|longitude|number|-|经度|
|latitude|number|-|纬度|

##### onError函数参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|error|[IErrorCodeInfo](#ierrorcodeinfo参数说明)|-|错误信息|

###### IErrorCodeInfo参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|code|string|-|错误码编号|
|message|string|-|错误信息|

### 示例


```
kmap.queryCircularSpace({
   searchType: [
       '150101',
       '110102'
   ],
   callback: function (res) {
       console.log(res);
   }
});
```


## queryRectangleSpace

### 描述

搜索绘制的矩形内的POI信息。

### 参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|opts|true|[QueryRectangleSpaceOptions](#queryrectanglespaceoptions参数说明)|-|-|

#### QueryRectangleSpaceOptions参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|code|false|string|-| 行政编码|
|keyword|false|string|-|关键字|
|searchType|true|Array&lt;string&gt;|-|查询的分类,通过getPoiType接口可获得,可传入多个,空数组查询所有类型|
|dataSearchType|false|number|0|查询的POI归属类别，0-基础与用户拓展POI，1-基础POI，2-用户拓展POI|
|queryMode|false|[QueryMode](#querymode参数说明)|KMap.QueryMode.ChinesePromptQuery|查询模式|
|callback|true|[Function](#callback函数参数说明)|-|回调函数|
|onError|false|[Function](#onerror函数参数说明)|-|错误回调函数|

##### QueryMode参数说明

|参数名称|描述|实际值|
|:--|:--|:--:|
|KMap.QUERY_MODE.CHINESE_PROMPT_QUERY|中文提示查询|0|
|KMap.QUERY_MODE.CHINESE_PRECISE_QUERY|中文精确查询|1|
|KMap.QUERY_MODE.CHINESE_STATISTICS_QUERY|POI 统计数量查询模式，保持和基础数据聚合查询结果一致|2|

##### callback函数参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|res|[CallbackRes](#callbackres参数说明)|-|结束回调信息|

###### CallbackRes参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|status|number|-|10-成功,20-失败|
|data|Array&lt;[POIDataType](#poidatatype参数说明)&gt;|-|响应结果|
|total|number|-|总条数|

###### POIDataType参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|poiUid|string|-|ID|
|kindCode|string|-|分类编码|
|address|string|-|地址|
|province|number|-|省级行政编码|
|provinceName|string|-|省份名称|
|city|number|-|市级行政编码|
|cityName|string|-|城市名|
|district|number|-|区级行政编码|
|areaName|string|-|地区名|
|name|string|-|poi名称|
|geometry|object|-|几何图形对象|
|telephone|string|-|电话|
|bigClass|string|-|一级分类名称|
|className|string|-|二级分类名称|
|smallClass|string|-|三级分类名称|
|longitude|number|-|经度|
|latitude|number|-|纬度|

##### onError函数参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|error|[IErrorCodeInfo](#ierrorcodeinfo参数说明)|-|错误信息|

###### IErrorCodeInfo参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|code|string|-|错误码编号|
|message|string|-|错误信息|

### 示例


```
kmap.queryRectangleSpace({
   searchType: [
       '150101',
       '110102'
   ],
   callback: function (res) {
       console.log(res);
   }
});
```


## queryPolygonSpace

### 描述

搜索绘制的多边形内的POI信息。

### 参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|opts|true|[QueryPolygonSpaceOptions](#querypolygonspaceoptions参数说明)|-|-|

#### QueryPolygonSpaceOptions参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|code|false|string|-| 行政编码|
|keyword|false|string|-|关键字|
|searchType|true|Array&lt;string&gt;|-|查询的分类,通过getPoiType接口可获得,可传入多个,空数组查询所有类型|
|dataSearchType|false|number|0|查询的POI归属类别，0-基础与用户拓展POI，1-基础POI，2-用户拓展POI|
|queryMode|false|[QueryMode](#querymode参数说明)|KMap.QueryMode.ChinesePromptQuery|查询模式|
|callback|true|[Function](#callback函数参数说明)|-|回调函数|
|onError|false|[Function](#onerror函数参数说明)|-|错误回调函数|

##### QueryMode参数说明

|参数名称|描述|实际值|
|:--|:--|:--:|
|KMap.QUERY_MODE.CHINESE_PROMPT_QUERY|中文提示查询|0|
|KMap.QUERY_MODE.CHINESE_PRECISE_QUERY|中文精确查询|1|
|KMap.QUERY_MODE.CHINESE_STATISTICS_QUERY|POI 统计数量查询模式，保持和基础数据聚合查询结果一致|2|

##### callback函数参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|res|[CallbackRes](#callbackres参数说明)|-|结束回调信息|

###### CallbackRes参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|status|number|-|10-成功,20-失败|
|data|Array&lt;[POIDataType](#poidatatype参数说明)&gt;|-|响应结果|
|total|number|-|总条数|

###### POIDataType参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|poiUid|string|-|ID|
|kindCode|string|-|分类编码|
|address|string|-|地址|
|province|number|-|省级行政编码|
|provinceName|string|-|省份名称|
|city|number|-|市级行政编码|
|cityName|string|-|城市名|
|district|number|-|区级行政编码|
|areaName|string|-|地区名|
|name|string|-|poi名称|
|geometry|object|-|几何图形对象|
|telephone|string|-|电话|
|bigClass|string|-|一级分类名称|
|className|string|-|二级分类名称|
|smallClass|string|-|三级分类名称|
|longitude|number|-|经度|
|latitude|number|-|纬度|

##### onError函数参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|error|[IErrorCodeInfo](#ierrorcodeinfo参数说明)|-|错误信息|

###### IErrorCodeInfo参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|code|string|-|错误码编号|
|message|string|-|错误信息|

### 示例


```
kmap.queryPolygonSpace({
   searchType: [
       '150101',
       '110102'
   ],
   callback: function (res) {
        console.log(res);
   }
});
```


## queryPointBuffer

### 描述

点缓冲区查询。

### 参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|opts|true|[QueryPointBufferOptions](#querypointbufferoptions参数说明)|-|-|

#### QueryPointBufferOptions参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|point|true|[LngLat](#lnglat参数说明（类型）)|-|查询的点坐标|
|radius|false|number|1|查询半径，单位千米|
|code|false|string|-| 行政编码|
|keyword|false|string|-|关键字|
|searchType|true|Array&lt;string&gt;|-|查询的分类,通过getPoiType接口可获得,可传入多个,空数组查询所有类型|
|dataSearchType|false|number|0|查询的POI归属类别，0-基础与用户拓展POI，1-基础POI，2-用户拓展POI|
|maxCount|false|number|10| 查询最大返回数量|
|pageNo|false|number|1|页码, 最小为1|
|queryMode|false|[QueryMode](#querymode参数说明)|KMap.QueryMode.ChinesePromptQuery|查询模式|
|callback|true|[Function](#callback函数参数说明)|-|回调函数|
|onError|false|[Function](#onerror函数参数说明)|-|错误回调函数|

##### LngLat参数说明（类型）

|参数名称|类型|说明|
|:--|:--:|:--|
|LngLat|[number, number]|经纬度坐标|

##### QueryMode参数说明

|参数名称|描述|实际值|
|:--|:--|:--:|
|KMap.QUERY_MODE.CHINESE_PROMPT_QUERY|中文提示查询|0|
|KMap.QUERY_MODE.CHINESE_PRECISE_QUERY|中文精确查询|1|
|KMap.QUERY_MODE.CHINESE_STATISTICS_QUERY|POI 统计数量查询模式，保持和基础数据聚合查询结果一致|2|

##### callback函数参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|res|[CallbackRes](#callbackres参数说明)|-|结束回调信息|

###### CallbackRes参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|status|number|-|10-成功,20-失败|
|data|Array&lt;[POIDataType](#poidatatype参数说明)&gt;|-|响应结果|
|total|number|-|总条数|

###### POIDataType参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|poiUid|string|-|ID|
|kindCode|string|-|分类编码|
|address|string|-|地址|
|province|number|-|省级行政编码|
|provinceName|string|-|省份名称|
|city|number|-|市级行政编码|
|cityName|string|-|城市名|
|district|number|-|区级行政编码|
|areaName|string|-|地区名|
|name|string|-|poi名称|
|geometry|object|-|几何图形对象|
|telephone|string|-|电话|
|bigClass|string|-|一级分类名称|
|className|string|-|二级分类名称|
|smallClass|string|-|三级分类名称|
|longitude|number|-|经度|
|latitude|number|-|纬度|

##### onError函数参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|error|[IErrorCodeInfo](#ierrorcodeinfo参数说明)|-|错误信息|

###### IErrorCodeInfo参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|code|string|-|错误码编号|
|message|string|-|错误信息|

### 示例


```
kmap.queryPointBuffer({
   point: [120, 30],
   radius: 10,
   searchType: [],
   callback: function (res) {
       console.log(res); // 查询到的数据
   }
});
```


## queryLineBuffer

### 描述

线缓冲区查询

### 参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|opts|true|[QueryLineBufferOptions](#querylinebufferoptions参数说明)|-|-|

#### QueryLineBufferOptions参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|polyline|true|Array&lt;[LngLat](#lnglat参数说明（类型）)&gt;|-|线的点坐标集合|
|radius|false|number|1|查询半径，单位千米|
|code|false|string|-| 行政编码|
|keyword|false|string|-|关键字|
|searchType|true|Array&lt;string&gt;|-|查询的分类,通过getPoiType接口可获得,可传入多个,空数组查询所有类型|
|dataSearchType|false|number|0|查询的POI归属类别，0-基础与用户拓展POI，1-基础POI，2-用户拓展POI|
|maxCount|false|number|10| 查询最大返回数量|
|pageNo|false|number|1|页码, 最小为1|
|queryMode|false|[QueryMode](#querymode参数说明)|KMap.QueryMode.ChinesePromptQuery|查询模式|
|callback|true|[Function](#callback函数参数说明)|-|回调函数|
|onError|false|[Function](#onerror函数参数说明)|-|错误回调函数|

##### LngLat参数说明（类型）

|参数名称|类型|说明|
|:--|:--:|:--|
|LngLat|[number, number]|经纬度坐标|

##### QueryMode参数说明

|参数名称|描述|实际值|
|:--|:--|:--:|
|KMap.QUERY_MODE.CHINESE_PROMPT_QUERY|中文提示查询|0|
|KMap.QUERY_MODE.CHINESE_PRECISE_QUERY|中文精确查询|1|
|KMap.QUERY_MODE.CHINESE_STATISTICS_QUERY|POI 统计数量查询模式，保持和基础数据聚合查询结果一致|2|

##### callback函数参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|res|[CallbackRes](#callbackres参数说明)|-|结束回调信息|

###### CallbackRes参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|status|number|-|10-成功,20-失败|
|data|Array&lt;[POIDataType](#poidatatype参数说明)&gt;|-|响应结果|
|total|number|-|总条数|

###### POIDataType参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|poiUid|string|-|ID|
|kindCode|string|-|分类编码|
|address|string|-|地址|
|province|number|-|省级行政编码|
|provinceName|string|-|省份名称|
|city|number|-|市级行政编码|
|cityName|string|-|城市名|
|district|number|-|区级行政编码|
|areaName|string|-|地区名|
|name|string|-|poi名称|
|geometry|object|-|几何图形对象|
|telephone|string|-|电话|
|bigClass|string|-|一级分类名称|
|className|string|-|二级分类名称|
|smallClass|string|-|三级分类名称|
|longitude|number|-|经度|
|latitude|number|-|纬度|

##### onError函数参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|error|[IErrorCodeInfo](#ierrorcodeinfo参数说明)|-|错误信息|

###### IErrorCodeInfo参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|code|string|-|错误码编号|
|message|string|-|错误信息|

### 示例


```
kmap.queryLineBuffer({
   polyline: [
       [120, 30],
       [121, 29]
   ],
   radius: 10,
   searchType: [],
   callback: function (res) {
       console.log(res);
   }
});
```


## queryPolygonBuffer

### 描述

多边形缓冲区查询。

### 参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|opts|true|[QueryPolygonBufferOptions](#querypolygonbufferoptions参数说明)|-|-|

#### QueryPolygonBufferOptions参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|polygon|true|Array&lt;[LngLat](#lnglat参数说明（类型）)&gt;|-|多边形的点坐标集合|
|radius|false|number|1|查询半径，单位千米|
|code|false|string|-| 行政编码|
|keyword|false|string|-|关键字|
|searchType|true|Array&lt;string&gt;|-|查询的分类,通过getPoiType接口可获得,可传入多个,空数组查询所有类型|
|dataSearchType|false|number|0|查询的POI归属类别，0-基础与用户拓展POI，1-基础POI，2-用户拓展POI|
|maxCount|false|number|10| 查询最大返回数量|
|pageNo|false|number|1|页码, 最小为1|
|queryMode|false|[QueryMode](#querymode参数说明)|KMap.QueryMode.ChinesePromptQuery|查询模式|
|callback|true|[Function](#callback函数参数说明)|-|回调函数|
|onError|false|[Function](#onerror函数参数说明)|-|错误回调函数|

##### LngLat参数说明（类型）

|参数名称|类型|说明|
|:--|:--:|:--|
|LngLat|[number, number]|经纬度坐标|

##### QueryMode参数说明

|参数名称|描述|实际值|
|:--|:--|:--:|
|KMap.QUERY_MODE.CHINESE_PROMPT_QUERY|中文提示查询|0|
|KMap.QUERY_MODE.CHINESE_PRECISE_QUERY|中文精确查询|1|
|KMap.QUERY_MODE.CHINESE_STATISTICS_QUERY|POI 统计数量查询模式，保持和基础数据聚合查询结果一致|2|

##### callback函数参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|res|[CallbackRes](#callbackres参数说明)|-|结束回调信息|

###### CallbackRes参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|status|number|-|10-成功,20-失败|
|data|Array&lt;[POIDataType](#poidatatype参数说明)&gt;|-|响应结果|

###### POIDataType参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|poiUid|string|-|ID|
|kindCode|string|-|分类编码|
|address|string|-|地址|
|province|number|-|省级行政编码|
|provinceName|string|-|省份名称|
|city|number|-|市级行政编码|
|cityName|string|-|城市名|
|district|number|-|区级行政编码|
|areaName|string|-|地区名|
|name|string|-|poi名称|
|geometry|object|-|几何图形对象|
|telephone|string|-|电话|
|bigClass|string|-|一级分类名称|
|className|string|-|二级分类名称|
|smallClass|string|-|三级分类名称|
|longitude|number|-|经度|
|latitude|number|-|纬度|

##### onError函数参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|error|[IErrorCodeInfo](#ierrorcodeinfo参数说明)|-|错误信息|

###### IErrorCodeInfo参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|code|string|-|错误码编号|
|message|string|-|错误信息|

### 示例


```
kmap.queryPolygonBuffer({
   polygon: [
       [120, 30],
       [150, 30],
       [150, 40],
       [120, 40],
       [120, 30]
   ],
   radius: 10,
   searchType: [],
   callback: function (res) {
       console.log(res);
   }
});
```


## getPoiType

### 描述

获取所有POI类型, 可用于后续POI按类型查询。

### 参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|opts|true|[GetPoiTypeOptions](#getpoitypeoptions参数说明)|-|-|

#### GetPoiTypeOptions参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|keyword|true|string|-|查询关键字，支持中文/拼音模糊搜索、拼音首字母搜索|
|callback|true|[Function](#callback函数参数说明)|-|回调函数|
|onError|false|[Function](#onerror函数参数说明)|-|错误回调函数|

##### callback函数参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|res|[CallbackRes](#callbackres参数说明)|-|结束回调信息|

###### CallbackRes参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|status|number|-|10-成功,20-失败|
|data|any|-|响应结果|

##### onError函数参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|error|[IErrorCodeInfo](#ierrorcodeinfo参数说明)|-|错误信息|

###### IErrorCodeInfo参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|code|string|-|错误码编号|
|message|string|-|错误信息|

### 示例


```
kmap.getPoiType({
   callback: function (res) {
       console.log(res);
   }
});
```


## querySortPoiInfoByPoint

### 描述

通过指定点和缓冲区半径，查询按照距离中心点的距离排序后的poi数据。

### 参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|opts|true|[QuerySortPoiInfoByPointOptions](#querysortpoiinfobypointoptions参数说明)|-|-|

#### QuerySortPoiInfoByPointOptions参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|point|true|[LngLat](#lnglat参数说明（类型）)|-|查询的点坐标|
|radius|true|number|-|查询半径，单位千米|
|maxCount|false|number|50| 查询最大返回数量|
|pageNo|false|number|1|页码, 最小为1|
|dataSearchType|false|number|0|查询的POI归属类别，0-基础与用户拓展POI，1-基础POI，2-用户拓展POI|
|searchType|false|Array&lt;string&gt;|-|查询的分类,通过getPoiType接口可获得,可传入多个,空数组查询所有类型|
|callback|true|[Function](#callback函数参数说明)|-|回调函数|
|onError|false|[Function](#onerror函数参数说明)|-|错误回调函数|

##### LngLat参数说明（类型）

|参数名称|类型|说明|
|:--|:--:|:--|
|LngLat|[number, number]|经纬度坐标|

##### callback函数参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|res|[CallbackRes](#callbackres参数说明)|-|结束回调信息|

###### CallbackRes参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|status|number|-|10-成功,20-失败|
|data|Array&lt;any&gt;|-|响应结果|

##### onError函数参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|error|[IErrorCodeInfo](#ierrorcodeinfo参数说明)|-|错误信息|

###### IErrorCodeInfo参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|code|string|-|错误码编号|
|message|string|-|错误信息|

### 示例


```
kmap.querySortPoiInfoByPoint({
  point: [120.533, 31.283],
  radius: 10,
  pageNo: 1,
  maxCount: 10,
  callback: function (res) {
    console.log('poi列表结果res', res);
  },
});
```


## queryPoiData

### 描述

根据数据类型以及关键字进行全国数据搜索。配置要求：8台 64G服务器 500G SSD JVM 配置30G，使用要求必须是全国范围的POI数据。

### 参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|opts|true|[QueryPoiDataOptions](#querypoidataoptions参数说明)|-|-|

#### QueryPoiDataOptions参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|code|false|string|-|行政编码，多个以逗号分隔。不传默认查询全国|
|keyword|true|string|-|要查询的关键字|
|polygon|false|Array&lt;[LngLat](#lnglat参数说明（类型）)&gt;\|Array&lt;Array&lt;Array&lt;[LngLat](#lnglat参数说明（类型）)&gt;&gt;&gt;|-|查询的面信息，支持2维数组单面或4维数组多面|
|searchType|false|Array&lt;string&gt;|-|查询的分类,通过getPoiType接口可获得,可传入多个,空数组查询所有类型|
|dataSearchType|false|number|0|查询的POI归属类别，0-基础与用户拓展POI，1-基础POI，2-用户拓展POI|
|callback|true|[Function](#callback函数参数说明)|-|回调函数|
|onError|false|[Function](#onerror函数参数说明)|-|错误回调函数|

##### LngLat参数说明（类型）

|参数名称|类型|说明|
|:--|:--:|:--|
|LngLat|[number, number]|经纬度坐标|

##### callback函数参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|res|[CallbackRes](#callbackres参数说明)|-|结束回调信息|

###### CallbackRes参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|status|number|-|10-成功,20-失败|
|data|Array&lt;[POIDataType](#poidatatype参数说明)&gt;|-|响应结果|
|total|number|-|总条数|

###### POIDataType参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|poiUid|string|-|ID|
|kindCode|string|-|分类编码|
|address|string|-|地址|
|province|number|-|省级行政编码|
|provinceName|string|-|省份名称|
|city|number|-|市级行政编码|
|cityName|string|-|城市名|
|district|number|-|区级行政编码|
|areaName|string|-|地区名|
|name|string|-|poi名称|
|geometry|object|-|几何图形对象|
|telephone|string|-|电话|
|bigClass|string|-|一级分类名称|
|className|string|-|二级分类名称|
|smallClass|string|-|三级分类名称|
|longitude|number|-|经度|
|latitude|number|-|纬度|

##### onError函数参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|error|[IErrorCodeInfo](#ierrorcodeinfo参数说明)|-|错误信息|

###### IErrorCodeInfo参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|code|string|-|错误码编号|
|message|string|-|错误信息|

### 示例


```javascript
  kmap.queryPoiData({
   code: '320505',
   keyword: '关键字',
   searchType: ['150101', '110102'],
   polygon: [
     [120.26833122769031, 31.475150978300626],
     [121.04854668179931, 31.10997909409405],
     [120.26833122769031, 31.10997909409405],
     [120.26833122769031, 31.475150978300626],
   ],
   callback: function (res) {
     console.log(res); // 查询到的数据
   },
 });
```


## queryPoiByProperties

### 描述

根据数据属性查询POI数据，可查询的属性包括行政编码、分类、关键字、面信息

### 参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|opts|true|[QueryPoiByPropertiesOptions](#querypoibypropertiesoptions参数说明)|-|-|

#### QueryPoiByPropertiesOptions参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|adcode|false|string|-|行政编码|
|keyword|true|string|-|要查询的关键字|
|categories|false|Array&lt;string&gt;|-|查询的分类,通过getPoiType接口可获得,可传入多个|
|dataSearchType|false|number|0|查询的POI归属类别，0-基础与用户拓展POI，1-基础POI，2-用户拓展POI|
|polygon|false|Array&lt;any&gt;|-|查询的面信息，2或4维数组，此参数与adcode均未传入时，此参数取当前屏幕范围|
|pageNo|false|number|1| 分页页码|
|pageSize|false|number|10| 分页数量|
|callback|true|[Function](#callback函数参数说明)|-|回调函数|
|onError|false|[Function](#onerror函数参数说明)|-|错误回调函数|

##### callback函数参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|res|[CallbackRes](#callbackres参数说明)|-|结束回调信息|

###### CallbackRes参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|status|number|-|10-成功,20-失败|
|data|Array&lt;[POIDataType](#poidatatype参数说明)&gt;|-|响应结果|
|total|number|-|总条数|

###### POIDataType参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|poiUid|string|-|ID|
|kindCode|string|-|分类编码|
|address|string|-|地址|
|province|number|-|省级行政编码|
|provinceName|string|-|省份名称|
|city|number|-|市级行政编码|
|cityName|string|-|城市名|
|district|number|-|区级行政编码|
|areaName|string|-|地区名|
|name|string|-|poi名称|
|geometry|object|-|几何图形对象|
|telephone|string|-|电话|
|bigClass|string|-|一级分类名称|
|className|string|-|二级分类名称|
|smallClass|string|-|三级分类名称|
|longitude|number|-|经度|
|latitude|number|-|纬度|

##### onError函数参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|error|[IErrorCodeInfo](#ierrorcodeinfo参数说明)|-|错误信息|

###### IErrorCodeInfo参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|code|string|-|错误码编号|
|message|string|-|错误信息|

### 示例


```javascript
kmap.queryPoiByProperties({
   keyword: '金鸡',
   // adcode: '320509,330327',
   adcode: '320509',
   categories: ['050100', '170000'],
   polygon: [
     [
         [
             [119.47987387507652, 32.002066759412],
             [119.47987387507652, 31.604963711791854],
             [120.2985430454388, 31.604963711791854],
             [120.2985430454388, 32.002066759412],
             [119.47987387507652, 32.002066759412]
         ]
      ],
     [
         [
             [119.67893851921343, 31.402849560196458],
             [119.67893851921343, 31.20406018158755],
             [119.94536966679624, 31.20406018158755],
             [119.94536966679624, 31.402849560196458],
             [119.67893851921343, 31.402849560196458]
         ]
    ]
 ],
   pageNo: 1,
   pageSize: 100,
   callback(res)  {
    console.log(res);
   }
});
```


## queryPoiTotalByCategories

### 描述

根据分类查询POI数量，支持多行政区划、多面查询，若对应分类没有数据则不会返回分类数量。

### 参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|opts|true|[QueryPoiTotalByCategoriesOptions](#querypoitotalbycategoriesoptions参数说明)|-|-|

#### QueryPoiTotalByCategoriesOptions参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|adcode|true|string|-|行政编码，多个行政区划使用逗号分隔|
|categories|true|Array&lt;string&gt;|-|查询的分类,通过getPoiType接口可获得,可传入多个|
|geometry|true|[PolygonGeometry](#polygongeometry参数说明)\|[MultiPolygonGeometry](#multipolygongeometry参数说明)|-|查询空间的信息|
|dataSearchType|false|number|0|查询的POI归属类别，0-基础与用户拓展POI，1-基础POI，2-用户拓展POI|
|callback|true|[Function](#callback函数参数说明)|-|回调函数|
|onError|false|[Function](#onerror函数参数说明)|-|错误回调函数|

##### PolygonGeometry参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|type|true|固定值(string)-Polygon|-|要素图形类型|
|coordinates|true|[PolygonCoordinates](#polygoncoordinates参数说明（类型）)|-|要素空间信息|

###### PolygonCoordinates参数说明（类型）

|参数名称|类型|说明|
|:--|:--:|:--|
|PolygonCoordinates|Array&lt;Array&lt;[LngLat](#lnglat参数说明（类型）)&gt;&gt;|面数据坐标类型|

##### MultiPolygonGeometry参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|type|true|固定值(string)-MultiPolygon|-|要素图形类型|
|coordinates|true|Array&lt;[PolygonCoordinates](#polygoncoordinates参数说明（类型）)&gt;|-|要素空间信息|

##### callback函数参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|res|[CallbackRes](#callbackres参数说明)|-|结束回调信息|

###### CallbackRes参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|status|number|-|10-成功,20-失败|
|data|Array&lt;[POICountType](#poicounttype参数说明)&gt;|-|响应结果|
|total|number|-|总条数|

###### POICountType参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|classCode|string|-|分类编码|
|countNum|number|-|数据量|

##### onError函数参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|error|[IErrorCodeInfo](#ierrorcodeinfo参数说明)|-|错误信息|

###### IErrorCodeInfo参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|code|string|-|错误码编号|
|message|string|-|错误信息|

### 示例


```javascript
const params = {
  adcode: '320500',
  geometry: {       // 查询单面
    type: 'Polygon',
    coordinates: [
      [
        [120.33640956661043, 31.792810955094154],
        [121.12014693353132, 31.80470562669167],
        [121.0338425211018, 31.281889610896613],
        [120.49035797796927, 31.30780092971702],
        [120.33640956661043, 31.792810955094154]
      ]
    ]
  },
  // geometry: {      // 查询多面
  //   type: 'MultiPolygon',
  //   coordinates: [
  //     [
  //       [
  //         [120.33640956661043, 31.792810955094154],
  //         [121.12014693353132, 31.80470562669167],
  //         [121.0338425211018, 31.281889610896613],
  //         [120.33640956661043, 31.792810955094154]
  //       ]
  //     ],
  //     [
  //       [
  //         [120.57430119724211, 30.926686854113868],
  //         [120.8783009615313, 31.107055409086385],
  //         [120.59555992201877, 31.339752136772773],
  //         [120.57430119724211, 30.926686854113868],
  //       ]
  //     ]
  //   ]
  // },
  // dataSearchType: 2,
  categories: ['239999', '11'],
  callback: function (res) {
    console.log(res);
  },
};
kmap.queryPoiTotalByCategories(params);
```


## 水源

## queryWaterfaceByType

### 描述

根据查询的关键字搜索水源信息。

### 参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|opts|true|[QueryWaterfaceByTypeOptions](#querywaterfacebytypeoptions参数说明)|-|-|

#### QueryWaterfaceByTypeOptions参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|code|true|string|-| 行政编码|
|keyword|true|string|-|关键字|
|searchType|true|Array&lt;string&gt;|-|查询的水源分类,空数组查询所有类型|
|maxCount|false|number|10| 查询最大返回数量|
|pageNo|false|number|1|页码, 最小为1|
|callback|true|[Function](#callback函数参数说明)|-|回调函数|
|onError|false|[Function](#onerror函数参数说明)|-|错误回调函数|

##### callback函数参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|res|[CallbackRes](#callbackres参数说明)|-|结束回调信息|

###### CallbackRes参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|status|number|-|10-成功,20-失败|
|data|Array&lt;[WaterFaceDataType](#waterfacedatatype参数说明)&gt;|-|响应结果|
|total|number|-|总条数|

###### WaterFaceDataType参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|bigClass|string|-|一级分类名称|
|className|string|-|二级分类名称|
|middleClassName|string|-|三级分类名称|
|kindCode|string|-|分类编码|
|province|number|-|省级行政编码|
|provinceName|string|-|省份名称|
|city|number|-|市级编码|
|cityName|string|-|城市名|
|district|number|-|区级行政编码|
|areaName|string|-|地区名|
|name|string|-|名称|
|location|object|-|几何图形|
|locationpoint|Array&lt;number&gt;|-|经纬度|
|longitude|number|-|经度|
|latitude|number|-|纬度|

##### onError函数参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|error|[IErrorCodeInfo](#ierrorcodeinfo参数说明)|-|错误信息|

###### IErrorCodeInfo参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|code|string|-|错误码编号|
|message|string|-|错误信息|


**水源分类说明**
600121-海岸线
600122-湖沼
600123-双线河
600124-湖泊（国界外）
600125-港湾
600126-水域假想线

**22Q1数据水源分类说明**
600100-未分类
600112-河流
600113-湖泊
600114-水库
600115-小型水系
600116-其他水系
600117-大型湖泊
600118-大型水库
600119-大型其他水系


### 示例


```
kmap.queryWaterfaceByType({
       code: '320000',
       keyword: '太湖',
       pageNo: 1,
       maxCount: 10,
       callback: function(res) {
               console.log(res);
        }
   });
```


## querySpaceWaterface

### 描述

搜索指定坐标范围内的指定水源信息。行政编码支持省市区，支持模糊查询，数据可支持全国

### 参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|opts|true|[QuerySpaceWaterfaceOptions](#queryspacewaterfaceoptions参数说明)|-|-|

#### QuerySpaceWaterfaceOptions参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|code|true|string|-| 行政编码|
|keyword|true|string|-|关键字|
|searchType|false|Array&lt;string&gt;|-|查询的水源分类,空数组查询所有类型|
|polygon|true|Array&lt;[LngLat](#lnglat参数说明（类型）)&gt;\|Array&lt;Array&lt;Array&lt;[LngLat](#lnglat参数说明（类型）)&gt;&gt;&gt;|-|查询的面信息，支持2维数组单面或4维数组多面|
|maxCount|false|number|10| 查询最大返回数量|
|pageNo|false|number|1|页码, 最小为1|
|callback|true|[Function](#callback函数参数说明)|-|回调函数|
|onError|false|[Function](#onerror函数参数说明)|-|错误回调函数|

##### LngLat参数说明（类型）

|参数名称|类型|说明|
|:--|:--:|:--|
|LngLat|[number, number]|经纬度坐标|

##### callback函数参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|res|[CallbackRes](#callbackres参数说明)|-|结束回调信息|

###### CallbackRes参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|status|number|-|10-成功,20-失败|
|data|Array&lt;[WaterFaceDataType](#waterfacedatatype参数说明)&gt;|-|响应结果|
|total|number|-|总条数|

###### WaterFaceDataType参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|bigClass|string|-|一级分类名称|
|className|string|-|二级分类名称|
|middleClassName|string|-|三级分类名称|
|kindCode|string|-|分类编码|
|province|number|-|省级行政编码|
|provinceName|string|-|省份名称|
|city|number|-|市级编码|
|cityName|string|-|城市名|
|district|number|-|区级行政编码|
|areaName|string|-|地区名|
|name|string|-|名称|
|location|object|-|几何图形|
|locationpoint|Array&lt;number&gt;|-|经纬度|
|longitude|number|-|经度|
|latitude|number|-|纬度|

##### onError函数参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|error|[IErrorCodeInfo](#ierrorcodeinfo参数说明)|-|错误信息|

###### IErrorCodeInfo参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|code|string|-|错误码编号|
|message|string|-|错误信息|


**水源分类说明**
600121-海岸线
600122-湖沼
600123-双线河
600124-湖泊（国界外）
600125-港湾
600126-水域假想线

**22Q1数据水源分类说明**
600100-未分类
600112-河流
600113-湖泊
600114-水库
600115-小型水系
600116-其他水系
600117-大型湖泊
600118-大型水库
600119-大型其他水系

### 示例


```
var data = [
               [120.51888854982565, 31.30701486858125],
               [120.50584228518261, 31.231304488520863],
               [120.61124237059244, 31.221909820022802],
               [120.63870475548606, 31.299974605889602],
               [120.51888854982565, 31.30701486858125]
           ];
 kmap.querySpaceWaterface({
       polygon: data,
       code: '320500',
       keyword: '太湖',
       pageNo: 1,
       maxCount: 10,
       callback: function(res) {
               console.log(res);
        }
   });
```


## queryTriangleSpaceWaterface

### 描述

搜索绘制的三角形内的指定水源信息。

### 参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|opts|true|[QueryTriangleSpaceWaterfaceOptions](#querytrianglespacewaterfaceoptions参数说明)|-|-|

#### QueryTriangleSpaceWaterfaceOptions参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|code|true|string|-| 行政编码|
|keyword|true|string|-|关键字|
|searchType|false|Array&lt;string&gt;|-|查询的水源分类,空数组查询所有类型|
|maxCount|false|number|10| 查询最大返回数量|
|pageNo|false|number|1|页码, 最小为1|
|callback|true|[Function](#callback函数参数说明)|-|回调函数|
|onError|false|[Function](#onerror函数参数说明)|-|错误回调函数|

##### callback函数参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|res|[CallbackRes](#callbackres参数说明)|-|结束回调信息|

###### CallbackRes参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|status|number|-|10-成功,20-失败|
|data|Array&lt;[WaterFaceDataType](#waterfacedatatype参数说明)&gt;|-|响应结果|
|total|number|-|总条数|

###### WaterFaceDataType参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|bigClass|string|-|一级分类名称|
|className|string|-|二级分类名称|
|middleClassName|string|-|三级分类名称|
|kindCode|string|-|分类编码|
|province|number|-|省级行政编码|
|provinceName|string|-|省份名称|
|city|number|-|市级编码|
|cityName|string|-|城市名|
|district|number|-|区级行政编码|
|areaName|string|-|地区名|
|name|string|-|名称|
|location|object|-|几何图形|
|locationpoint|Array&lt;number&gt;|-|经纬度|
|longitude|number|-|经度|
|latitude|number|-|纬度|

##### onError函数参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|error|[IErrorCodeInfo](#ierrorcodeinfo参数说明)|-|错误信息|

###### IErrorCodeInfo参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|code|string|-|错误码编号|
|message|string|-|错误信息|


**水源分类说明**
600121-海岸线
600122-湖沼
600123-双线河
600124-湖泊（国界外）
600125-港湾
600126-水域假想线

**22Q1数据水源分类说明**
600100-未分类
600112-河流
600113-湖泊
600114-水库
600115-小型水系
600116-其他水系
600117-大型湖泊
600118-大型水库
600119-大型其他水系

### 示例


```
kmap.queryTriangleSpaceWaterface({
       code: '320500',
       keyword: '太湖',
       pageNo: 1,
       maxCount: 10,
       callback: function(res) {
              console.log(res);
        }
   });
```


## queryCircleSpaceWaterface

### 描述

搜索绘制的圆形内的指定水源信息。

### 参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|opts|true|[QueryCircleSpaceWaterfaceOptions](#querycirclespacewaterfaceoptions参数说明)|-|-|

#### QueryCircleSpaceWaterfaceOptions参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|code|true|string|-| 行政编码|
|keyword|true|string|-|关键字|
|searchType|false|Array&lt;string&gt;|-|查询的水源分类,空数组查询所有类型|
|maxCount|false|number|10| 查询最大返回数量|
|pageNo|false|number|1|页码, 最小为1|
|callback|true|[Function](#callback函数参数说明)|-|回调函数|
|onError|false|[Function](#onerror函数参数说明)|-|错误回调函数|

##### callback函数参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|res|[CallbackRes](#callbackres参数说明)|-|结束回调信息|

###### CallbackRes参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|status|number|-|10-成功,20-失败|
|data|Array&lt;[WaterFaceDataType](#waterfacedatatype参数说明)&gt;|-|响应结果|
|total|number|-|总条数|

###### WaterFaceDataType参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|bigClass|string|-|一级分类名称|
|className|string|-|二级分类名称|
|middleClassName|string|-|三级分类名称|
|kindCode|string|-|分类编码|
|province|number|-|省级行政编码|
|provinceName|string|-|省份名称|
|city|number|-|市级编码|
|cityName|string|-|城市名|
|district|number|-|区级行政编码|
|areaName|string|-|地区名|
|name|string|-|名称|
|location|object|-|几何图形|
|locationpoint|Array&lt;number&gt;|-|经纬度|
|longitude|number|-|经度|
|latitude|number|-|纬度|

##### onError函数参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|error|[IErrorCodeInfo](#ierrorcodeinfo参数说明)|-|错误信息|

###### IErrorCodeInfo参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|code|string|-|错误码编号|
|message|string|-|错误信息|


**水源分类说明**
600121-海岸线
600122-湖沼
600123-双线河
600124-湖泊（国界外）
600125-港湾
600126-水域假想线

**22Q1数据水源分类说明**
600100-未分类
600112-河流
600113-湖泊
600114-水库
600115-小型水系
600116-其他水系
600117-大型湖泊
600118-大型水库
600119-大型其他水系

### 示例


```
kmap.queryCircleSpaceWaterface({
    code: '320500',
    keyword: '太湖',
    pageNo: 1,
    maxCount: 10,
    callback: function(res) {
            console.log(res);
     }
});
```


## queryRectangleSpaceWaterface

### 描述

搜索绘制的矩形内的指定水源信息。

### 参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|opts|true|[QueryRectangleSpaceWaterfaceOptions](#queryrectanglespacewaterfaceoptions参数说明)|-|-|

#### QueryRectangleSpaceWaterfaceOptions参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|code|true|string|-| 行政编码|
|keyword|true|string|-|关键字|
|searchType|false|Array&lt;string&gt;|-|查询的水源分类,空数组查询所有类型|
|maxCount|false|number|10| 查询最大返回数量|
|pageNo|false|number|1|页码, 最小为1|
|callback|true|[Function](#callback函数参数说明)|-|回调函数|
|onError|false|[Function](#onerror函数参数说明)|-|错误回调函数|

##### callback函数参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|res|[CallbackRes](#callbackres参数说明)|-|结束回调信息|

###### CallbackRes参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|status|number|-|10-成功,20-失败|
|data|Array&lt;[WaterFaceDataType](#waterfacedatatype参数说明)&gt;|-|响应结果|
|total|number|-|总条数|

###### WaterFaceDataType参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|bigClass|string|-|一级分类名称|
|className|string|-|二级分类名称|
|middleClassName|string|-|三级分类名称|
|kindCode|string|-|分类编码|
|province|number|-|省级行政编码|
|provinceName|string|-|省份名称|
|city|number|-|市级编码|
|cityName|string|-|城市名|
|district|number|-|区级行政编码|
|areaName|string|-|地区名|
|name|string|-|名称|
|location|object|-|几何图形|
|locationpoint|Array&lt;number&gt;|-|经纬度|
|longitude|number|-|经度|
|latitude|number|-|纬度|

##### onError函数参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|error|[IErrorCodeInfo](#ierrorcodeinfo参数说明)|-|错误信息|

###### IErrorCodeInfo参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|code|string|-|错误码编号|
|message|string|-|错误信息|


**水源分类说明**
600121-海岸线
600122-湖沼
600123-双线河
600124-湖泊（国界外）
600125-港湾
600126-水域假想线

**22Q1数据水源分类说明**
600100-未分类
600112-河流
600113-湖泊
600114-水库
600115-小型水系
600116-其他水系
600117-大型湖泊
600118-大型水库
600119-大型其他水系

### 示例


```
kmap.queryRectangleSpaceWaterface({
    code: '320500',
    keyword: '太湖',
    pageNo: 1,
    maxCount: 10,
    callback: function(res) {
            console.log(res);
     }
});
```


## queryPolygonSpaceWaterface

### 描述

搜索绘制的多边形内的指定水源信息。

### 参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|opts|true|[QueryPolygonSpaceWaterfaceOptions](#querypolygonspacewaterfaceoptions参数说明)|-|-|

#### QueryPolygonSpaceWaterfaceOptions参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|code|true|string|-| 行政编码|
|keyword|true|string|-|关键字|
|searchType|false|Array&lt;string&gt;|-|查询的水源分类,空数组查询所有类型|
|maxCount|false|number|10| 查询最大返回数量|
|pageNo|false|number|1|页码, 最小为1|
|callback|true|[Function](#callback函数参数说明)|-|回调函数|
|onError|false|[Function](#onerror函数参数说明)|-|错误回调函数|

##### callback函数参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|res|[CallbackRes](#callbackres参数说明)|-|结束回调信息|

###### CallbackRes参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|status|number|-|10-成功,20-失败|
|data|Array&lt;[WaterFaceDataType](#waterfacedatatype参数说明)&gt;|-|响应结果|
|total|number|-|总条数|

###### WaterFaceDataType参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|bigClass|string|-|一级分类名称|
|className|string|-|二级分类名称|
|middleClassName|string|-|三级分类名称|
|kindCode|string|-|分类编码|
|province|number|-|省级行政编码|
|provinceName|string|-|省份名称|
|city|number|-|市级编码|
|cityName|string|-|城市名|
|district|number|-|区级行政编码|
|areaName|string|-|地区名|
|name|string|-|名称|
|location|object|-|几何图形|
|locationpoint|Array&lt;number&gt;|-|经纬度|
|longitude|number|-|经度|
|latitude|number|-|纬度|

##### onError函数参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|error|[IErrorCodeInfo](#ierrorcodeinfo参数说明)|-|错误信息|

###### IErrorCodeInfo参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|code|string|-|错误码编号|
|message|string|-|错误信息|


**水源分类说明**
600121-海岸线
600122-湖沼
600123-双线河
600124-湖泊（国界外）
600125-港湾
600126-水域假想线

**22Q1数据水源分类说明**
600100-未分类
600112-河流
600113-湖泊
600114-水库
600115-小型水系
600116-其他水系
600117-大型湖泊
600118-大型水库
600119-大型其他水系

### 示例


```
kmap.queryPolygonSpaceWaterface({
    code: '320500',
    keyword: '太湖',
    pageNo: 1,
    maxCount: 10,
    callback: function(res) {
            console.log(res);
     }
});
```


## queryPointBufferWaterface

### 描述

点缓冲区查询水源信息。

### 参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|opts|true|[QueryPointBufferWaterfaceOptions](#querypointbufferwaterfaceoptions参数说明)|-|-|

#### QueryPointBufferWaterfaceOptions参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|point|true|[LngLat](#lnglat参数说明（类型）)|-|查询的点坐标|
|radius|false|number|1|查询半径，单位千米|
|code|true|string|-| 行政编码|
|keyword|false|string|-|关键字|
|searchType|false|Array&lt;string&gt;|-|查询的水源分类,空数组查询所有类型|
|maxCount|false|number|10| 查询最大返回数量|
|pageNo|false|number|1|页码, 最小为1|
|callback|true|[Function](#callback函数参数说明)|-|回调函数|
|onError|false|[Function](#onerror函数参数说明)|-|错误回调函数|

##### LngLat参数说明（类型）

|参数名称|类型|说明|
|:--|:--:|:--|
|LngLat|[number, number]|经纬度坐标|

##### callback函数参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|res|[CallbackRes](#callbackres参数说明)|-|结束回调信息|

###### CallbackRes参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|status|number|-|10-成功,20-失败|
|data|Array&lt;[WaterFaceDataType](#waterfacedatatype参数说明)&gt;|-|响应结果|
|total|number|-|总条数|

###### WaterFaceDataType参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|bigClass|string|-|一级分类名称|
|className|string|-|二级分类名称|
|middleClassName|string|-|三级分类名称|
|kindCode|string|-|分类编码|
|province|number|-|省级行政编码|
|provinceName|string|-|省份名称|
|city|number|-|市级编码|
|cityName|string|-|城市名|
|district|number|-|区级行政编码|
|areaName|string|-|地区名|
|name|string|-|名称|
|location|object|-|几何图形|
|locationpoint|Array&lt;number&gt;|-|经纬度|
|longitude|number|-|经度|
|latitude|number|-|纬度|

##### onError函数参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|error|[IErrorCodeInfo](#ierrorcodeinfo参数说明)|-|错误信息|

###### IErrorCodeInfo参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|code|string|-|错误码编号|
|message|string|-|错误信息|


**水源分类说明**
600121-海岸线
600122-湖沼
600123-双线河
600124-湖泊（国界外）
600125-港湾
600126-水域假想线

**22Q1数据水源分类说明**
600100-未分类
600112-河流
600113-湖泊
600114-水库
600115-小型水系
600116-其他水系
600117-大型湖泊
600118-大型水库
600119-大型其他水系

### 示例


```
kmap.queryPointBufferWaterface({
   point: [120, 30],
   radius: 50,
   code: '320500',
   callback: function (res) {
       console.log(res); // 查询到的数据
   }
});
```


## queryLineBufferWaterface

### 描述

线缓冲区查询水源信息。

### 参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|opts|true|[QueryLineBufferWaterfaceOptions](#querylinebufferwaterfaceoptions参数说明)|-|-|

#### QueryLineBufferWaterfaceOptions参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|polyline|true|Array&lt;[LngLat](#lnglat参数说明（类型）)&gt;|-|查询的线坐标集合|
|radius|false|number|1|查询半径，单位千米|
|code|true|string|-| 行政编码|
|keyword|false|string|-|关键字|
|searchType|false|Array&lt;string&gt;|-|查询的水源分类,空数组查询所有类型|
|maxCount|false|number|10| 查询最大返回数量|
|pageNo|false|number|1|页码, 最小为1|
|callback|true|[Function](#callback函数参数说明)|-|回调函数|
|onError|false|[Function](#onerror函数参数说明)|-|错误回调函数|

##### LngLat参数说明（类型）

|参数名称|类型|说明|
|:--|:--:|:--|
|LngLat|[number, number]|经纬度坐标|

##### callback函数参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|res|[CallbackRes](#callbackres参数说明)|-|结束回调信息|

###### CallbackRes参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|status|number|-|10-成功,20-失败|
|data|Array&lt;[WaterFaceDataType](#waterfacedatatype参数说明)&gt;|-|响应结果|
|total|number|-|总条数|

###### WaterFaceDataType参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|bigClass|string|-|一级分类名称|
|className|string|-|二级分类名称|
|middleClassName|string|-|三级分类名称|
|kindCode|string|-|分类编码|
|province|number|-|省级行政编码|
|provinceName|string|-|省份名称|
|city|number|-|市级编码|
|cityName|string|-|城市名|
|district|number|-|区级行政编码|
|areaName|string|-|地区名|
|name|string|-|名称|
|location|object|-|几何图形|
|locationpoint|Array&lt;number&gt;|-|经纬度|
|longitude|number|-|经度|
|latitude|number|-|纬度|

##### onError函数参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|error|[IErrorCodeInfo](#ierrorcodeinfo参数说明)|-|错误信息|

###### IErrorCodeInfo参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|code|string|-|错误码编号|
|message|string|-|错误信息|


**水源分类说明**
600121-海岸线
600122-湖沼
600123-双线河
600124-湖泊（国界外）
600125-港湾
600126-水域假想线

**22Q1数据水源分类说明**
600100-未分类
600112-河流
600113-湖泊
600114-水库
600115-小型水系
600116-其他水系
600117-大型湖泊
600118-大型水库
600119-大型其他水系

### 示例


```
kmap.queryLineBufferWaterface({
   polyline: [[120, 30], [121, 31]],
   radius: 50,
   code: '320500',
   callback: function (res) {
      console.log(res); // 查询到的数据
   }
});
```


## queryPolygonBufferWaterface

### 描述

多边形缓冲区查询水源信息。

### 参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|opts|true|[QueryPolygonBufferWaterfaceOptions](#querypolygonbufferwaterfaceoptions参数说明)|-|-|

#### QueryPolygonBufferWaterfaceOptions参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|polygon|true|Array&lt;[LngLat](#lnglat参数说明（类型）)&gt;|-|多边形坐标集合|
|radius|false|number|1|查询半径，单位千米|
|code|true|string|-| 行政编码|
|keyword|false|string|-|关键字|
|searchType|false|Array&lt;string&gt;|-|查询的水源分类,空数组查询所有类型|
|maxCount|false|number|10| 查询最大返回数量|
|pageNo|false|number|1|页码, 最小为1|
|callback|true|[Function](#callback函数参数说明)|-|回调函数|
|onError|false|[Function](#onerror函数参数说明)|-|错误回调函数|

##### LngLat参数说明（类型）

|参数名称|类型|说明|
|:--|:--:|:--|
|LngLat|[number, number]|经纬度坐标|

##### callback函数参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|res|[CallbackRes](#callbackres参数说明)|-|结束回调信息|

###### CallbackRes参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|status|number|-|10-成功,20-失败|
|data|Array&lt;[WaterFaceDataType](#waterfacedatatype参数说明)&gt;|-|响应结果|
|total|number|-|总条数|

###### WaterFaceDataType参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|bigClass|string|-|一级分类名称|
|className|string|-|二级分类名称|
|middleClassName|string|-|三级分类名称|
|kindCode|string|-|分类编码|
|province|number|-|省级行政编码|
|provinceName|string|-|省份名称|
|city|number|-|市级编码|
|cityName|string|-|城市名|
|district|number|-|区级行政编码|
|areaName|string|-|地区名|
|name|string|-|名称|
|location|object|-|几何图形|
|locationpoint|Array&lt;number&gt;|-|经纬度|
|longitude|number|-|经度|
|latitude|number|-|纬度|

##### onError函数参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|error|[IErrorCodeInfo](#ierrorcodeinfo参数说明)|-|错误信息|

###### IErrorCodeInfo参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|code|string|-|错误码编号|
|message|string|-|错误信息|


**水源分类说明**
600121-海岸线
600122-湖沼
600123-双线河
600124-湖泊（国界外）
600125-港湾
600126-水域假想线

**22Q1数据水源分类说明**
600100-未分类
600112-河流
600113-湖泊
600114-水库
600115-小型水系
600116-其他水系
600117-大型湖泊
600118-大型水库
600119-大型其他水系

### 示例


```
kmap.queryPolygonBufferWaterface({
   polygon: [
               [120.51888854982565, 31.30701486858125],
               [120.50584228518261, 31.231304488520863],
               [120.61124237059244, 31.221909820022802],
               [120.63870475548606, 31.299974605889602],
               [120.51888854982565, 31.30701486858125]
           ],
   radius: 50,
   code: '320500',
   callback: function (res) {
       console.log(res); // 查询到的数据
   }
});
```


## 道路

## queryRoadByType

### 描述

根据查询的关键字搜索道路信息。行政编码支持省市区，支持模糊查询，数据可支持全国。

### 参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|opts|true|[QueryRoadByTypeOptions](#queryroadbytypeoptions参数说明)|-|-|

#### QueryRoadByTypeOptions参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|code|true|string|-| 行政编码|
|keyword|true|string|-|关键字|
|searchType|false|Array&lt;string&gt;|-|道路分类，可传入多个，231211(铁路);600001(高速道路);600002(城市高速);600003(国道);600004(省道);600006(县道);600007(乡镇村道路);600008(其它道路);600009(九级路);600010(步行道路);600013(轮渡);600014(人渡);600015(自行车专用道);600016(城市支路);600017(次干道);600018(主干道);600019(乡道);600020(村道);600021(景区道路);600022(绿道);600023(步行街);600024(人行天桥);600025(人行横道);600026(地下通道);600027(天桥梯道);600028(地下通道梯道);600029(设施内人行道);600030(人行设施连接路);600031(交通设施内通道);600032(设施内道路);600033(索道);600034(景区轮渡线);600035(栈道)|
|maxCount|false|number|10| 查询最大返回数量|
|pageNo|false|number|1|页码, 最小为1|
|queryMode|false|[QueryMode](#querymode参数说明)|KMap.QueryMode.ChinesePromptQuery|查询模式|
|callback|true|[Function](#callback函数参数说明)|-|回调函数|
|onError|false|[Function](#onerror函数参数说明)|-|错误回调函数|

##### QueryMode参数说明

|参数名称|描述|实际值|
|:--|:--|:--:|
|KMap.QUERY_MODE.CHINESE_PROMPT_QUERY|中文提示查询|0|
|KMap.QUERY_MODE.CHINESE_PRECISE_QUERY|中文精确查询|1|
|KMap.QUERY_MODE.CHINESE_STATISTICS_QUERY|POI 统计数量查询模式，保持和基础数据聚合查询结果一致|2|

##### callback函数参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|res|[CallbackRes](#callbackres参数说明)|-|结束回调信息|

###### CallbackRes参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|status|number|-|10-成功,20-失败|
|data|Array&lt;[RoadDataType](#roaddatatype参数说明)&gt;|-|响应结果|
|total|number|-|总条数|

###### RoadDataType参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|bigClass|string|-|一级分类名称|
|className|string|-|二级分类名称|
|smallClass|string|-|三级分类名称|
|kindCode|string|-|分类编码|
|province|number|-|省级行政编码|
|provinceName|string|-|省份名称|
|city|number|-|市级编码|
|cityName|string|-|城市名|
|district|number|-|区级行政编码|
|areaName|string|-|地区名|
|name|string|-|名称|
|length|number|-|路线长度，单位是米|
|location|object|-|几何图形|
|locationpoint|Array&lt;number&gt;|-|经纬度|
|longitude|number|-|经度|
|latitude|number|-|纬度|

##### onError函数参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|error|[IErrorCodeInfo](#ierrorcodeinfo参数说明)|-|错误信息|

###### IErrorCodeInfo参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|code|string|-|错误码编号|
|message|string|-|错误信息|

### 示例


```
kmap.queryRoadByType({
    code: '320505',
    keyword: '金山',
    pageNo: 1,
    maxCount: 10,
    callback: function (res) {
        console.log(res);
    }
});
```


## querySpaceRoad

### 描述

搜索指定坐标范围内的指定道路信息。

### 参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|opts|true|[QuerySpaceRoadOptions](#queryspaceroadoptions参数说明)|-|-|

#### QuerySpaceRoadOptions参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|code|true|string|-| 行政编码|
|keyword|false|string|-|关键字|
|searchType|false|Array&lt;string&gt;|-|道路分类，可传入多个，231211(铁路);600001(高速道路);600002(城市高速);600003(国道);600004(省道);600006(县道);600007(乡镇村道路);600008(其它道路);600009(九级路);600010(步行道路);600013(轮渡);600014(人渡);600015(自行车专用道);600016(城市支路);600017(次干道);600018(主干道);600019(乡道);600020(村道);600021(景区道路);600022(绿道);600023(步行街);600024(人行天桥);600025(人行横道);600026(地下通道);600027(天桥梯道);600028(地下通道梯道);600029(设施内人行道);600030(人行设施连接路);600031(交通设施内通道);600032(设施内道路);600033(索道);600034(景区轮渡线);600035(栈道)|
|polygon|true|Array&lt;[LngLat](#lnglat参数说明（类型）)&gt;\|Array&lt;Array&lt;Array&lt;[LngLat](#lnglat参数说明（类型）)&gt;&gt;&gt;|-|查询的面信息，支持2维数组单面或4维数组多面|
|maxCount|false|number|10| 查询最大返回数量|
|pageNo|false|number|1|页码, 最小为1|
|queryMode|false|[QueryMode](#querymode参数说明)|KMap.QueryMode.ChinesePromptQuery|查询模式|
|callback|true|[Function](#callback函数参数说明)|-|回调函数|
|onError|false|[Function](#onerror函数参数说明)|-|错误回调函数|

##### LngLat参数说明（类型）

|参数名称|类型|说明|
|:--|:--:|:--|
|LngLat|[number, number]|经纬度坐标|

##### QueryMode参数说明

|参数名称|描述|实际值|
|:--|:--|:--:|
|KMap.QUERY_MODE.CHINESE_PROMPT_QUERY|中文提示查询|0|
|KMap.QUERY_MODE.CHINESE_PRECISE_QUERY|中文精确查询|1|
|KMap.QUERY_MODE.CHINESE_STATISTICS_QUERY|POI 统计数量查询模式，保持和基础数据聚合查询结果一致|2|

##### callback函数参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|res|[CallbackRes](#callbackres参数说明)|-|结束回调信息|

###### CallbackRes参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|status|number|-|10-成功,20-失败|
|data|Array&lt;[RoadDataType](#roaddatatype参数说明)&gt;|-|响应结果|
|total|number|-|总条数|

###### RoadDataType参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|bigClass|string|-|一级分类名称|
|className|string|-|二级分类名称|
|smallClass|string|-|三级分类名称|
|kindCode|string|-|分类编码|
|province|number|-|省级行政编码|
|provinceName|string|-|省份名称|
|city|number|-|市级编码|
|cityName|string|-|城市名|
|district|number|-|区级行政编码|
|areaName|string|-|地区名|
|name|string|-|名称|
|length|number|-|路线长度，单位是米|
|location|object|-|几何图形|
|locationpoint|Array&lt;number&gt;|-|经纬度|
|longitude|number|-|经度|
|latitude|number|-|纬度|

##### onError函数参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|error|[IErrorCodeInfo](#ierrorcodeinfo参数说明)|-|错误信息|

###### IErrorCodeInfo参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|code|string|-|错误码编号|
|message|string|-|错误信息|

### 示例


```
var data = [
               [120.51888854982565, 31.30701486858125],
               [120.50584228518261, 31.231304488520863],
               [120.61124237059244, 31.221909820022802],
               [120.63870475548606, 31.299974605889602],
               [120.51888854982565, 31.30701486858125]
           ];
kmap.querySpaceRoad({
            code: '320505',
            keyword: '金山',
            polygon: data,
            callback: function (res) {
                console.log(res);
            }
        });
```


## queryTriangleSpaceRoad

### 描述

搜索绘制的三角形内的指定道路信息。

### 参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|opts|true|[QueryTriangleSpaceRoadOptions](#querytrianglespaceroadoptions参数说明)|-|-|

#### QueryTriangleSpaceRoadOptions参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|code|true|string|-| 行政编码|
|keyword|false|string|-|关键字|
|searchType|false|Array&lt;string&gt;|-|道路分类，可传入多个，231211(铁路);600001(高速道路);600002(城市高速);600003(国道);600004(省道);600006(县道);600007(乡镇村道路);600008(其它道路);600009(九级路);600010(步行道路);600013(轮渡);600014(人渡);600015(自行车专用道);600016(城市支路);600017(次干道);600018(主干道);600019(乡道);600020(村道);600021(景区道路);600022(绿道);600023(步行街);600024(人行天桥);600025(人行横道);600026(地下通道);600027(天桥梯道);600028(地下通道梯道);600029(设施内人行道);600030(人行设施连接路);600031(交通设施内通道);600032(设施内道路);600033(索道);600034(景区轮渡线);600035(栈道)|
|maxCount|false|number|10| 查询最大返回数量|
|pageNo|false|number|1|页码, 最小为1|
|queryMode|false|[QueryMode](#querymode参数说明)|KMap.QueryMode.ChinesePromptQuery|查询模式|
|callback|true|[Function](#callback函数参数说明)|-|回调函数|
|onError|false|[Function](#onerror函数参数说明)|-|错误回调函数|

##### QueryMode参数说明

|参数名称|描述|实际值|
|:--|:--|:--:|
|KMap.QUERY_MODE.CHINESE_PROMPT_QUERY|中文提示查询|0|
|KMap.QUERY_MODE.CHINESE_PRECISE_QUERY|中文精确查询|1|
|KMap.QUERY_MODE.CHINESE_STATISTICS_QUERY|POI 统计数量查询模式，保持和基础数据聚合查询结果一致|2|

##### callback函数参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|res|[CallbackRes](#callbackres参数说明)|-|结束回调信息|

###### CallbackRes参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|status|number|-|10-成功,20-失败|
|data|Array&lt;[RoadDataType](#roaddatatype参数说明)&gt;|-|响应结果|
|total|number|-|总条数|

###### RoadDataType参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|bigClass|string|-|一级分类名称|
|className|string|-|二级分类名称|
|smallClass|string|-|三级分类名称|
|kindCode|string|-|分类编码|
|province|number|-|省级行政编码|
|provinceName|string|-|省份名称|
|city|number|-|市级编码|
|cityName|string|-|城市名|
|district|number|-|区级行政编码|
|areaName|string|-|地区名|
|name|string|-|名称|
|length|number|-|路线长度，单位是米|
|location|object|-|几何图形|
|locationpoint|Array&lt;number&gt;|-|经纬度|
|longitude|number|-|经度|
|latitude|number|-|纬度|

##### onError函数参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|error|[IErrorCodeInfo](#ierrorcodeinfo参数说明)|-|错误信息|

###### IErrorCodeInfo参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|code|string|-|错误码编号|
|message|string|-|错误信息|

### 示例


```
kmap.queryTriangleSpaceRoad({
    code: '320500',
    keyword: '金山',
    pageNo: 10,
    maxCount: 10,
    callback: function(res) {
            console.log(res);
     }
});
```


## queryCircleSpaceRoad

### 描述

搜索绘制的圆形内的指定道路信息。

### 参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|opts|true|[QueryCircleSpaceRoadOptions](#querycirclespaceroadoptions参数说明)|-|-|

#### QueryCircleSpaceRoadOptions参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|code|true|string|-| 行政编码|
|keyword|false|string|-|关键字|
|searchType|false|Array&lt;string&gt;|-|道路分类，可传入多个，231211(铁路);600001(高速道路);600002(城市高速);600003(国道);600004(省道);600006(县道);600007(乡镇村道路);600008(其它道路);600009(九级路);600010(步行道路);600013(轮渡);600014(人渡);600015(自行车专用道);600016(城市支路);600017(次干道);600018(主干道);600019(乡道);600020(村道);600021(景区道路);600022(绿道);600023(步行街);600024(人行天桥);600025(人行横道);600026(地下通道);600027(天桥梯道);600028(地下通道梯道);600029(设施内人行道);600030(人行设施连接路);600031(交通设施内通道);600032(设施内道路);600033(索道);600034(景区轮渡线);600035(栈道)|
|maxCount|false|number|10| 查询最大返回数量|
|pageNo|false|number|1|页码, 最小为1|
|queryMode|false|[QueryMode](#querymode参数说明)|KMap.QueryMode.ChinesePromptQuery|查询模式|
|callback|true|[Function](#callback函数参数说明)|-|回调函数|
|onError|false|[Function](#onerror函数参数说明)|-|错误回调函数|

##### QueryMode参数说明

|参数名称|描述|实际值|
|:--|:--|:--:|
|KMap.QUERY_MODE.CHINESE_PROMPT_QUERY|中文提示查询|0|
|KMap.QUERY_MODE.CHINESE_PRECISE_QUERY|中文精确查询|1|
|KMap.QUERY_MODE.CHINESE_STATISTICS_QUERY|POI 统计数量查询模式，保持和基础数据聚合查询结果一致|2|

##### callback函数参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|res|[CallbackRes](#callbackres参数说明)|-|结束回调信息|

###### CallbackRes参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|status|number|-|10-成功,20-失败|
|data|Array&lt;[RoadDataType](#roaddatatype参数说明)&gt;|-|响应结果|
|total|number|-|总条数|

###### RoadDataType参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|bigClass|string|-|一级分类名称|
|className|string|-|二级分类名称|
|smallClass|string|-|三级分类名称|
|kindCode|string|-|分类编码|
|province|number|-|省级行政编码|
|provinceName|string|-|省份名称|
|city|number|-|市级编码|
|cityName|string|-|城市名|
|district|number|-|区级行政编码|
|areaName|string|-|地区名|
|name|string|-|名称|
|length|number|-|路线长度，单位是米|
|location|object|-|几何图形|
|locationpoint|Array&lt;number&gt;|-|经纬度|
|longitude|number|-|经度|
|latitude|number|-|纬度|

##### onError函数参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|error|[IErrorCodeInfo](#ierrorcodeinfo参数说明)|-|错误信息|

###### IErrorCodeInfo参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|code|string|-|错误码编号|
|message|string|-|错误信息|

### 示例


```
kmap.queryCircleSpaceRoad({
    code: '320500',
    keyword: '金山',
    pageNo: 10,
    maxCount: 10,
    callback: function(res) {
            console.log(res);
     }
});
```


## queryRectangleSpaceRoad

### 描述

搜索绘制的矩形内的指定道路信息。

### 参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|opts|true|[QueryRectangleSpaceRoadOptions](#queryrectanglespaceroadoptions参数说明)|-|-|

#### QueryRectangleSpaceRoadOptions参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|code|true|string|-| 行政编码|
|keyword|false|string|-|关键字|
|searchType|false|Array&lt;string&gt;|-|道路分类，可传入多个，231211(铁路);600001(高速道路);600002(城市高速);600003(国道);600004(省道);600006(县道);600007(乡镇村道路);600008(其它道路);600009(九级路);600010(步行道路);600013(轮渡);600014(人渡);600015(自行车专用道);600016(城市支路);600017(次干道);600018(主干道);600019(乡道);600020(村道);600021(景区道路);600022(绿道);600023(步行街);600024(人行天桥);600025(人行横道);600026(地下通道);600027(天桥梯道);600028(地下通道梯道);600029(设施内人行道);600030(人行设施连接路);600031(交通设施内通道);600032(设施内道路);600033(索道);600034(景区轮渡线);600035(栈道)|
|maxCount|false|number|10| 查询最大返回数量|
|pageNo|false|number|1|页码, 最小为1|
|queryMode|false|[QueryMode](#querymode参数说明)|KMap.QueryMode.ChinesePromptQuery|查询模式|
|callback|true|[Function](#callback函数参数说明)|-|回调函数|
|onError|false|[Function](#onerror函数参数说明)|-|错误回调函数|

##### QueryMode参数说明

|参数名称|描述|实际值|
|:--|:--|:--:|
|KMap.QUERY_MODE.CHINESE_PROMPT_QUERY|中文提示查询|0|
|KMap.QUERY_MODE.CHINESE_PRECISE_QUERY|中文精确查询|1|
|KMap.QUERY_MODE.CHINESE_STATISTICS_QUERY|POI 统计数量查询模式，保持和基础数据聚合查询结果一致|2|

##### callback函数参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|res|[CallbackRes](#callbackres参数说明)|-|结束回调信息|

###### CallbackRes参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|status|number|-|10-成功,20-失败|
|data|Array&lt;[RoadDataType](#roaddatatype参数说明)&gt;|-|响应结果|
|total|number|-|总条数|

###### RoadDataType参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|bigClass|string|-|一级分类名称|
|className|string|-|二级分类名称|
|smallClass|string|-|三级分类名称|
|kindCode|string|-|分类编码|
|province|number|-|省级行政编码|
|provinceName|string|-|省份名称|
|city|number|-|市级编码|
|cityName|string|-|城市名|
|district|number|-|区级行政编码|
|areaName|string|-|地区名|
|name|string|-|名称|
|length|number|-|路线长度，单位是米|
|location|object|-|几何图形|
|locationpoint|Array&lt;number&gt;|-|经纬度|
|longitude|number|-|经度|
|latitude|number|-|纬度|

##### onError函数参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|error|[IErrorCodeInfo](#ierrorcodeinfo参数说明)|-|错误信息|

###### IErrorCodeInfo参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|code|string|-|错误码编号|
|message|string|-|错误信息|

### 示例


```
kmap.queryRectangleSpaceRoad({
    code: '320500',
    keyword: '金山',
    pageNo: 10,
    maxCount: 10,
    callback: function(res) {
            console.log(res);
     }
});
```


## queryPolygonSpaceRoad

### 描述

搜索绘制的多边形内的指定道路信息。

### 参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|opts|true|[QueryPolygonSpaceRoadOptions](#querypolygonspaceroadoptions参数说明)|-|-|

#### QueryPolygonSpaceRoadOptions参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|code|true|string|-| 行政编码|
|keyword|false|string|-|关键字|
|searchType|false|Array&lt;string&gt;|-|道路分类，可传入多个，231211(铁路);600001(高速道路);600002(城市高速);600003(国道);600004(省道);600006(县道);600007(乡镇村道路);600008(其它道路);600009(九级路);600010(步行道路);600013(轮渡);600014(人渡);600015(自行车专用道);600016(城市支路);600017(次干道);600018(主干道);600019(乡道);600020(村道);600021(景区道路);600022(绿道);600023(步行街);600024(人行天桥);600025(人行横道);600026(地下通道);600027(天桥梯道);600028(地下通道梯道);600029(设施内人行道);600030(人行设施连接路);600031(交通设施内通道);600032(设施内道路);600033(索道);600034(景区轮渡线);600035(栈道)|
|maxCount|false|number|10| 查询最大返回数量|
|pageNo|false|number|1|页码, 最小为1|
|queryMode|false|[QueryMode](#querymode参数说明)|KMap.QueryMode.ChinesePromptQuery|查询模式|
|callback|true|[Function](#callback函数参数说明)|-|回调函数|
|onError|false|[Function](#onerror函数参数说明)|-|错误回调函数|

##### QueryMode参数说明

|参数名称|描述|实际值|
|:--|:--|:--:|
|KMap.QUERY_MODE.CHINESE_PROMPT_QUERY|中文提示查询|0|
|KMap.QUERY_MODE.CHINESE_PRECISE_QUERY|中文精确查询|1|
|KMap.QUERY_MODE.CHINESE_STATISTICS_QUERY|POI 统计数量查询模式，保持和基础数据聚合查询结果一致|2|

##### callback函数参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|res|[CallbackRes](#callbackres参数说明)|-|结束回调信息|

###### CallbackRes参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|status|number|-|10-成功,20-失败|
|data|Array&lt;[RoadDataType](#roaddatatype参数说明)&gt;|-|响应结果|
|total|number|-|总条数|

###### RoadDataType参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|bigClass|string|-|一级分类名称|
|className|string|-|二级分类名称|
|smallClass|string|-|三级分类名称|
|kindCode|string|-|分类编码|
|province|number|-|省级行政编码|
|provinceName|string|-|省份名称|
|city|number|-|市级编码|
|cityName|string|-|城市名|
|district|number|-|区级行政编码|
|areaName|string|-|地区名|
|name|string|-|名称|
|length|number|-|路线长度，单位是米|
|location|object|-|几何图形|
|locationpoint|Array&lt;number&gt;|-|经纬度|
|longitude|number|-|经度|
|latitude|number|-|纬度|

##### onError函数参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|error|[IErrorCodeInfo](#ierrorcodeinfo参数说明)|-|错误信息|

###### IErrorCodeInfo参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|code|string|-|错误码编号|
|message|string|-|错误信息|

### 示例


```
kmap.queryPolygonSpaceRoad({
    code: '320500',
    keyword: '金山',
    pageNo: 10,
    maxCount: 10,
    callback: function(res) {
            console.log(res);
     }
});
```


## queryPointBufferRoad

### 描述

点缓冲区查询道路信息。

### 参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|opts|true|[QueryPointBufferRoadOptions](#querypointbufferroadoptions参数说明)|-|-|

#### QueryPointBufferRoadOptions参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|point|true|[LngLat](#lnglat参数说明（类型）)|-|查询的点坐标|
|radius|false|number|1|查询半径，单位千米|
|code|true|string|-| 行政编码|
|keyword|false|string|-|关键字|
|searchType|false|Array&lt;string&gt;|-|道路分类，可传入多个，231211(铁路);600001(高速道路);600002(城市高速);600003(国道);600004(省道);600006(县道);600007(乡镇村道路);600008(其它道路);600009(九级路);600010(步行道路);600013(轮渡);600014(人渡);600015(自行车专用道);600016(城市支路);600017(次干道);600018(主干道);600019(乡道);600020(村道);600021(景区道路);600022(绿道);600023(步行街);600024(人行天桥);600025(人行横道);600026(地下通道);600027(天桥梯道);600028(地下通道梯道);600029(设施内人行道);600030(人行设施连接路);600031(交通设施内通道);600032(设施内道路);600033(索道);600034(景区轮渡线);600035(栈道)|
|maxCount|false|number|10| 查询最大返回数量|
|pageNo|false|number|1|页码, 最小为1|
|queryMode|false|[QueryMode](#querymode参数说明)|KMap.QueryMode.ChinesePromptQuery|查询模式|
|callback|true|[Function](#callback函数参数说明)|-|回调函数|
|onError|false|[Function](#onerror函数参数说明)|-|错误回调函数|

##### LngLat参数说明（类型）

|参数名称|类型|说明|
|:--|:--:|:--|
|LngLat|[number, number]|经纬度坐标|

##### QueryMode参数说明

|参数名称|描述|实际值|
|:--|:--|:--:|
|KMap.QUERY_MODE.CHINESE_PROMPT_QUERY|中文提示查询|0|
|KMap.QUERY_MODE.CHINESE_PRECISE_QUERY|中文精确查询|1|
|KMap.QUERY_MODE.CHINESE_STATISTICS_QUERY|POI 统计数量查询模式，保持和基础数据聚合查询结果一致|2|

##### callback函数参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|res|[CallbackRes](#callbackres参数说明)|-|结束回调信息|

###### CallbackRes参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|status|number|-|10-成功,20-失败|
|data|Array&lt;[RoadDataType](#roaddatatype参数说明)&gt;|-|响应结果|
|total|number|-|总条数|

###### RoadDataType参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|bigClass|string|-|一级分类名称|
|className|string|-|二级分类名称|
|smallClass|string|-|三级分类名称|
|kindCode|string|-|分类编码|
|province|number|-|省级行政编码|
|provinceName|string|-|省份名称|
|city|number|-|市级编码|
|cityName|string|-|城市名|
|district|number|-|区级行政编码|
|areaName|string|-|地区名|
|name|string|-|名称|
|length|number|-|路线长度，单位是米|
|location|object|-|几何图形|
|locationpoint|Array&lt;number&gt;|-|经纬度|
|longitude|number|-|经度|
|latitude|number|-|纬度|

##### onError函数参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|error|[IErrorCodeInfo](#ierrorcodeinfo参数说明)|-|错误信息|

###### IErrorCodeInfo参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|code|string|-|错误码编号|
|message|string|-|错误信息|

### 示例


```
kmap.queryPointBufferRoad({
   point: [120, 30],
   radius: 500,
   code: '320500',
   callback: function (res) {
       console.log(res.status); // 10 或者 20
       console.log(res.data); // 查询到的数据
   }
});
```


## queryLineBufferRoad

### 描述

线缓冲区查询道路信息。

### 参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|opts|true|[QueryLineBufferRoadOptions](#querylinebufferroadoptions参数说明)|-|-|

#### QueryLineBufferRoadOptions参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|polyline|true|Array&lt;[LngLat](#lnglat参数说明（类型）)&gt;|-|线的点坐标集合|
|radius|false|number|1|查询半径，单位千米|
|code|true|string|-| 行政编码|
|keyword|false|string|-|关键字|
|maxCount|false|number|10| 查询最大返回数量|
|pageNo|false|number|1|页码, 最小为1|
|queryMode|false|[QueryMode](#querymode参数说明)|KMap.QueryMode.ChinesePromptQuery|查询模式|
|callback|true|[Function](#callback函数参数说明)|-|回调函数|
|onError|false|[Function](#onerror函数参数说明)|-|错误回调函数|

##### LngLat参数说明（类型）

|参数名称|类型|说明|
|:--|:--:|:--|
|LngLat|[number, number]|经纬度坐标|

##### QueryMode参数说明

|参数名称|描述|实际值|
|:--|:--|:--:|
|KMap.QUERY_MODE.CHINESE_PROMPT_QUERY|中文提示查询|0|
|KMap.QUERY_MODE.CHINESE_PRECISE_QUERY|中文精确查询|1|
|KMap.QUERY_MODE.CHINESE_STATISTICS_QUERY|POI 统计数量查询模式，保持和基础数据聚合查询结果一致|2|

##### callback函数参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|res|[CallbackRes](#callbackres参数说明)|-|结束回调信息|

###### CallbackRes参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|status|number|-|10-成功,20-失败|
|data|Array&lt;[RoadDataType](#roaddatatype参数说明)&gt;|-|响应结果|
|total|number|-|总条数|

###### RoadDataType参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|bigClass|string|-|一级分类名称|
|className|string|-|二级分类名称|
|smallClass|string|-|三级分类名称|
|kindCode|string|-|分类编码|
|province|number|-|省级行政编码|
|provinceName|string|-|省份名称|
|city|number|-|市级编码|
|cityName|string|-|城市名|
|district|number|-|区级行政编码|
|areaName|string|-|地区名|
|name|string|-|名称|
|length|number|-|路线长度，单位是米|
|location|object|-|几何图形|
|locationpoint|Array&lt;number&gt;|-|经纬度|
|longitude|number|-|经度|
|latitude|number|-|纬度|

##### onError函数参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|error|[IErrorCodeInfo](#ierrorcodeinfo参数说明)|-|错误信息|

###### IErrorCodeInfo参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|code|string|-|错误码编号|
|message|string|-|错误信息|

### 示例


```
 kmap.queryLineBufferRoad({
   polyline: [
     [120.54051428521649, 31.30228893939855],
     [120.5596610892938, 31.292836411614218],
   ],
   radius: 500,
   code: '320500',
   callback: function (res) {
     console.log(res.status); // 10 或者 20
     console.log(res.data); // 查询到的数据
   },
 });
```


## queryPolygonBufferRoad

### 描述

多边形缓冲区查询道路信息。

### 参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|opts|true|[QueryPolygonBufferRoadOptions](#querypolygonbufferroadoptions参数说明)|-|-|

#### QueryPolygonBufferRoadOptions参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|polygon|true|Array&lt;[LngLat](#lnglat参数说明（类型）)&gt;|-|多边形坐标集合|
|radius|false|number|1|查询半径，单位千米|
|code|true|string|-| 行政编码|
|keyword|false|string|-|关键字|
|maxCount|false|number|10| 查询最大返回数量|
|pageNo|false|number|1|页码, 最小为1|
|queryMode|false|[QueryMode](#querymode参数说明)|KMap.QueryMode.ChinesePromptQuery|查询模式|
|callback|true|[Function](#callback函数参数说明)|-|回调函数|
|onError|false|[Function](#onerror函数参数说明)|-|错误回调函数|

##### LngLat参数说明（类型）

|参数名称|类型|说明|
|:--|:--:|:--|
|LngLat|[number, number]|经纬度坐标|

##### QueryMode参数说明

|参数名称|描述|实际值|
|:--|:--|:--:|
|KMap.QUERY_MODE.CHINESE_PROMPT_QUERY|中文提示查询|0|
|KMap.QUERY_MODE.CHINESE_PRECISE_QUERY|中文精确查询|1|
|KMap.QUERY_MODE.CHINESE_STATISTICS_QUERY|POI 统计数量查询模式，保持和基础数据聚合查询结果一致|2|

##### callback函数参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|res|[CallbackRes](#callbackres参数说明)|-|结束回调信息|

###### CallbackRes参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|status|number|-|10-成功,20-失败|
|data|Array&lt;[RoadDataType](#roaddatatype参数说明)&gt;|-|响应结果|
|total|number|-|总条数|

###### RoadDataType参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|bigClass|string|-|一级分类名称|
|className|string|-|二级分类名称|
|smallClass|string|-|三级分类名称|
|kindCode|string|-|分类编码|
|province|number|-|省级行政编码|
|provinceName|string|-|省份名称|
|city|number|-|市级编码|
|cityName|string|-|城市名|
|district|number|-|区级行政编码|
|areaName|string|-|地区名|
|name|string|-|名称|
|length|number|-|路线长度，单位是米|
|location|object|-|几何图形|
|locationpoint|Array&lt;number&gt;|-|经纬度|
|longitude|number|-|经度|
|latitude|number|-|纬度|

##### onError函数参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|error|[IErrorCodeInfo](#ierrorcodeinfo参数说明)|-|错误信息|

###### IErrorCodeInfo参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|code|string|-|错误码编号|
|message|string|-|错误信息|

### 示例


```
kmap.queryPolygonBufferRoad({
  polygon: [
    [120.53227813719252, 31.303803950036936],
    [120.52300842284279, 31.282974272943534],
    [120.5539074706943, 31.29001580553458],
    [120.53227813719252, 31.303803950036936],
  ],
  radius: 500,
  code: '320500',
  callback: function (res) {
    console.log(res.status); // 10 或者 20
    console.log(res.data); // 查询到的数据
  },
});
```


## queryRoadListByName

### 描述

根据关键字查询道路列表

### 参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|opts|true|[QueryRoadListByNameOptions](#queryroadlistbynameoptions参数说明)|-|-|

#### QueryRoadListByNameOptions参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|keyword|true|string|-|关键字|
|code|true|string|-|行政编码|
|maxCount|false|number|50| 查询最大返回数量|
|pageNo|false|number|1|页码, 最小为1|
|callback|true|[Function](#callback函数参数说明)|-|回调函数|
|onError|false|[Function](#onerror函数参数说明)|-|错误回调函数|

##### callback函数参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|res|[CallbackRes](#callbackres参数说明)|-|结束回调信息|

###### CallbackRes参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|status|number|-|10-成功,20-失败|
|data|Array&lt;any&gt;|-|响应结果|

##### onError函数参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|error|[IErrorCodeInfo](#ierrorcodeinfo参数说明)|-|错误信息|

###### IErrorCodeInfo参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|code|string|-|错误码编号|
|message|string|-|错误信息|

### 示例


```
kmap.queryRoadListByName({
  keyword: '金山',
  code: '320500',
  pageNo: 1,
  maxCount: 10,
  callback: function (res) {
    console.log('道路列表结果res', res);
  },
});
```


## 路口

## queryCrossByType

### 描述

根据查询的关键字搜索路口信息。行政编码支持省市区，支持模糊查询，数据可支持全国（因测试环境限制，目前只导入了江苏和安徽的数据，需要其他省份数据可申请）

### 参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|opts|true|[QueryCrossByTypeOptions](#querycrossbytypeoptions参数说明)|-|-|

#### QueryCrossByTypeOptions参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|code|false|string|-| 行政编码|
|keyword|true|string|-|关键字|
|sortType|false|number|-|路口排序类型：1、东向西 2、西向东 3、北向南 4、南向北|
|maxCount|false|number|10| 查询最大返回数量|
|pageNo|false|number|1|页码, 最小为1|
|queryMode|false|[QueryMode](#querymode参数说明)|KMap.QueryMode.ChinesePromptQuery|查询模式|
|callback|true|[Function](#callback函数参数说明)|-|回调函数|
|onError|false|[Function](#onerror函数参数说明)|-|错误回调函数|

##### QueryMode参数说明

|参数名称|描述|实际值|
|:--|:--|:--:|
|KMap.QUERY_MODE.CHINESE_PROMPT_QUERY|中文提示查询|0|
|KMap.QUERY_MODE.CHINESE_PRECISE_QUERY|中文精确查询|1|
|KMap.QUERY_MODE.CHINESE_STATISTICS_QUERY|POI 统计数量查询模式，保持和基础数据聚合查询结果一致|2|

##### callback函数参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|res|[CallbackRes](#callbackres参数说明)|-|结束回调信息|

###### CallbackRes参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|status|number|-|10-成功,20-失败|
|data|Array&lt;[CrossDataType](#crossdatatype参数说明)&gt;|-|响应结果|
|total|number|-|总条数|

###### CrossDataType参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|bigClass|string|-|一级分类名称|
|className|string|-|二级分类名称|
|smallClass|string|-|三级分类名称|
|kindCode|string|-|分类编码|
|province|string|-|省级行政编码|
|provinceName|string|-|省份名称|
|city|string|-|市级编码|
|cityName|string|-|城市名|
|district|string|-|区级行政编码|
|areaName|string|-|地区名|
|name|string|-|名称|
|location|object|-|几何图形|
|locationpoint|Array&lt;number&gt;|-|经纬度|
|longitude|number|-|经度|
|latitude|number|-|纬度|

##### onError函数参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|error|[IErrorCodeInfo](#ierrorcodeinfo参数说明)|-|错误信息|

###### IErrorCodeInfo参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|code|string|-|错误码编号|
|message|string|-|错误信息|

### 示例


```
kmap.queryCrossByType({
    code: '320505',
    keyword: '金山',
    pageNo: 1,
    maxCount: 10,
    callback: function(res) {
            console.log(res);
     }
});
```


## querySpaceCross

### 描述

搜索指定坐标范围内的路口信息。

### 参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|opts|true|[QuerySpaceCrossOptions](#queryspacecrossoptions参数说明)|-|-|

#### QuerySpaceCrossOptions参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|code|false|string|-| 行政编码|
|keyword|true|string|-|关键字|
|polygon|true|Array&lt;[LngLat](#lnglat参数说明（类型）)&gt;\|Array&lt;Array&lt;Array&lt;[LngLat](#lnglat参数说明（类型）)&gt;&gt;&gt;|-|查询的面信息，支持2维数组单面或4维数组多面|
|sortType|false|number|-|路口排序类型：1、东向西 2、西向东 3、北向南 4、南向北|
|maxCount|false|number|10| 查询最大返回数量|
|pageNo|false|number|1|页码, 最小为1|
|queryMode|false|[QueryMode](#querymode参数说明)|KMap.QueryMode.ChinesePromptQuery|查询模式|
|callback|true|[Function](#callback函数参数说明)|-|回调函数|
|onError|false|[Function](#onerror函数参数说明)|-|错误回调函数|

##### LngLat参数说明（类型）

|参数名称|类型|说明|
|:--|:--:|:--|
|LngLat|[number, number]|经纬度坐标|

##### QueryMode参数说明

|参数名称|描述|实际值|
|:--|:--|:--:|
|KMap.QUERY_MODE.CHINESE_PROMPT_QUERY|中文提示查询|0|
|KMap.QUERY_MODE.CHINESE_PRECISE_QUERY|中文精确查询|1|
|KMap.QUERY_MODE.CHINESE_STATISTICS_QUERY|POI 统计数量查询模式，保持和基础数据聚合查询结果一致|2|

##### callback函数参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|res|[CallbackRes](#callbackres参数说明)|-|结束回调信息|

###### CallbackRes参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|status|number|-|10-成功,20-失败|
|data|Array&lt;[CrossDataType](#crossdatatype参数说明)&gt;|-|响应结果|
|total|number|-|总条数|

###### CrossDataType参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|bigClass|string|-|一级分类名称|
|className|string|-|二级分类名称|
|smallClass|string|-|三级分类名称|
|kindCode|string|-|分类编码|
|province|string|-|省级行政编码|
|provinceName|string|-|省份名称|
|city|string|-|市级编码|
|cityName|string|-|城市名|
|district|string|-|区级行政编码|
|areaName|string|-|地区名|
|name|string|-|名称|
|location|object|-|几何图形|
|locationpoint|Array&lt;number&gt;|-|经纬度|
|longitude|number|-|经度|
|latitude|number|-|纬度|

##### onError函数参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|error|[IErrorCodeInfo](#ierrorcodeinfo参数说明)|-|错误信息|

###### IErrorCodeInfo参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|code|string|-|错误码编号|
|message|string|-|错误信息|

### 示例


```
var params = {
  polygon: [
    [120.26833122769031, 31.475150978300626],
    [121.04854668179931, 31.475150978300626],
    [121.04854668179931, 31.10997909409405],
    [120.26833122769031, 31.10997909409405],
    [120.26833122769031, 31.475150978300626]
  ],
  code: '320505',
  keyword: '金山',
  pageNo: 1,
  maxCount: 20,
  callback: function (res) {
    console.log(res);
  },
};
kmap.querySpaceCross(params);
```


## queryTriangleSpaceCross

### 描述

搜索绘制的三角形内的路口信息。

### 参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|opts|true|[QueryTriangleSpaceCrossOptions](#querytrianglespacecrossoptions参数说明)|-|-|

#### QueryTriangleSpaceCrossOptions参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|code|false|string|-| 行政编码|
|keyword|true|string|-|关键字|
|sortType|false|number|-|路口排序类型：1、东向西 2、西向东 3、北向南 4、南向北|
|maxCount|false|number|10| 查询最大返回数量|
|pageNo|false|number|1|页码, 最小为1|
|queryMode|false|[QueryMode](#querymode参数说明)|KMap.QueryMode.ChinesePromptQuery|查询模式|
|callback|true|[Function](#callback函数参数说明)|-|回调函数|
|onError|false|[Function](#onerror函数参数说明)|-|错误回调函数|

##### QueryMode参数说明

|参数名称|描述|实际值|
|:--|:--|:--:|
|KMap.QUERY_MODE.CHINESE_PROMPT_QUERY|中文提示查询|0|
|KMap.QUERY_MODE.CHINESE_PRECISE_QUERY|中文精确查询|1|
|KMap.QUERY_MODE.CHINESE_STATISTICS_QUERY|POI 统计数量查询模式，保持和基础数据聚合查询结果一致|2|

##### callback函数参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|res|[CallbackRes](#callbackres参数说明)|-|结束回调信息|

###### CallbackRes参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|status|number|-|10-成功,20-失败|
|data|Array&lt;[CrossDataType](#crossdatatype参数说明)&gt;|-|响应结果|
|total|number|-|总条数|

###### CrossDataType参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|bigClass|string|-|一级分类名称|
|className|string|-|二级分类名称|
|smallClass|string|-|三级分类名称|
|kindCode|string|-|分类编码|
|province|string|-|省级行政编码|
|provinceName|string|-|省份名称|
|city|string|-|市级编码|
|cityName|string|-|城市名|
|district|string|-|区级行政编码|
|areaName|string|-|地区名|
|name|string|-|名称|
|location|object|-|几何图形|
|locationpoint|Array&lt;number&gt;|-|经纬度|
|longitude|number|-|经度|
|latitude|number|-|纬度|

##### onError函数参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|error|[IErrorCodeInfo](#ierrorcodeinfo参数说明)|-|错误信息|

###### IErrorCodeInfo参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|code|string|-|错误码编号|
|message|string|-|错误信息|

### 示例


```
kmap.queryTriangleSpaceCross({
    code: '320505',
    keyword: 'jinshan',
    pageNo: 1,
    maxCount: 10,
    callback: function(res) {
            console.log(res);
     }
});
```


## queryCircleSpaceCross

### 描述

搜索绘制的圆形内的指定路口信息。

### 参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|opts|true|[QueryCircleSpaceCrossOptions](#querycirclespacecrossoptions参数说明)|-|-|

#### QueryCircleSpaceCrossOptions参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|code|false|string|-| 行政编码|
|keyword|true|string|-|关键字|
|sortType|false|number|-|路口排序类型：1、东向西 2、西向东 3、北向南 4、南向北|
|maxCount|false|number|10| 查询最大返回数量|
|pageNo|false|number|1|页码, 最小为1|
|queryMode|false|[QueryMode](#querymode参数说明)|KMap.QueryMode.ChinesePromptQuery|查询模式|
|callback|true|[Function](#callback函数参数说明)|-|回调函数|
|onError|false|[Function](#onerror函数参数说明)|-|错误回调函数|

##### QueryMode参数说明

|参数名称|描述|实际值|
|:--|:--|:--:|
|KMap.QUERY_MODE.CHINESE_PROMPT_QUERY|中文提示查询|0|
|KMap.QUERY_MODE.CHINESE_PRECISE_QUERY|中文精确查询|1|
|KMap.QUERY_MODE.CHINESE_STATISTICS_QUERY|POI 统计数量查询模式，保持和基础数据聚合查询结果一致|2|

##### callback函数参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|res|[CallbackRes](#callbackres参数说明)|-|结束回调信息|

###### CallbackRes参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|status|number|-|10-成功,20-失败|
|data|Array&lt;[CrossDataType](#crossdatatype参数说明)&gt;|-|响应结果|
|total|number|-|总条数|

###### CrossDataType参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|bigClass|string|-|一级分类名称|
|className|string|-|二级分类名称|
|smallClass|string|-|三级分类名称|
|kindCode|string|-|分类编码|
|province|string|-|省级行政编码|
|provinceName|string|-|省份名称|
|city|string|-|市级编码|
|cityName|string|-|城市名|
|district|string|-|区级行政编码|
|areaName|string|-|地区名|
|name|string|-|名称|
|location|object|-|几何图形|
|locationpoint|Array&lt;number&gt;|-|经纬度|
|longitude|number|-|经度|
|latitude|number|-|纬度|

##### onError函数参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|error|[IErrorCodeInfo](#ierrorcodeinfo参数说明)|-|错误信息|

###### IErrorCodeInfo参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|code|string|-|错误码编号|
|message|string|-|错误信息|

### 示例


```
kmap.queryTriangleSpaceCross({
    code: '320505',
    keyword: 'jinshan',
    pageNo: 1,
    maxCount: 10,
    callback: function(res) {
            console.log(res);
     }
});
```


## queryRectangleSpaceCross

### 描述

搜索绘制的矩形的指定路口信息。

### 参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|opts|true|[QueryRectangleSpaceCrossOptions](#queryrectanglespacecrossoptions参数说明)|-|-|

#### QueryRectangleSpaceCrossOptions参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|code|false|string|-| 行政编码|
|keyword|true|string|-|关键字|
|sortType|false|number|-|路口排序类型：1、东向西 2、西向东 3、北向南 4、南向北|
|maxCount|false|number|10| 查询最大返回数量|
|pageNo|false|number|1|页码, 最小为1|
|queryMode|false|[QueryMode](#querymode参数说明)|KMap.QueryMode.ChinesePromptQuery|查询模式|
|callback|true|[Function](#callback函数参数说明)|-|回调函数|
|onError|false|[Function](#onerror函数参数说明)|-|错误回调函数|

##### QueryMode参数说明

|参数名称|描述|实际值|
|:--|:--|:--:|
|KMap.QUERY_MODE.CHINESE_PROMPT_QUERY|中文提示查询|0|
|KMap.QUERY_MODE.CHINESE_PRECISE_QUERY|中文精确查询|1|
|KMap.QUERY_MODE.CHINESE_STATISTICS_QUERY|POI 统计数量查询模式，保持和基础数据聚合查询结果一致|2|

##### callback函数参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|res|[CallbackRes](#callbackres参数说明)|-|结束回调信息|

###### CallbackRes参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|status|number|-|10-成功,20-失败|
|data|Array&lt;[CrossDataType](#crossdatatype参数说明)&gt;|-|响应结果|
|total|number|-|总条数|

###### CrossDataType参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|bigClass|string|-|一级分类名称|
|className|string|-|二级分类名称|
|smallClass|string|-|三级分类名称|
|kindCode|string|-|分类编码|
|province|string|-|省级行政编码|
|provinceName|string|-|省份名称|
|city|string|-|市级编码|
|cityName|string|-|城市名|
|district|string|-|区级行政编码|
|areaName|string|-|地区名|
|name|string|-|名称|
|location|object|-|几何图形|
|locationpoint|Array&lt;number&gt;|-|经纬度|
|longitude|number|-|经度|
|latitude|number|-|纬度|

##### onError函数参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|error|[IErrorCodeInfo](#ierrorcodeinfo参数说明)|-|错误信息|

###### IErrorCodeInfo参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|code|string|-|错误码编号|
|message|string|-|错误信息|

### 示例


```
kmap.queryRectangleSpaceCross({
    code: '320505',
    keyword: 'jinshan',
    pageNo: 1,
    maxCount: 10,
    callback: function(res) {
            console.log(res);
     }
});
```


## queryPolygonSpaceCross

### 描述

搜索绘制的多边形的指定路口信息。

### 参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|opts|true|[queryPolygonSpaceCrossOptions](#querypolygonspacecrossoptions参数说明)|-|-|

#### queryPolygonSpaceCrossOptions参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|code|false|string|-| 行政编码|
|keyword|true|string|-|关键字|
|sortType|false|number|-|路口排序类型：1、东向西 2、西向东 3、北向南 4、南向北|
|maxCount|false|number|10| 查询最大返回数量|
|pageNo|false|number|1|页码, 最小为1|
|queryMode|false|[QueryMode](#querymode参数说明)|KMap.QueryMode.ChinesePromptQuery|查询模式|
|callback|true|[Function](#callback函数参数说明)|-|回调函数|
|onError|false|[Function](#onerror函数参数说明)|-|错误回调函数|

##### QueryMode参数说明

|参数名称|描述|实际值|
|:--|:--|:--:|
|KMap.QUERY_MODE.CHINESE_PROMPT_QUERY|中文提示查询|0|
|KMap.QUERY_MODE.CHINESE_PRECISE_QUERY|中文精确查询|1|
|KMap.QUERY_MODE.CHINESE_STATISTICS_QUERY|POI 统计数量查询模式，保持和基础数据聚合查询结果一致|2|

##### callback函数参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|res|[CallbackRes](#callbackres参数说明)|-|结束回调信息|

###### CallbackRes参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|status|number|-|10-成功,20-失败|
|data|Array&lt;[CrossDataType](#crossdatatype参数说明)&gt;|-|响应结果|
|total|number|-|总条数|

###### CrossDataType参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|bigClass|string|-|一级分类名称|
|className|string|-|二级分类名称|
|smallClass|string|-|三级分类名称|
|kindCode|string|-|分类编码|
|province|string|-|省级行政编码|
|provinceName|string|-|省份名称|
|city|string|-|市级编码|
|cityName|string|-|城市名|
|district|string|-|区级行政编码|
|areaName|string|-|地区名|
|name|string|-|名称|
|location|object|-|几何图形|
|locationpoint|Array&lt;number&gt;|-|经纬度|
|longitude|number|-|经度|
|latitude|number|-|纬度|

##### onError函数参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|error|[IErrorCodeInfo](#ierrorcodeinfo参数说明)|-|错误信息|

###### IErrorCodeInfo参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|code|string|-|错误码编号|
|message|string|-|错误信息|

### 示例


```
kmap.queryPolygonSpaceCross({
    code: '320505',
    keyword: 'jinshan',
    pageNo: 1,
    maxCount: 10,
    callback: function(res) {
            console.log(res);
     }
});
```


## queryPointBufferCross

### 描述

点缓冲区查询路口信息。

### 参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|opts|true|[QueryPointBufferCrossOptions](#querypointbuffercrossoptions参数说明)|-|-|

#### QueryPointBufferCrossOptions参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|point|true|[LngLat](#lnglat参数说明（类型）)|-|查询的点坐标|
|radius|false|number|1|查询半径，单位千米|
|code|false|string|-| 行政编码|
|keyword|false|string|-|关键字|
|sortType|false|number|-|路口排序类型：1、东向西 2、西向东 3、北向南 4、南向北|
|maxCount|false|number|10| 查询最大返回数量|
|pageNo|false|number|1|页码, 最小为1|
|queryMode|false|[QueryMode](#querymode参数说明)|KMap.QueryMode.ChinesePromptQuery|查询模式|
|callback|true|[Function](#callback函数参数说明)|-|回调函数|
|onError|false|[Function](#onerror函数参数说明)|-|错误回调函数|

##### LngLat参数说明（类型）

|参数名称|类型|说明|
|:--|:--:|:--|
|LngLat|[number, number]|经纬度坐标|

##### QueryMode参数说明

|参数名称|描述|实际值|
|:--|:--|:--:|
|KMap.QUERY_MODE.CHINESE_PROMPT_QUERY|中文提示查询|0|
|KMap.QUERY_MODE.CHINESE_PRECISE_QUERY|中文精确查询|1|
|KMap.QUERY_MODE.CHINESE_STATISTICS_QUERY|POI 统计数量查询模式，保持和基础数据聚合查询结果一致|2|

##### callback函数参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|res|[CallbackRes](#callbackres参数说明)|-|结束回调信息|

###### CallbackRes参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|status|number|-|10-成功,20-失败|
|data|Array&lt;[CrossDataType](#crossdatatype参数说明)&gt;|-|响应结果|
|total|number|-|总条数|

###### CrossDataType参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|bigClass|string|-|一级分类名称|
|className|string|-|二级分类名称|
|smallClass|string|-|三级分类名称|
|kindCode|string|-|分类编码|
|province|string|-|省级行政编码|
|provinceName|string|-|省份名称|
|city|string|-|市级编码|
|cityName|string|-|城市名|
|district|string|-|区级行政编码|
|areaName|string|-|地区名|
|name|string|-|名称|
|location|object|-|几何图形|
|locationpoint|Array&lt;number&gt;|-|经纬度|
|longitude|number|-|经度|
|latitude|number|-|纬度|

##### onError函数参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|error|[IErrorCodeInfo](#ierrorcodeinfo参数说明)|-|错误信息|

###### IErrorCodeInfo参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|code|string|-|错误码编号|
|message|string|-|错误信息|

### 示例


```
kmap.queryPointBufferCross({
   point: [120, 30],
   radius: 50,
   callback: function (res) {
       console.log(res); // 查询到的数据
   }
});
```


## queryLineBufferCross

### 描述

线缓冲区查询路口信息。

### 参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|opts|true|[QueryLineBufferCrossOptions](#querylinebuffercrossoptions参数说明)|-|-|

#### QueryLineBufferCrossOptions参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|polyline|true|Array&lt;[LngLat](#lnglat参数说明（类型）)&gt;|-|查询的线坐标集合|
|radius|false|number|1|查询半径，单位千米|
|code|false|string|-| 行政编码|
|keyword|false|string|-|关键字|
|sortType|false|number|-|路口排序类型：1、东向西 2、西向东 3、北向南 4、南向北|
|maxCount|false|number|10| 查询最大返回数量|
|pageNo|false|number|1|页码, 最小为1|
|queryMode|false|[QueryMode](#querymode参数说明)|KMap.QueryMode.ChinesePromptQuery|查询模式|
|callback|true|[Function](#callback函数参数说明)|-|回调函数|
|onError|false|[Function](#onerror函数参数说明)|-|错误回调函数|

##### LngLat参数说明（类型）

|参数名称|类型|说明|
|:--|:--:|:--|
|LngLat|[number, number]|经纬度坐标|

##### QueryMode参数说明

|参数名称|描述|实际值|
|:--|:--|:--:|
|KMap.QUERY_MODE.CHINESE_PROMPT_QUERY|中文提示查询|0|
|KMap.QUERY_MODE.CHINESE_PRECISE_QUERY|中文精确查询|1|
|KMap.QUERY_MODE.CHINESE_STATISTICS_QUERY|POI 统计数量查询模式，保持和基础数据聚合查询结果一致|2|

##### callback函数参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|res|[CallbackRes](#callbackres参数说明)|-|结束回调信息|

###### CallbackRes参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|status|number|-|10-成功,20-失败|
|data|Array&lt;[CrossDataType](#crossdatatype参数说明)&gt;|-|响应结果|
|total|number|-|总条数|

###### CrossDataType参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|bigClass|string|-|一级分类名称|
|className|string|-|二级分类名称|
|smallClass|string|-|三级分类名称|
|kindCode|string|-|分类编码|
|province|string|-|省级行政编码|
|provinceName|string|-|省份名称|
|city|string|-|市级编码|
|cityName|string|-|城市名|
|district|string|-|区级行政编码|
|areaName|string|-|地区名|
|name|string|-|名称|
|location|object|-|几何图形|
|locationpoint|Array&lt;number&gt;|-|经纬度|
|longitude|number|-|经度|
|latitude|number|-|纬度|

##### onError函数参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|error|[IErrorCodeInfo](#ierrorcodeinfo参数说明)|-|错误信息|

###### IErrorCodeInfo参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|code|string|-|错误码编号|
|message|string|-|错误信息|

### 示例


```
kmap.queryLineBufferCross({
   polyline: [
            [120.54051428521649, 31.30228893939855],
            [120.5596610892938, 31.292836411614218]
       ],
   radius: 50,
       callback: function (res) {
       console.log(res); // 查询到的数据
   }
});
```


## queryPolygonBufferCross

### 描述

多边形缓冲区查询路口信息。

### 参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|opts|true|[QueryPolygonBufferCrossOptions](#querypolygonbuffercrossoptions参数说明)|-|-|

#### QueryPolygonBufferCrossOptions参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|polygon|true|Array&lt;[LngLat](#lnglat参数说明（类型）)&gt;|-|多边形坐标集合|
|radius|false|number|1|查询半径，单位千米|
|code|false|string|-| 行政编码|
|keyword|false|string|-|关键字|
|sortType|false|number|-|路口排序类型：1、东向西 2、西向东 3、北向南 4、南向北|
|maxCount|false|number|10| 查询最大返回数量|
|pageNo|false|number|1|页码, 最小为1|
|queryMode|false|[QueryMode](#querymode参数说明)|KMap.QueryMode.ChinesePromptQuery|查询模式|
|callback|true|[Function](#callback函数参数说明)|-|回调函数|
|onError|false|[Function](#onerror函数参数说明)|-|错误回调函数|

##### LngLat参数说明（类型）

|参数名称|类型|说明|
|:--|:--:|:--|
|LngLat|[number, number]|经纬度坐标|

##### QueryMode参数说明

|参数名称|描述|实际值|
|:--|:--|:--:|
|KMap.QUERY_MODE.CHINESE_PROMPT_QUERY|中文提示查询|0|
|KMap.QUERY_MODE.CHINESE_PRECISE_QUERY|中文精确查询|1|
|KMap.QUERY_MODE.CHINESE_STATISTICS_QUERY|POI 统计数量查询模式，保持和基础数据聚合查询结果一致|2|

##### callback函数参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|res|[CallbackRes](#callbackres参数说明)|-|结束回调信息|

###### CallbackRes参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|status|number|-|10-成功,20-失败|
|data|Array&lt;[CrossDataType](#crossdatatype参数说明)&gt;|-|响应结果|
|total|number|-|总条数|

###### CrossDataType参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|bigClass|string|-|一级分类名称|
|className|string|-|二级分类名称|
|smallClass|string|-|三级分类名称|
|kindCode|string|-|分类编码|
|province|string|-|省级行政编码|
|provinceName|string|-|省份名称|
|city|string|-|市级编码|
|cityName|string|-|城市名|
|district|string|-|区级行政编码|
|areaName|string|-|地区名|
|name|string|-|名称|
|location|object|-|几何图形|
|locationpoint|Array&lt;number&gt;|-|经纬度|
|longitude|number|-|经度|
|latitude|number|-|纬度|

##### onError函数参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|error|[IErrorCodeInfo](#ierrorcodeinfo参数说明)|-|错误信息|

###### IErrorCodeInfo参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|code|string|-|错误码编号|
|message|string|-|错误信息|

### 示例


```
kmap.queryPolygonBufferCross({
   polygon: [
       [120.53227813719252, 31.303803950036936],
       [120.52300842284279, 31.282974272943534],
       [120.5539074706943, 31.29001580553458],
       [120.53227813719252, 31.303803950036936]
   ],
   radius: 50,
   callback: function (res) {
       console.log(res); // 查询到的数据
   }
});
```


## querySortCrossInfoByRoadId

### 描述

根据道路的ID，查询排序后的路口列表。道路ID可以通过道路相关接口进行查询。

### 参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|opts|true|[QuerySortCrossInfoByRoadIdOptions](#querysortcrossinfobyroadidoptions参数说明)|-|-|

#### QuerySortCrossInfoByRoadIdOptions参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|id|true|string|-|道路唯一id|
|callback|true|[Function](#callback函数参数说明)|-|回调函数|
|onError|false|[Function](#onerror函数参数说明)|-|错误回调函数|

##### callback函数参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|res|[CallbackRes](#callbackres参数说明)|-|结束回调信息|

###### CallbackRes参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|status|number|-|10-成功,20-失败|
|data|Array&lt;any&gt;|-|响应结果|

##### onError函数参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|error|[IErrorCodeInfo](#ierrorcodeinfo参数说明)|-|错误信息|

###### IErrorCodeInfo参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|code|string|-|错误码编号|
|message|string|-|错误信息|

### 示例


```
kmap.querySortCrossInfoByRoadId({
  id: 'AW3t0OsT1G-5W4z4BLat',
  callback: function (res) {
    console.log('路口排序列表', res);
  },
});
```


## querySortCrossInfo

### 描述

根据查询的关键字和行政区划编码，查询经过排序后的路口列表。

### 参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|opts|true|[QuerySortCrossInfoOptions](#querysortcrossinfooptions参数说明)|-|-|

#### QuerySortCrossInfoOptions参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|code|false|string|-| 行政编码|
|keyword|true|string|-|关键字|
|maxCount|false|number|1000| 查询最大返回数量|
|pageNo|false|number|1|页码, 最小为1|
|callback|true|[Function](#callback函数参数说明)|-|回调函数|
|onError|false|[Function](#onerror函数参数说明)|-|错误回调函数|

##### callback函数参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|res|[CallbackRes](#callbackres参数说明)|-|结束回调信息|

###### CallbackRes参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|status|number|-|10-成功,20-失败|
|data|Array&lt;any&gt;|-|响应结果|

##### onError函数参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|error|[IErrorCodeInfo](#ierrorcodeinfo参数说明)|-|错误信息|

###### IErrorCodeInfo参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|code|string|-|错误码编号|
|message|string|-|错误信息|

### 示例


```
kmap.querySortCrossInfo({
   keyword: '金山',
   code: '320500',
   pageNo: 2,
   maxCount: 15,
   callback: function(res) {
        console.log('路口排序结果res', res);
  }
});
```


## querySortCrossByLines

### 描述

根据线段信息，查询经过排序的在线附近的路口信息。可通过路径规划返回的途经点组合成线段后，查询此路径上的经过排序的路口。

### 参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|opts|true|[QuerySortCrossByLinesOptions](#querysortcrossbylinesoptions参数说明)|-|-|

#### QuerySortCrossByLinesOptions参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|serviceName|false|string|-|路口数据对应的服务标识|
|lines|true|Array&lt;Array&lt;[LngLat](#lnglat参数说明（类型）)&gt;&gt;|-|要获取路口的线段信息，三维数组|
|callback|true|[Function](#callback函数参数说明)|-|回调函数|
|onError|false|[Function](#onerror函数参数说明)|-|错误回调函数|

##### LngLat参数说明（类型）

|参数名称|类型|说明|
|:--|:--:|:--|
|LngLat|[number, number]|经纬度坐标|

##### callback函数参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|res|[CallbackRes](#callbackres参数说明)|-|结束回调信息|

###### CallbackRes参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|status|number|-|10-成功,20-失败|
|data|Array&lt;[CrossDataType](#crossdatatype参数说明)&gt;|-|响应结果|
|total|number|-|总条数|

###### CrossDataType参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|bigClass|string|-|一级分类名称|
|className|string|-|二级分类名称|
|smallClass|string|-|三级分类名称|
|kindCode|string|-|分类编码|
|province|string|-|省级行政编码|
|provinceName|string|-|省份名称|
|city|string|-|市级编码|
|cityName|string|-|城市名|
|district|string|-|区级行政编码|
|areaName|string|-|地区名|
|name|string|-|名称|
|location|object|-|几何图形|
|locationpoint|Array&lt;number&gt;|-|经纬度|
|longitude|number|-|经度|
|latitude|number|-|纬度|

##### onError函数参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|error|[IErrorCodeInfo](#ierrorcodeinfo参数说明)|-|错误信息|

###### IErrorCodeInfo参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|code|string|-|错误码编号|
|message|string|-|错误信息|

### 示例


```
 kmap.querySortCrossByLines({
lines: [
     [
       [120.452384246, 31.360847428],
       [120.45232, 31.36097],
       [120.452131, 31.361389],
       [120.452131, 31.361389],
       [120.451982, 31.361506],
       [120.451982, 31.361506],
       [120.451915, 31.361463],
       [120.451841, 31.361431],
       [120.451758, 31.361415],
       [120.451681, 31.36141],
       [120.451601, 31.361415]
     ]
   ],
   callback(result) {
     if (result.status === 10) {
       console.log(result.data);
     }
   }
})
```


## 路段

## queryRoadSectionByType

### 描述

根据查询的关键字搜索路段信息。行政编码支持省市区，支持模糊查询，数据可支持全国（因测试环境限制，目前只导入了江苏和安徽的数据，需要其他省份数据可申请）

### 参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|opts|true|[QueryRoadSectionByTypeOptions](#queryroadsectionbytypeoptions参数说明)|-|-|

#### QueryRoadSectionByTypeOptions参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|code|false|string|-| 行政编码|
|keyword|true|string|-|关键字|
|maxCount|false|number|10| 查询最大返回数量|
|pageNo|false|number|1|页码, 最小为1|
|queryMode|false|[QueryMode](#querymode参数说明)|KMap.QueryMode.ChinesePromptQuery|查询模式|
|callback|true|[Function](#callback函数参数说明)|-|回调函数|
|onError|false|[Function](#onerror函数参数说明)|-|错误回调函数|

##### QueryMode参数说明

|参数名称|描述|实际值|
|:--|:--|:--:|
|KMap.QUERY_MODE.CHINESE_PROMPT_QUERY|中文提示查询|0|
|KMap.QUERY_MODE.CHINESE_PRECISE_QUERY|中文精确查询|1|
|KMap.QUERY_MODE.CHINESE_STATISTICS_QUERY|POI 统计数量查询模式，保持和基础数据聚合查询结果一致|2|

##### callback函数参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|res|[CallbackRes](#callbackres参数说明)|-|结束回调信息|

###### CallbackRes参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|status|number|-|10-成功,20-失败|
|data|Array&lt;[RoadSectionDataType](#roadsectiondatatype参数说明)&gt;|-|响应结果|
|total|number|-|总条数|

###### RoadSectionDataType参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|bigClass|string|-|一级分类名称|
|className|string|-|二级分类名称|
|smallClass|string|-|三级分类名称|
|kindCode|string|-|分类编码|
|province|string|-|省级行政编码|
|provinceName|string|-|省份名称|
|city|string|-|市级编码|
|cityName|string|-|城市名|
|district|string|-|区级行政编码|
|areaName|string|-|地区名|
|name|string|-|名称|
|length|number|-|路段长度|
|location|object|-|几何图形|
|locationpoint|Array&lt;number&gt;|-|经纬度|

##### onError函数参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|error|[IErrorCodeInfo](#ierrorcodeinfo参数说明)|-|错误信息|

###### IErrorCodeInfo参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|code|string|-|错误码编号|
|message|string|-|错误信息|

### 示例


```
kmap.queryRoadSectionByType({
    code: '340000',
    keyword: 'wsl',
    pageNo: 1,
    maxCount: 10,
    callback: function(res) {
            console.log(res);
     }
});
```


## querySpaceRoadSection

### 描述

搜索指定坐标范围内的指定路段信息。

### 参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|opts|true|[QuerySpaceRoadSectionOptions](#queryspaceroadsectionoptions参数说明)|-|-|

#### QuerySpaceRoadSectionOptions参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|code|false|string|-| 行政编码|
|keyword|true|string|-|关键字|
|polygon|true|Array&lt;[LngLat](#lnglat参数说明（类型）)&gt;\|Array&lt;Array&lt;Array&lt;[LngLat](#lnglat参数说明（类型）)&gt;&gt;&gt;|-|查询的面信息，支持2维数组单面或4维数组多面|
|maxCount|false|number|10| 查询最大返回数量|
|pageNo|false|number|1|页码, 最小为1|
|queryMode|false|[QueryMode](#querymode参数说明)|KMap.QueryMode.ChinesePromptQuery|查询模式|
|callback|true|[Function](#callback函数参数说明)|-|回调函数|
|onError|false|[Function](#onerror函数参数说明)|-|错误回调函数|

##### LngLat参数说明（类型）

|参数名称|类型|说明|
|:--|:--:|:--|
|LngLat|[number, number]|经纬度坐标|

##### QueryMode参数说明

|参数名称|描述|实际值|
|:--|:--|:--:|
|KMap.QUERY_MODE.CHINESE_PROMPT_QUERY|中文提示查询|0|
|KMap.QUERY_MODE.CHINESE_PRECISE_QUERY|中文精确查询|1|
|KMap.QUERY_MODE.CHINESE_STATISTICS_QUERY|POI 统计数量查询模式，保持和基础数据聚合查询结果一致|2|

##### callback函数参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|res|[CallbackRes](#callbackres参数说明)|-|结束回调信息|

###### CallbackRes参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|status|number|-|10-成功,20-失败|
|data|Array&lt;[RoadSectionDataType](#roadsectiondatatype参数说明)&gt;|-|响应结果|
|total|number|-|总条数|

###### RoadSectionDataType参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|bigClass|string|-|一级分类名称|
|className|string|-|二级分类名称|
|smallClass|string|-|三级分类名称|
|kindCode|string|-|分类编码|
|province|string|-|省级行政编码|
|provinceName|string|-|省份名称|
|city|string|-|市级编码|
|cityName|string|-|城市名|
|district|string|-|区级行政编码|
|areaName|string|-|地区名|
|name|string|-|名称|
|length|number|-|路段长度|
|location|object|-|几何图形|
|locationpoint|Array&lt;number&gt;|-|经纬度|

##### onError函数参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|error|[IErrorCodeInfo](#ierrorcodeinfo参数说明)|-|错误信息|

###### IErrorCodeInfo参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|code|string|-|错误码编号|
|message|string|-|错误信息|

### 示例


```
var data = [
            [120.51888854982565, 31.30701486858125],
            [120.50584228518261, 31.231304488520863],
            [120.61124237059244, 31.221909820022802],
            [120.63870475548606, 31.299974605889602],
            [120.51888854982565, 31.30701486858125]
        ];
kmap.querySpaceRoadSection({
    polygon: data,
    code: '320000',
    keyword: 'wsl',
    pageNo: 1,
    maxCount: 10,
    callback: function(res) {
            console.log(res);
     }
});
```


## queryTriangleSpaceRoadSection

### 描述

搜索绘制的三角形内的指定路段信息。

### 参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|opts|true|[QueryTriangleSpaceRoadSectionOptions](#querytrianglespaceroadsectionoptions参数说明)|-|-|

#### QueryTriangleSpaceRoadSectionOptions参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|code|false|string|-| 行政编码|
|keyword|true|string|-|关键字|
|maxCount|false|number|10| 查询最大返回数量|
|pageNo|false|number|1|页码, 最小为1|
|queryMode|false|[QueryMode](#querymode参数说明)|KMap.QueryMode.ChinesePromptQuery|查询模式|
|callback|true|[Function](#callback函数参数说明)|-|回调函数|
|onError|false|[Function](#onerror函数参数说明)|-|错误回调函数|

##### QueryMode参数说明

|参数名称|描述|实际值|
|:--|:--|:--:|
|KMap.QUERY_MODE.CHINESE_PROMPT_QUERY|中文提示查询|0|
|KMap.QUERY_MODE.CHINESE_PRECISE_QUERY|中文精确查询|1|
|KMap.QUERY_MODE.CHINESE_STATISTICS_QUERY|POI 统计数量查询模式，保持和基础数据聚合查询结果一致|2|

##### callback函数参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|res|[CallbackRes](#callbackres参数说明)|-|结束回调信息|

###### CallbackRes参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|status|number|-|10-成功,20-失败|
|data|Array&lt;[RoadSectionDataType](#roadsectiondatatype参数说明)&gt;|-|响应结果|
|total|number|-|总条数|

###### RoadSectionDataType参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|bigClass|string|-|一级分类名称|
|className|string|-|二级分类名称|
|smallClass|string|-|三级分类名称|
|kindCode|string|-|分类编码|
|province|string|-|省级行政编码|
|provinceName|string|-|省份名称|
|city|string|-|市级编码|
|cityName|string|-|城市名|
|district|string|-|区级行政编码|
|areaName|string|-|地区名|
|name|string|-|名称|
|length|number|-|路段长度|
|location|object|-|几何图形|
|locationpoint|Array&lt;number&gt;|-|经纬度|

##### onError函数参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|error|[IErrorCodeInfo](#ierrorcodeinfo参数说明)|-|错误信息|

###### IErrorCodeInfo参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|code|string|-|错误码编号|
|message|string|-|错误信息|

### 示例


```
kmap.queryTriangleSpaceRoadSection({
    code: '340000',
    keyword: 'wsl',
    pageNo: 1,
    maxCount: 10,
    callback: function(res) {
            console.log(res);
     }
});
```


## queryCircleSpaceRoadSection

### 描述

搜索绘制的圆形内的指定路段信息。

### 参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|opts|true|[QueryCircleSpaceRoadSectionOptions](#querycirclespaceroadsectionoptions参数说明)|-|-|

#### QueryCircleSpaceRoadSectionOptions参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|code|false|string|-| 行政编码|
|keyword|true|string|-|关键字|
|maxCount|false|number|10| 查询最大返回数量|
|pageNo|false|number|1|页码, 最小为1|
|queryMode|false|[QueryMode](#querymode参数说明)|KMap.QueryMode.ChinesePromptQuery|查询模式|
|callback|true|[Function](#callback函数参数说明)|-|回调函数|
|onError|false|[Function](#onerror函数参数说明)|-|错误回调函数|

##### QueryMode参数说明

|参数名称|描述|实际值|
|:--|:--|:--:|
|KMap.QUERY_MODE.CHINESE_PROMPT_QUERY|中文提示查询|0|
|KMap.QUERY_MODE.CHINESE_PRECISE_QUERY|中文精确查询|1|
|KMap.QUERY_MODE.CHINESE_STATISTICS_QUERY|POI 统计数量查询模式，保持和基础数据聚合查询结果一致|2|

##### callback函数参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|res|[CallbackRes](#callbackres参数说明)|-|结束回调信息|

###### CallbackRes参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|status|number|-|10-成功,20-失败|
|data|Array&lt;[RoadSectionDataType](#roadsectiondatatype参数说明)&gt;|-|响应结果|
|total|number|-|总条数|

###### RoadSectionDataType参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|bigClass|string|-|一级分类名称|
|className|string|-|二级分类名称|
|smallClass|string|-|三级分类名称|
|kindCode|string|-|分类编码|
|province|string|-|省级行政编码|
|provinceName|string|-|省份名称|
|city|string|-|市级编码|
|cityName|string|-|城市名|
|district|string|-|区级行政编码|
|areaName|string|-|地区名|
|name|string|-|名称|
|length|number|-|路段长度|
|location|object|-|几何图形|
|locationpoint|Array&lt;number&gt;|-|经纬度|

##### onError函数参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|error|[IErrorCodeInfo](#ierrorcodeinfo参数说明)|-|错误信息|

###### IErrorCodeInfo参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|code|string|-|错误码编号|
|message|string|-|错误信息|

### 示例


```
kmap.queryCircleSpaceRoadSection({
    code: '340000',
    keyword: 'wsl',
    pageNo: 1,
    maxCount: 10,
    callback: function(res) {
            console.log(res);
     }
});
```


## queryRectangleSpaceRoadSection

### 描述

搜索绘制的矩形的指定路段信息。

### 参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|opts|true|[QueryRectangleSpaceRoadSectionOptions](#queryrectanglespaceroadsectionoptions参数说明)|-|-|

#### QueryRectangleSpaceRoadSectionOptions参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|code|false|string|-| 行政编码|
|keyword|true|string|-|关键字|
|maxCount|false|number|10| 查询最大返回数量|
|pageNo|false|number|1|页码, 最小为1|
|queryMode|false|[QueryMode](#querymode参数说明)|KMap.QueryMode.ChinesePromptQuery|查询模式|
|callback|true|[Function](#callback函数参数说明)|-|回调函数|
|onError|false|[Function](#onerror函数参数说明)|-|错误回调函数|

##### QueryMode参数说明

|参数名称|描述|实际值|
|:--|:--|:--:|
|KMap.QUERY_MODE.CHINESE_PROMPT_QUERY|中文提示查询|0|
|KMap.QUERY_MODE.CHINESE_PRECISE_QUERY|中文精确查询|1|
|KMap.QUERY_MODE.CHINESE_STATISTICS_QUERY|POI 统计数量查询模式，保持和基础数据聚合查询结果一致|2|

##### callback函数参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|res|[CallbackRes](#callbackres参数说明)|-|结束回调信息|

###### CallbackRes参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|status|number|-|10-成功,20-失败|
|data|Array&lt;[RoadSectionDataType](#roadsectiondatatype参数说明)&gt;|-|响应结果|
|total|number|-|总条数|

###### RoadSectionDataType参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|bigClass|string|-|一级分类名称|
|className|string|-|二级分类名称|
|smallClass|string|-|三级分类名称|
|kindCode|string|-|分类编码|
|province|string|-|省级行政编码|
|provinceName|string|-|省份名称|
|city|string|-|市级编码|
|cityName|string|-|城市名|
|district|string|-|区级行政编码|
|areaName|string|-|地区名|
|name|string|-|名称|
|length|number|-|路段长度|
|location|object|-|几何图形|
|locationpoint|Array&lt;number&gt;|-|经纬度|

##### onError函数参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|error|[IErrorCodeInfo](#ierrorcodeinfo参数说明)|-|错误信息|

###### IErrorCodeInfo参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|code|string|-|错误码编号|
|message|string|-|错误信息|

### 示例


```
kmap.queryRectangleSpaceRoadSection({
    code: '340000',
    keyword: 'wsl',
    pageNo: 1,
    maxCount: 10,
    callback: function(res) {
            console.log(res);
     }
});
```


## queryPolygonSpaceRoadSection

### 描述

搜索绘制的多边形的指定路段信息。

### 参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|opts|true|[QueryPolygonSpaceRoadSectionOptions](#querypolygonspaceroadsectionoptions参数说明)|-|-|

#### QueryPolygonSpaceRoadSectionOptions参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|code|false|string|-| 行政编码|
|keyword|true|string|-|关键字|
|maxCount|false|number|10| 查询最大返回数量|
|pageNo|false|number|1|页码, 最小为1|
|queryMode|false|[QueryMode](#querymode参数说明)|KMap.QueryMode.ChinesePromptQuery|查询模式|
|callback|true|[Function](#callback函数参数说明)|-|回调函数|
|onError|false|[Function](#onerror函数参数说明)|-|错误回调函数|

##### QueryMode参数说明

|参数名称|描述|实际值|
|:--|:--|:--:|
|KMap.QUERY_MODE.CHINESE_PROMPT_QUERY|中文提示查询|0|
|KMap.QUERY_MODE.CHINESE_PRECISE_QUERY|中文精确查询|1|
|KMap.QUERY_MODE.CHINESE_STATISTICS_QUERY|POI 统计数量查询模式，保持和基础数据聚合查询结果一致|2|

##### callback函数参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|res|[CallbackRes](#callbackres参数说明)|-|结束回调信息|

###### CallbackRes参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|status|number|-|10-成功,20-失败|
|data|Array&lt;[RoadSectionDataType](#roadsectiondatatype参数说明)&gt;|-|响应结果|
|total|number|-|总条数|

###### RoadSectionDataType参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|bigClass|string|-|一级分类名称|
|className|string|-|二级分类名称|
|smallClass|string|-|三级分类名称|
|kindCode|string|-|分类编码|
|province|string|-|省级行政编码|
|provinceName|string|-|省份名称|
|city|string|-|市级编码|
|cityName|string|-|城市名|
|district|string|-|区级行政编码|
|areaName|string|-|地区名|
|name|string|-|名称|
|length|number|-|路段长度|
|location|object|-|几何图形|
|locationpoint|Array&lt;number&gt;|-|经纬度|

##### onError函数参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|error|[IErrorCodeInfo](#ierrorcodeinfo参数说明)|-|错误信息|

###### IErrorCodeInfo参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|code|string|-|错误码编号|
|message|string|-|错误信息|

### 示例


```
kmap.queryPolygonSpaceRoadSection({
    code: '340000',
    keyword: 'wsl',
    pageNo: 1,
    maxCount: 10,
    callback: function(res) {
            console.log(res);
     }
});
```


## queryPointBufferRoadSection

### 描述

点缓冲区查询路段信息。

### 参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|opts|true|[QueryPointBufferRoadSectionOptions](#querypointbufferroadsectionoptions参数说明)|-|-|

#### QueryPointBufferRoadSectionOptions参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|point|true|[LngLat](#lnglat参数说明（类型）)|-|查询的点坐标|
|radius|false|number|1|查询半径，单位千米|
|code|false|string|-| 行政编码|
|keyword|false|string|-|关键字|
|maxCount|false|number|10| 查询最大返回数量|
|pageNo|false|number|1|页码, 最小为1|
|queryMode|false|[QueryMode](#querymode参数说明)|KMap.QueryMode.ChinesePromptQuery|查询模式|
|callback|true|[Function](#callback函数参数说明)|-|回调函数|
|onError|false|[Function](#onerror函数参数说明)|-|错误回调函数|

##### LngLat参数说明（类型）

|参数名称|类型|说明|
|:--|:--:|:--|
|LngLat|[number, number]|经纬度坐标|

##### QueryMode参数说明

|参数名称|描述|实际值|
|:--|:--|:--:|
|KMap.QUERY_MODE.CHINESE_PROMPT_QUERY|中文提示查询|0|
|KMap.QUERY_MODE.CHINESE_PRECISE_QUERY|中文精确查询|1|
|KMap.QUERY_MODE.CHINESE_STATISTICS_QUERY|POI 统计数量查询模式，保持和基础数据聚合查询结果一致|2|

##### callback函数参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|res|[CallbackRes](#callbackres参数说明)|-|结束回调信息|

###### CallbackRes参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|status|number|-|10-成功,20-失败|
|data|Array&lt;[RoadSectionDataType](#roadsectiondatatype参数说明)&gt;|-|响应结果|
|total|number|-|总条数|

###### RoadSectionDataType参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|bigClass|string|-|一级分类名称|
|className|string|-|二级分类名称|
|smallClass|string|-|三级分类名称|
|kindCode|string|-|分类编码|
|province|string|-|省级行政编码|
|provinceName|string|-|省份名称|
|city|string|-|市级编码|
|cityName|string|-|城市名|
|district|string|-|区级行政编码|
|areaName|string|-|地区名|
|name|string|-|名称|
|length|number|-|路段长度|
|location|object|-|几何图形|
|locationpoint|Array&lt;number&gt;|-|经纬度|

##### onError函数参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|error|[IErrorCodeInfo](#ierrorcodeinfo参数说明)|-|错误信息|

###### IErrorCodeInfo参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|code|string|-|错误码编号|
|message|string|-|错误信息|

### 示例


```
kmap.queryPointBufferRoadSection({
   point: [120, 30],
   radius: 50,
   callback: function (res) {
       console.log(res); // 查询到的数据
   }
});
```


## queryLineBufferRoadSection

### 描述

线缓冲区查询路段信息。

### 参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|opts|true|[QueryLineBufferRoadSectionOptions](#querylinebufferroadsectionoptions参数说明)|-|-|

#### QueryLineBufferRoadSectionOptions参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|polyline|true|Array&lt;[LngLat](#lnglat参数说明（类型）)&gt;|-|查询的线坐标集合|
|radius|false|number|1|查询半径，单位千米|
|code|false|string|-| 行政编码|
|keyword|false|string|-|关键字|
|maxCount|false|number|10| 查询最大返回数量|
|pageNo|false|number|1|页码, 最小为1|
|queryMode|false|[QueryMode](#querymode参数说明)|KMap.QueryMode.ChinesePromptQuery|查询模式|
|callback|true|[Function](#callback函数参数说明)|-|回调函数|
|onError|false|[Function](#onerror函数参数说明)|-|错误回调函数|

##### LngLat参数说明（类型）

|参数名称|类型|说明|
|:--|:--:|:--|
|LngLat|[number, number]|经纬度坐标|

##### QueryMode参数说明

|参数名称|描述|实际值|
|:--|:--|:--:|
|KMap.QUERY_MODE.CHINESE_PROMPT_QUERY|中文提示查询|0|
|KMap.QUERY_MODE.CHINESE_PRECISE_QUERY|中文精确查询|1|
|KMap.QUERY_MODE.CHINESE_STATISTICS_QUERY|POI 统计数量查询模式，保持和基础数据聚合查询结果一致|2|

##### callback函数参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|res|[CallbackRes](#callbackres参数说明)|-|结束回调信息|

###### CallbackRes参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|status|number|-|10-成功,20-失败|
|data|Array&lt;[RoadSectionDataType](#roadsectiondatatype参数说明)&gt;|-|响应结果|
|total|number|-|总条数|

###### RoadSectionDataType参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|bigClass|string|-|一级分类名称|
|className|string|-|二级分类名称|
|smallClass|string|-|三级分类名称|
|kindCode|string|-|分类编码|
|province|string|-|省级行政编码|
|provinceName|string|-|省份名称|
|city|string|-|市级编码|
|cityName|string|-|城市名|
|district|string|-|区级行政编码|
|areaName|string|-|地区名|
|name|string|-|名称|
|length|number|-|路段长度|
|location|object|-|几何图形|
|locationpoint|Array&lt;number&gt;|-|经纬度|

##### onError函数参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|error|[IErrorCodeInfo](#ierrorcodeinfo参数说明)|-|错误信息|

###### IErrorCodeInfo参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|code|string|-|错误码编号|
|message|string|-|错误信息|

### 示例


```
kmap.queryLineBufferRoadSection({
   polyline: [
            [120.54051428521649, 31.30228893939855],
            [120.5596610892938, 31.292836411614218]
       ],
   radius: 50,
   callback: function (res) {
       console.log(res); // 查询到的数据
   }
});
```


## queryPolygonBufferRoadSection

### 描述

多边形缓冲区查询路段信息。

### 参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|opts|true|[QueryPolygonBufferRoadSectionOptions](#querypolygonbufferroadsectionoptions参数说明)|-|-|

#### QueryPolygonBufferRoadSectionOptions参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|polygon|true|Array&lt;[LngLat](#lnglat参数说明（类型）)&gt;|-|多边形坐标集合|
|radius|false|number|1|查询半径，单位千米|
|code|false|string|-| 行政编码|
|keyword|false|string|-|关键字|
|maxCount|false|number|10| 查询最大返回数量|
|pageNo|false|number|1|页码, 最小为1|
|queryMode|false|[QueryMode](#querymode参数说明)|KMap.QueryMode.ChinesePromptQuery|查询模式|
|callback|true|[Function](#callback函数参数说明)|-|回调函数|
|onError|false|[Function](#onerror函数参数说明)|-|错误回调函数|

##### LngLat参数说明（类型）

|参数名称|类型|说明|
|:--|:--:|:--|
|LngLat|[number, number]|经纬度坐标|

##### QueryMode参数说明

|参数名称|描述|实际值|
|:--|:--|:--:|
|KMap.QUERY_MODE.CHINESE_PROMPT_QUERY|中文提示查询|0|
|KMap.QUERY_MODE.CHINESE_PRECISE_QUERY|中文精确查询|1|
|KMap.QUERY_MODE.CHINESE_STATISTICS_QUERY|POI 统计数量查询模式，保持和基础数据聚合查询结果一致|2|

##### callback函数参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|res|[CallbackRes](#callbackres参数说明)|-|结束回调信息|

###### CallbackRes参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|status|number|-|10-成功,20-失败|
|data|Array&lt;[RoadSectionDataType](#roadsectiondatatype参数说明)&gt;|-|响应结果|
|total|number|-|总条数|

###### RoadSectionDataType参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|bigClass|string|-|一级分类名称|
|className|string|-|二级分类名称|
|smallClass|string|-|三级分类名称|
|kindCode|string|-|分类编码|
|province|string|-|省级行政编码|
|provinceName|string|-|省份名称|
|city|string|-|市级编码|
|cityName|string|-|城市名|
|district|string|-|区级行政编码|
|areaName|string|-|地区名|
|name|string|-|名称|
|length|number|-|路段长度|
|location|object|-|几何图形|
|locationpoint|Array&lt;number&gt;|-|经纬度|

##### onError函数参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|error|[IErrorCodeInfo](#ierrorcodeinfo参数说明)|-|错误信息|

###### IErrorCodeInfo参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|code|string|-|错误码编号|
|message|string|-|错误信息|

### 示例


```
kmap.queryPolygonBufferRoadSection({
   polygon: [
       [120.53227813719252, 31.303803950036936],
       [120.52300842284279, 31.282974272943534],
       [120.5539074706943, 31.29001580553458],
       [120.53227813719252, 31.303803950036936]
   ],
   radius: 50,
   callback: function (res) {
       console.log(res); // 查询到的数据
   }
});
```


## getCandidateLinks

### 描述

根据查询点获取候选路段，获取范围内（默认缓冲区半径：80m）候选路段信息，依赖路径规划PRO服务

### 参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|opts|true|[GetCandidateLinksOptions](#getcandidatelinksoptions参数说明)|-|-|

#### GetCandidateLinksOptions参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|point|true|[LngLat](#lnglat参数说明（类型）)|-|查询点位坐标|
|callback|true|[Function](#callback函数参数说明)|-|回调函数|

##### LngLat参数说明（类型）

|参数名称|类型|说明|
|:--|:--:|:--|
|LngLat|[number, number]|经纬度坐标|

##### callback函数参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|res|[CallbackRes](#callbackres参数说明)|-|结束回调信息|

###### CallbackRes参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|status|number|-|10-成功,20-失败|
|data|[dataObject](#dataobject参数说明)|-|响应结果|

###### dataObject参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|linkId|number|-|路段 ID|
|linkGeometry|[LineStringGeometry](#linestringgeometry参数说明)|-|路段空间信息|
|snapPoint|[LngLat](#lnglat参数说明（类型）)|-|查询点匹配至当前路段中的点位坐标，后调用路线匹配时需要传入|

###### LineStringGeometry参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|type|固定值(string)-LineString|-|要素图形类型|
|coordinates|Array&lt;[LngLat](#lnglat参数说明（类型）)&gt;|-|要素空间信息|

###### LngLat参数说明（类型）

|参数名称|类型|说明|
|:--|:--:|:--|
|LngLat|[number, number]|经纬度坐标|

### 示例


```
kmap.getCandidateLinks({
    point: [120, 31],
    callback: function(res) {
            console.log(res);
     }
});
```


## calculateDestRoute

### 描述

目标路线匹配计算，计算指定点至目标点列表的路线信息，依赖路径规划PRO服务

### 参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|opts|true|[CalculateDestRouteOptions](#calculatedestrouteoptions参数说明)|-|-|

#### CalculateDestRouteOptions参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|startPoint|true|[LngLat](#lnglat参数说明（类型）)|-|开始点|
|bufferRadius|false|number|100|缓冲半径，仅计算目标点在开始点缓冲半径内的数据，单位 km，默认：100km|
|avgSpeed|false|number|-|行驶平均速度，单位：m/s；非必填，默认采用路段速度计算路线耗时|
|destinations|true|Array&lt;[destinationsObject](#destinationsobject参数说明)&gt;|-|目标信息|
|callback|true|[Function](#callback函数参数说明)|-|回调函数|

##### LngLat参数说明（类型）

|参数名称|类型|说明|
|:--|:--:|:--|
|LngLat|[number, number]|经纬度坐标|

##### destinationsObject参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|destPoint|true|[LngLat](#lnglat参数说明（类型）)|-|目标点位坐标|

##### callback函数参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|res|[CallbackRes](#callbackres参数说明)|-|结束回调信息|

###### CallbackRes参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|status|number|-|10-成功,20-失败|
|data|[dataObject](#dataobject参数说明)|-|响应结果|

###### dataObject参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|startPoint|[LngLat](#lnglat参数说明（类型）)|-|开始点|
|matchDestRoutingResult|Array&lt;[matchDestRoutingResultObject](#matchdestroutingresultobject参数说明)&gt;|-|规划目标点计算结果|

###### LngLat参数说明（类型）

|参数名称|类型|说明|
|:--|:--:|:--|
|LngLat|[number, number]|经纬度坐标|

###### matchDestRoutingResultObject参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|destPoint|[LngLat](#lnglat参数说明（类型）)|-|目标点位|
|distance|number|-|路线距离，单位：米|
|time|number|-|路线时间，单位：s|
|routeGeometry|[LineStringGeometry](#linestringgeometry参数说明)|-|路线空间信息|

###### LineStringGeometry参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|type|固定值(string)-LineString|-|要素图形类型|
|coordinates|Array&lt;[LngLat](#lnglat参数说明（类型）)&gt;|-|要素空间信息|

### 示例


```
kmap.calculateDestRoute({
    startPoint: [120.54950335546658, 31.302195379131064],
    destinations: [{
       destPoint: [120.55950335546658, 31.302195379131064],
    }],
    callback: function(res) {
            console.log(res);
     }
});
```


## 高速里程碑

## queryMileagePileByType

### 描述

根据查询的关键字搜索高速里程桩信息。行政编码支持省市区，支持模糊查询。

### 参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|opts|true|[QueryMileagePileOptions](#querymileagepileoptions参数说明)|-|-|

#### QueryMileagePileOptions参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|serviceName|true|Array&lt;string&gt;|-|图层名称|
|isPublic|false|boolean|false|是否查询公有空间数据|
|code|false|string|-|行政编码。数据所属的省、市、区，但是由于数据本身缺失的问题，会造成查询失败，请根据数据完整性情况选择使用该参数|
|keyword|false|string|-|关键字查询， 高速路简称/全称/公里桩编码/百米桩编码 如： “G42 K1 5” "G42"是高速简称，“k1"是第一个公里桩编号，"5"是第五个百米桩编号 它们中间用空格连接|
|maxCount|false|number|1000|每页最大返回数量|
|pageNo|false|number|1|页码, 最小为1|
|callback|true|[Function](#callback函数参数说明)|-|回调函数|
|onError|false|[Function](#onerror函数参数说明)|-|错误回调函数|

##### callback函数参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|res|[CallbackRes](#callbackres参数说明)|-|结束回调信息|

###### CallbackRes参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|status|number|-|10-成功,20-失败|
|data|Array&lt;[MileagePileDataType](#mileagepiledatatype参数说明)&gt;|-|响应结果|

###### MileagePileDataType参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|geometry|object|-|空间信息|
|properties|[propertiesObject](#propertiesobject参数说明)|-|相关信息|

###### propertiesObject参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|province|number|-|省级行政编码|
|provinceName|string|-|省份名称|
|city|number|-|市级编码|
|cityName|string|-|城市名|
|district|number|-|区级行政编码|
|areaName|string|-|地区名|
|label|string|-|名称|
|roadName|string|-|道路名称|
|glzNum|number|-|公里桩编号|
|bmzNum|number|-|百米桩编号|
|type|string|-|分类|

##### onError函数参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|error|[IErrorCodeInfo](#ierrorcodeinfo参数说明)|-|错误信息|

###### IErrorCodeInfo参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|code|string|-|错误码编号|
|message|string|-|错误信息|

### 示例


```
kmap.queryMileagePileByType({
  serviceName: ['mileage_pile_320500'],
  code: '320500',
  keyword: '常台高速 14 1',
  pageNo: 1,
  maxCount: 10,
  callback: function (res) {
    console.log(res);
  },
});
```


## querySpaceMileagePile

### 描述

搜索指定坐标范围内的高速里程桩信息。

### 参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|opts|true|[QuerySpaceMileagePileOptions](#queryspacemileagepileoptions参数说明)|-|-|

#### QuerySpaceMileagePileOptions参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|serviceName|true|Array&lt;string&gt;|-|图层名称|
|polygon|true|Array&lt;[LngLat](#lnglat参数说明（类型）)&gt;\|Array&lt;Array&lt;Array&lt;[LngLat](#lnglat参数说明（类型）)&gt;&gt;&gt;|-|查询的面信息，支持2维数组单面或4维数组多面|
|isPublic|false|boolean|false|是否查询公有空间数据|
|code|false|string|-|行政编码。数据所属的省、市、区，但是由于数据本身缺失的问题，会造成查询失败，请根据数据完整性情况选择使用该参数|
|keyword|false|string|-|关键字查询， 高速路简称/全称/公里桩编码/百米桩编码 如： “G42 K1 5” "G42"是高速简称，“k1"是第一个公里桩编号，"5"是第五个百米桩编号 它们中间用空格连接|
|maxCount|false|number|1000|每页最大返回数量|
|pageNo|false|number|1|页码, 最小为1|
|callback|true|[Function](#callback函数参数说明)|-|回调函数|
|onError|false|[Function](#onerror函数参数说明)|-|错误回调函数|

##### LngLat参数说明（类型）

|参数名称|类型|说明|
|:--|:--:|:--|
|LngLat|[number, number]|经纬度坐标|

##### callback函数参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|res|[CallbackRes](#callbackres参数说明)|-|结束回调信息|

###### CallbackRes参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|status|number|-|10-成功,20-失败|
|data|Array&lt;[MileagePileDataType](#mileagepiledatatype参数说明)&gt;|-|响应结果|
|total|number|-|总条数|

###### MileagePileDataType参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|geometry|object|-|空间信息|
|properties|[propertiesObject](#propertiesobject参数说明)|-|相关信息|

###### propertiesObject参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|province|number|-|省级行政编码|
|provinceName|string|-|省份名称|
|city|number|-|市级编码|
|cityName|string|-|城市名|
|district|number|-|区级行政编码|
|areaName|string|-|地区名|
|label|string|-|名称|
|roadName|string|-|道路名称|
|glzNum|number|-|公里桩编号|
|bmzNum|number|-|百米桩编号|
|type|string|-|分类|

##### onError函数参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|error|[IErrorCodeInfo](#ierrorcodeinfo参数说明)|-|错误信息|

###### IErrorCodeInfo参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|code|string|-|错误码编号|
|message|string|-|错误信息|

### 示例


```
var data = [
  [120.51888854982565, 31.30701486858125],
  [120.50584228518261, 31.231304488520863],
  [120.61124237059244, 31.221909820022802],
  [120.63870475548606, 31.299974605889602],
  [120.51888854982565, 31.30701486858125],
];
kmap.querySpaceMileagePile({
  serviceName: ['mileage_pile_320500'],
  polygon: data,
  code: '320500',
  keyword: '常台高速 14 1',
  pageNo: 1,
  maxCount: 10,
  callback: function (res) {
    console.log(res);
  },
});
```


## queryTriangleSpaceMileagePile

### 描述

搜索绘制的三角形内的高速里程桩信息。

### 参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|opts|true|[QueryMileagePileOptions](#querymileagepileoptions参数说明)|-|-|

#### QueryMileagePileOptions参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|serviceName|true|Array&lt;string&gt;|-|图层名称|
|isPublic|false|boolean|false|是否查询公有空间数据|
|code|false|string|-|行政编码。数据所属的省、市、区，但是由于数据本身缺失的问题，会造成查询失败，请根据数据完整性情况选择使用该参数|
|keyword|false|string|-|关键字查询， 高速路简称/全称/公里桩编码/百米桩编码 如： “G42 K1 5” "G42"是高速简称，“k1"是第一个公里桩编号，"5"是第五个百米桩编号 它们中间用空格连接|
|maxCount|false|number|1000|每页最大返回数量|
|pageNo|false|number|1|页码, 最小为1|
|callback|true|[Function](#callback函数参数说明)|-|回调函数|
|onError|false|[Function](#onerror函数参数说明)|-|错误回调函数|

##### callback函数参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|res|[CallbackRes](#callbackres参数说明)|-|结束回调信息|

###### CallbackRes参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|status|number|-|10-成功,20-失败|
|data|Array&lt;[MileagePileDataType](#mileagepiledatatype参数说明)&gt;|-|响应结果|

###### MileagePileDataType参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|geometry|object|-|空间信息|
|properties|[propertiesObject](#propertiesobject参数说明)|-|相关信息|

###### propertiesObject参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|province|number|-|省级行政编码|
|provinceName|string|-|省份名称|
|city|number|-|市级编码|
|cityName|string|-|城市名|
|district|number|-|区级行政编码|
|areaName|string|-|地区名|
|label|string|-|名称|
|roadName|string|-|道路名称|
|glzNum|number|-|公里桩编号|
|bmzNum|number|-|百米桩编号|
|type|string|-|分类|

##### onError函数参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|error|[IErrorCodeInfo](#ierrorcodeinfo参数说明)|-|错误信息|

###### IErrorCodeInfo参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|code|string|-|错误码编号|
|message|string|-|错误信息|

### 示例


```
kmap.queryTriangleSpaceMileagePile({
  serviceName: ['mileage_pile_320500'],
  code: '320500',
  keyword: '常台高速 14 1',
  pageNo: 1,
  maxCount: 10,
  callback: function (res) {
    console.log(res);
  },
});
```


## queryCircleSpaceMileagePile

### 描述

搜索绘制的圆形内的高速里程桩信息。

### 参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|opts|true|[QueryMileagePileOptions](#querymileagepileoptions参数说明)|-|-|

#### QueryMileagePileOptions参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|serviceName|true|Array&lt;string&gt;|-|图层名称|
|isPublic|false|boolean|false|是否查询公有空间数据|
|code|false|string|-|行政编码。数据所属的省、市、区，但是由于数据本身缺失的问题，会造成查询失败，请根据数据完整性情况选择使用该参数|
|keyword|false|string|-|关键字查询， 高速路简称/全称/公里桩编码/百米桩编码 如： “G42 K1 5” "G42"是高速简称，“k1"是第一个公里桩编号，"5"是第五个百米桩编号 它们中间用空格连接|
|maxCount|false|number|1000|每页最大返回数量|
|pageNo|false|number|1|页码, 最小为1|
|callback|true|[Function](#callback函数参数说明)|-|回调函数|
|onError|false|[Function](#onerror函数参数说明)|-|错误回调函数|

##### callback函数参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|res|[CallbackRes](#callbackres参数说明)|-|结束回调信息|

###### CallbackRes参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|status|number|-|10-成功,20-失败|
|data|Array&lt;[MileagePileDataType](#mileagepiledatatype参数说明)&gt;|-|响应结果|

###### MileagePileDataType参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|geometry|object|-|空间信息|
|properties|[propertiesObject](#propertiesobject参数说明)|-|相关信息|

###### propertiesObject参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|province|number|-|省级行政编码|
|provinceName|string|-|省份名称|
|city|number|-|市级编码|
|cityName|string|-|城市名|
|district|number|-|区级行政编码|
|areaName|string|-|地区名|
|label|string|-|名称|
|roadName|string|-|道路名称|
|glzNum|number|-|公里桩编号|
|bmzNum|number|-|百米桩编号|
|type|string|-|分类|

##### onError函数参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|error|[IErrorCodeInfo](#ierrorcodeinfo参数说明)|-|错误信息|

###### IErrorCodeInfo参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|code|string|-|错误码编号|
|message|string|-|错误信息|

### 示例


```
kmap.queryCircleSpaceMileagePile({
  serviceName: ['mileage_pile_320500'],
  code: '320500',
  keyword: '常台高速 14 1',
  pageNo: 1,
  maxCount: 10,
  callback: function (res) {
    console.log(res);
  },
});
```


## queryRectangleSpaceMileagePile

### 描述

搜索绘制的矩形内的高速里程桩信息。

### 参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|opts|true|[QueryMileagePileOptions](#querymileagepileoptions参数说明)|-|-|

#### QueryMileagePileOptions参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|serviceName|true|Array&lt;string&gt;|-|图层名称|
|isPublic|false|boolean|false|是否查询公有空间数据|
|code|false|string|-|行政编码。数据所属的省、市、区，但是由于数据本身缺失的问题，会造成查询失败，请根据数据完整性情况选择使用该参数|
|keyword|false|string|-|关键字查询， 高速路简称/全称/公里桩编码/百米桩编码 如： “G42 K1 5” "G42"是高速简称，“k1"是第一个公里桩编号，"5"是第五个百米桩编号 它们中间用空格连接|
|maxCount|false|number|1000|每页最大返回数量|
|pageNo|false|number|1|页码, 最小为1|
|callback|true|[Function](#callback函数参数说明)|-|回调函数|
|onError|false|[Function](#onerror函数参数说明)|-|错误回调函数|

##### callback函数参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|res|[CallbackRes](#callbackres参数说明)|-|结束回调信息|

###### CallbackRes参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|status|number|-|10-成功,20-失败|
|data|Array&lt;[MileagePileDataType](#mileagepiledatatype参数说明)&gt;|-|响应结果|

###### MileagePileDataType参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|geometry|object|-|空间信息|
|properties|[propertiesObject](#propertiesobject参数说明)|-|相关信息|

###### propertiesObject参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|province|number|-|省级行政编码|
|provinceName|string|-|省份名称|
|city|number|-|市级编码|
|cityName|string|-|城市名|
|district|number|-|区级行政编码|
|areaName|string|-|地区名|
|label|string|-|名称|
|roadName|string|-|道路名称|
|glzNum|number|-|公里桩编号|
|bmzNum|number|-|百米桩编号|
|type|string|-|分类|

##### onError函数参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|error|[IErrorCodeInfo](#ierrorcodeinfo参数说明)|-|错误信息|

###### IErrorCodeInfo参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|code|string|-|错误码编号|
|message|string|-|错误信息|

### 示例


```
kmap.queryRectangleSpaceMileagePile({
  serviceName: ['mileage_pile_320500'],
  code: '320500',
  keyword: '常台高速 14 1',
  pageNo: 1,
  maxCount: 10,
  callback: function (res) {
    console.log(res);
  },
});
```


## queryPolygonSpaceMileagePile

### 描述

搜索绘制的多边形内的高速里程桩信息。

### 参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|opts|true|[QueryMileagePileOptions](#querymileagepileoptions参数说明)|-|-|

#### QueryMileagePileOptions参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|serviceName|true|Array&lt;string&gt;|-|图层名称|
|isPublic|false|boolean|false|是否查询公有空间数据|
|code|false|string|-|行政编码。数据所属的省、市、区，但是由于数据本身缺失的问题，会造成查询失败，请根据数据完整性情况选择使用该参数|
|keyword|false|string|-|关键字查询， 高速路简称/全称/公里桩编码/百米桩编码 如： “G42 K1 5” "G42"是高速简称，“k1"是第一个公里桩编号，"5"是第五个百米桩编号 它们中间用空格连接|
|maxCount|false|number|1000|每页最大返回数量|
|pageNo|false|number|1|页码, 最小为1|
|callback|true|[Function](#callback函数参数说明)|-|回调函数|
|onError|false|[Function](#onerror函数参数说明)|-|错误回调函数|

##### callback函数参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|res|[CallbackRes](#callbackres参数说明)|-|结束回调信息|

###### CallbackRes参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|status|number|-|10-成功,20-失败|
|data|Array&lt;[MileagePileDataType](#mileagepiledatatype参数说明)&gt;|-|响应结果|

###### MileagePileDataType参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|geometry|object|-|空间信息|
|properties|[propertiesObject](#propertiesobject参数说明)|-|相关信息|

###### propertiesObject参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|province|number|-|省级行政编码|
|provinceName|string|-|省份名称|
|city|number|-|市级编码|
|cityName|string|-|城市名|
|district|number|-|区级行政编码|
|areaName|string|-|地区名|
|label|string|-|名称|
|roadName|string|-|道路名称|
|glzNum|number|-|公里桩编号|
|bmzNum|number|-|百米桩编号|
|type|string|-|分类|

##### onError函数参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|error|[IErrorCodeInfo](#ierrorcodeinfo参数说明)|-|错误信息|

###### IErrorCodeInfo参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|code|string|-|错误码编号|
|message|string|-|错误信息|

### 示例


```
kmap.queryPolygonSpaceMileagePile({
  serviceName: ['mileage_pile_320500'],
  code: '320500',
  keyword: '常台高速 14 1',
  pageNo: 1,
  maxCount: 10,
  callback: function (res) {
    console.log(res);
  },
});
```


## queryPointBufferMileagePile

### 描述

搜索点缓冲区内的高速里程桩信息。

### 参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|opts|true|[QueryPointBufferMileagePileOptions](#querypointbuffermileagepileoptions参数说明)|-|-|

#### QueryPointBufferMileagePileOptions参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|serviceName|true|Array&lt;string&gt;|-|图层名称|
|isPublic|false|boolean|false|是否查询公有空间数据|
|code|false|string|-|行政编码。数据所属的省、市、区，但是由于数据本身缺失的问题，会造成查询失败，请根据数据完整性情况选择使用该参数|
|keyword|false|string|-|关键字查询， 高速路简称/全称/公里桩编码/百米桩编码 如： “G42 K1 5” "G42"是高速简称，“k1"是第一个公里桩编号，"5"是第五个百米桩编号 它们中间用空格连接|
|maxCount|false|number|1000|每页最大返回数量|
|pageNo|false|number|1|页码, 最小为1|
|callback|true|[Function](#callback函数参数说明)|-|回调函数|
|onError|false|[Function](#onerror函数参数说明)|-|错误回调函数|
|point|true|[LngLat](#lnglat参数说明（类型）)|-|查询的点坐标|
|radius|false|string|1|查询半径，单位千米|

##### callback函数参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|res|[CallbackRes](#callbackres参数说明)|-|结束回调信息|

###### CallbackRes参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|status|number|-|10-成功,20-失败|
|data|Array&lt;[MileagePileDataType](#mileagepiledatatype参数说明)&gt;|-|响应结果|

###### MileagePileDataType参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|geometry|object|-|空间信息|
|properties|[propertiesObject](#propertiesobject参数说明)|-|相关信息|

###### propertiesObject参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|province|number|-|省级行政编码|
|provinceName|string|-|省份名称|
|city|number|-|市级编码|
|cityName|string|-|城市名|
|district|number|-|区级行政编码|
|areaName|string|-|地区名|
|label|string|-|名称|
|roadName|string|-|道路名称|
|glzNum|number|-|公里桩编号|
|bmzNum|number|-|百米桩编号|
|type|string|-|分类|

##### onError函数参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|error|[IErrorCodeInfo](#ierrorcodeinfo参数说明)|-|错误信息|

###### IErrorCodeInfo参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|code|string|-|错误码编号|
|message|string|-|错误信息|

##### LngLat参数说明（类型）

|参数名称|类型|说明|
|:--|:--:|:--|
|LngLat|[number, number]|经纬度坐标|

### 示例


```
kmap.queryPointBufferMileagePile({
  serviceName: ['mileage_pile_320500'],
  point: [120, 30],
  radius: 50,
  pageNo: 1,
  maxCount: 10,
  callback: function (res) {
    console.log(res);
  },
});
```


## queryLineBufferMileagePile

### 描述

搜索线缓冲区内的高速里程桩信息。

### 参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|opts|true|[QueryLineBufferMileagePileOptions](#querylinebuffermileagepileoptions参数说明)|-|-|

#### QueryLineBufferMileagePileOptions参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|serviceName|true|Array&lt;string&gt;|-|图层名称|
|isPublic|false|boolean|false|是否查询公有空间数据|
|code|false|string|-|行政编码。数据所属的省、市、区，但是由于数据本身缺失的问题，会造成查询失败，请根据数据完整性情况选择使用该参数|
|keyword|false|string|-|关键字查询， 高速路简称/全称/公里桩编码/百米桩编码 如： “G42 K1 5” "G42"是高速简称，“k1"是第一个公里桩编号，"5"是第五个百米桩编号 它们中间用空格连接|
|maxCount|false|number|1000|每页最大返回数量|
|pageNo|false|number|1|页码, 最小为1|
|callback|true|[Function](#callback函数参数说明)|-|回调函数|
|onError|false|[Function](#onerror函数参数说明)|-|错误回调函数|
|polyline|true|Array&lt;[LngLat](#lnglat参数说明（类型）)&gt;|-|查询的线坐标集合|
|radius|false|string|1|查询半径，单位千米|

##### callback函数参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|res|[CallbackRes](#callbackres参数说明)|-|结束回调信息|

###### CallbackRes参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|status|number|-|10-成功,20-失败|
|data|Array&lt;[MileagePileDataType](#mileagepiledatatype参数说明)&gt;|-|响应结果|

###### MileagePileDataType参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|geometry|object|-|空间信息|
|properties|[propertiesObject](#propertiesobject参数说明)|-|相关信息|

###### propertiesObject参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|province|number|-|省级行政编码|
|provinceName|string|-|省份名称|
|city|number|-|市级编码|
|cityName|string|-|城市名|
|district|number|-|区级行政编码|
|areaName|string|-|地区名|
|label|string|-|名称|
|roadName|string|-|道路名称|
|glzNum|number|-|公里桩编号|
|bmzNum|number|-|百米桩编号|
|type|string|-|分类|

##### onError函数参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|error|[IErrorCodeInfo](#ierrorcodeinfo参数说明)|-|错误信息|

###### IErrorCodeInfo参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|code|string|-|错误码编号|
|message|string|-|错误信息|

##### LngLat参数说明（类型）

|参数名称|类型|说明|
|:--|:--:|:--|
|LngLat|[number, number]|经纬度坐标|

### 示例


```
kmap.queryLineBufferMileagePile({
  serviceName: ['mileage_pile_320500'],
  polyline: [
    [120.54051428521649, 31.30228893939855],
    [120.5596610892938, 31.292836411614218],
  ],
  radius: 50,
  pageNo: 1,
  maxCount: 10,
  callback: function (res) {
    console.log(res);
  },
});
```


## queryPolygonBufferMileagePile

### 描述

搜索多边形缓冲区内的高速里程桩信息。

### 参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|opts|true|[QueryPolygonBufferMileagePileOptions](#querypolygonbuffermileagepileoptions参数说明)|-|-|

#### QueryPolygonBufferMileagePileOptions参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|serviceName|true|Array&lt;string&gt;|-|图层名称|
|isPublic|false|boolean|false|是否查询公有空间数据|
|code|false|string|-|行政编码。数据所属的省、市、区，但是由于数据本身缺失的问题，会造成查询失败，请根据数据完整性情况选择使用该参数|
|keyword|false|string|-|关键字查询， 高速路简称/全称/公里桩编码/百米桩编码 如： “G42 K1 5” "G42"是高速简称，“k1"是第一个公里桩编号，"5"是第五个百米桩编号 它们中间用空格连接|
|maxCount|false|number|1000|每页最大返回数量|
|pageNo|false|number|1|页码, 最小为1|
|callback|true|[Function](#callback函数参数说明)|-|回调函数|
|onError|false|[Function](#onerror函数参数说明)|-|错误回调函数|
|polygon|true|Array&lt;[LngLat](#lnglat参数说明（类型）)&gt;|-|查询的多边形坐标集合|
|radius|false|string|1|查询半径，单位千米|

##### callback函数参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|res|[CallbackRes](#callbackres参数说明)|-|结束回调信息|

###### CallbackRes参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|status|number|-|10-成功,20-失败|
|data|Array&lt;[MileagePileDataType](#mileagepiledatatype参数说明)&gt;|-|响应结果|

###### MileagePileDataType参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|geometry|object|-|空间信息|
|properties|[propertiesObject](#propertiesobject参数说明)|-|相关信息|

###### propertiesObject参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|province|number|-|省级行政编码|
|provinceName|string|-|省份名称|
|city|number|-|市级编码|
|cityName|string|-|城市名|
|district|number|-|区级行政编码|
|areaName|string|-|地区名|
|label|string|-|名称|
|roadName|string|-|道路名称|
|glzNum|number|-|公里桩编号|
|bmzNum|number|-|百米桩编号|
|type|string|-|分类|

##### onError函数参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|error|[IErrorCodeInfo](#ierrorcodeinfo参数说明)|-|错误信息|

###### IErrorCodeInfo参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|code|string|-|错误码编号|
|message|string|-|错误信息|

##### LngLat参数说明（类型）

|参数名称|类型|说明|
|:--|:--:|:--|
|LngLat|[number, number]|经纬度坐标|

### 示例


```
kmap.queryPolygonBufferMileagePile({
  serviceName: ['mileage_pile_320500'],
  polygon: [
    [120.53227813719252, 31.303803950036936],
    [120.52300842284279, 31.282974272943534],
    [120.5539074706943, 31.29001580553458],
    [120.53227813719252, 31.303803950036936],
  ],
  radius: 50,
  pageNo: 1,
  maxCount: 10,
  callback: function (res) {
    console.log(res);
  },
});
```


## queryMileagePileByProperties

### 描述

按属性查询高速里程桩信息。`此接口于3.11.2版本开始支持`

### 参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|opts|true|[QueryMileagePileByPropertiesOptions](#querymileagepilebypropertiesoptions参数说明)|-|-|

#### QueryMileagePileByPropertiesOptions参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|serviceName|true|Array&lt;string&gt;|-|图层标识，包含的值需要以"mileage_pile_"为前缀，后面加上6位行政区划编码，目前仅支持传入一个标识|
|roadName|true|string|-|道路名称，字符过长会导致查询变慢，请合理使用|
|polygon|false|Array&lt;[LngLat](#lnglat参数说明（类型）)&gt;\|Array&lt;Array&lt;[LngLat](#lnglat参数说明（类型）)&gt;&gt;|-|查询范围，支持2维数组单面和3维数组多面|
|code|false|string|-|行政编码。数据所属的省、市、区，但是由于数据本身缺失的问题，会造成查询失败，请根据数据完整性情况选择使用该参数|
|glzNum|false|string|-|公里桩编号，字符过长会导致查询变慢，请合理使用|
|bmzNum|false|string|-|百米桩编号，字符过长会导致查询变慢，请合理使用|
|pageNo|false|number|1|分页页码，最小值为1|
|maxCount|false|number|10|查询返回的最大数据量，最大值为1000|
|onError|false|[Function](#onerror函数参数说明)|-|错误回调函数|
|callback|true|[Function](#callback函数参数说明)|-|回调函数|

##### LngLat参数说明（类型）

|参数名称|类型|说明|
|:--|:--:|:--|
|LngLat|[number, number]|经纬度坐标|

##### onError函数参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|error|[IErrorCodeInfo](#ierrorcodeinfo参数说明)|-|错误信息|

###### IErrorCodeInfo参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|code|string|-|错误码编号|
|message|string|-|错误信息|

##### callback函数参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|res|[CallbackRes](#callbackres参数说明)|-|结束回调信息|

###### CallbackRes参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|status|number|-|10-成功,20-失败|
|data|Array&lt;[MileagePileDataType](#mileagepiledatatype参数说明)&gt;|-|响应结果|
|total|number|-|总条数|

###### MileagePileDataType参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|geometry|object|-|空间信息|
|properties|[propertiesObject](#propertiesobject参数说明)|-|相关信息|

###### propertiesObject参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|province|number|-|省级行政编码|
|provinceName|string|-|省份名称|
|city|number|-|市级编码|
|cityName|string|-|城市名|
|district|number|-|区级行政编码|
|areaName|string|-|地区名|
|label|string|-|名称|
|roadName|string|-|道路名称|
|glzNum|number|-|公里桩编号|
|bmzNum|number|-|百米桩编号|
|type|string|-|分类|

### 示例


```
kmap.queryMileagePileByProperties({
    serviceName: ['mileage_pile_320500'],
    roadName: '高速',
    // code: '320500',
    // bmzNum: '3',
    // glzNum: '61',
    // polygon: [    // 单面查询
    //   [120.66393116406152, 31.235961008677364],
    //   [120.70512989453078, 31.235961008677364],
    //   [120.70650318554618, 31.198965924022204],
    //   [120.6577513544915, 31.203077203813294],
    //   [120.66393116406152, 31.235961008677364],
    // ],
    polygon: [    // 多面查询
      [
        [120.66393116406152, 31.235961008677364],
        [120.70512989453078, 31.235961008677364],
        [120.70650318554618, 31.198965924022204],
        [120.6577513544915, 31.203077203813294],
        [120.66393116406152, 31.235961008677364],
      ],
      [
        [120.63649239774395, 31.54905098023447],
        [120.83767953153256, 31.550221281255062],
        [120.84454598661108, 31.444835444595455],
        [120.66121163602554, 31.450107556503227],
        [120.63649239774395, 31.54905098023447],
      ]
    ],
    pageNo: 1,
    maxCount: 1000,
    onError(error) {
      console.log('error', error);
    },
    callback(result) {
      console.log('result', result);
    }
  });
```


## 其他

## getStopTime

### 描述

获取某设备在某点三小时内停留的时长(仅适用于查询公共图层的设备)

### 参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|opts|true|[GetStopTimeOptions](#getstoptimeoptions参数说明)|-|-|

#### GetStopTimeOptions参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|gbId|true|string|-|设备id|
|startTime|true|number|-|开始时间戳，如1550657256000|
|disRange|true|number|-|距离阈值，单位米，例如10表示移动距离在10米以内均算停留|
|callback|true|[Function](#callback函数参数说明)|-|回调函数|
|onError|false|[Function](#onerror函数参数说明)|-|错误回调函数|

##### callback函数参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|res|[CallbackRes](#callbackres参数说明)|-|结束回调信息|

###### CallbackRes参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|status|number|-|10-成功,20-失败|
|data|number|-|停留时间（毫秒）|

##### onError函数参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|error|[IErrorCodeInfo](#ierrorcodeinfo参数说明)|-|错误信息|

###### IErrorCodeInfo参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|code|string|-|错误码编号|
|message|string|-|错误信息|

### 示例


```
kmap.getStopTime({
        gbId: '31010000001320000378',
        startTime: 1550657256000,
        disRange: 200,
        callback: function (res) {
            console.log(res);
            alert('该设备在该点位后停留了' + res.data + 'ms')
        }
    });
```


## getDeviceInfo

### 描述

获取某设备的详细信息(仅适用于查询公共图层的设备)

### 参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|opts|true|[GetDeviceInfoOptions](#getdeviceinfooptions参数说明)|-|-|

#### GetDeviceInfoOptions参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|gbId|true|string|-|设备id|
|callback|true|[Function](#callback函数参数说明)|-|回调函数|
|onError|false|[Function](#onerror函数参数说明)|-|错误回调函数|

##### callback函数参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|res|[CallbackRes](#callbackres参数说明)|-|结束回调信息|

###### CallbackRes参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|status|number|-|10-成功,20-失败|
|data|any|-|响应结果|

##### onError函数参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|error|[IErrorCodeInfo](#ierrorcodeinfo参数说明)|-|错误信息|

###### IErrorCodeInfo参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|code|string|-|错误码编号|
|message|string|-|错误信息|

### 示例


```
kmap.getDeviceInfo({
        gbId: '35020301031251000002',
        callback: function (res) {
            console.log(res);
        }
    });
```


## queryClusterDetail

### 描述

根据聚合图层点击事件返回的信息，获取聚合详情。

### 参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|opts|true|[QueryClusterDetailOptions](#queryclusterdetailoptions参数说明)|-|-|

#### QueryClusterDetailOptions参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|serviceName|true|string|-|业务数据图层名称|
|queryOptions|true|object|-|聚合事件返回的第二个参数|
|maxCount|true|number|1000| 查询最大返回数量|
|callback|true|[Function](#callback函数参数说明)|-|回调函数|
|onError|false|[Function](#onerror函数参数说明)|-|错误回调函数|

##### callback函数参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|res|[CallbackRes](#callbackres参数说明)|-|结束回调信息|

###### CallbackRes参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|status|number|-|10-成功,20-失败|
|data|Array&lt;any&gt;|-|响应结果|

##### onError函数参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|error|[IErrorCodeInfo](#ierrorcodeinfo参数说明)|-|错误信息|

###### IErrorCodeInfo参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|code|string|-|错误码编号|
|message|string|-|错误信息|

### 示例


```
//绑定图层事件
kmap.addEventOnLayerObject({
  layerId: 'clusterLayerId',
  event: 'click',
  clustered: true,
  handler: function (e, info) {
    if (info.type == 'aggs') {
      //根据图层事件返回的信息，查询详情
      kmap.queryClusterDetail({
        queryOptions: info,
        serviceName: 'service_tzn_test7',
        maxCount: 999,
        callback: function (res) {
          console.log(res);
        },
      });
    } else if (info.type == 'details') {
      console.log(info.data);
    }
  },
});
```


## queryStandardAddress

### 描述

根据关键字进行标准地址搜索。

### 参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|opts|true|[QueryStandardAddressOptions](#querystandardaddressoptions参数说明)|-|-|

#### QueryStandardAddressOptions参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|keyword|true|string|-|关键字|
|maxCount|false|number|50| 查询最大返回数量|
|pageNo|false|number|1|页码, 最小为1|
|callback|true|[Function](#callback函数参数说明)|-|回调函数|
|onError|false|[Function](#onerror函数参数说明)|-|错误回调函数|

##### callback函数参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|res|[CallbackRes](#callbackres参数说明)|-|结束回调信息|

###### CallbackRes参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|status|number|-|10-成功,20-失败|
|data|Array&lt;any&gt;|-|响应结果|

##### onError函数参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|error|[IErrorCodeInfo](#ierrorcodeinfo参数说明)|-|错误信息|

###### IErrorCodeInfo参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|code|string|-|错误码编号|
|message|string|-|错误信息|

### 示例


```
kmap.queryStandardAddress({
  keyword: '金山',
  callback: function (res) {
    console.log(res);
  },
});
```


## queryPointsByDistance

### 描述

根据点位查询排序后的点数据。

### 参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|opts|true|[QueryPointsByDistanceOptions](#querypointsbydistanceoptions参数说明)|-|-|

#### QueryPointsByDistanceOptions参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|serviceName|true|string|-|查询数据的后端标识|
|adcode|false|string|-|查询区域的行政编码|
|point|true|[LngLat](#lnglat参数说明（类型）)|-|查询点坐标|
|mixTerms|false|Array&lt;[Term](#term参数说明)&gt;|-|查询过滤条件|
|maxCount|false|number|100| 查询最大返回数量|
|pageNo|false|number|1|页码, 最小为1|
|callback|true|[Function](#callback函数参数说明)|-|回调函数|
|onError|false|[Function](#onerror函数参数说明)|-|错误回调函数|

##### LngLat参数说明（类型）

|参数名称|类型|说明|
|:--|:--:|:--|
|LngLat|[number, number]|经纬度坐标|

##### Term参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|column|true|string|-|过滤字段，对于人员账号，需要传 targetType 值为 5；对于重点人员，需要传 targetType 值为 27；其它情况默认无需填写|
|termType|true|string|-|过滤条件,例如eq,neq,like,nlike,gt,lt,gte,lte,in,nin,prefix,subfix,isnull,notnull,should。其中like、nlike、prefix、subfix只能用于过滤值为字符串类型。|
|value|true|string\|number\|Array&lt;number&gt;\|Array&lt;string&gt;|-|过滤值|
|type|false|string|'and'|term之间的过滤关系.可选"and"和"or",如果存在至少一个and,过滤所有and对应的并集,如果全部是or,返回所有数据， 如果要过滤某个条件可以匹配多个值中的任何一个， 可以使用termType="in".|
|filterType|false|number|0|公有属性及私有属性标记，0为私有属性，1为公有属性，在查询公有图层数据时，根据该字段区分公私有属性，不填默认为私有|
|analyzeEnum|false|string|'not_analyze'|userId、deptId、roleId必须设置成default_analyze,上传数据指定的拼音分词需要设置成pinyin_analyze,默认不分词|
|terms|false|Array&lt;[Term](#term参数说明)&gt;|-|即当前Term，支持循环使用|

##### callback函数参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|res|[CallbackRes](#callbackres参数说明)|-|结束回调信息|

###### CallbackRes参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|status|number|-|10-成功,20-失败|
|data|Array&lt;any&gt;|-|响应结果|

##### onError函数参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|error|[IErrorCodeInfo](#ierrorcodeinfo参数说明)|-|错误信息|

###### IErrorCodeInfo参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|code|string|-|错误码编号|
|message|string|-|错误信息|

### 示例


```
kmap.queryPointsByDistance({
  serviceName: '32',
  mixTerms: [
    {
      column: 'dataId',
      value: 'keyword',
      termType: 'like',
      filterType: 1,
    },
  ],
  point: [120, 31],
  callback: function (res) {
    console.log(res);
  },
});
```


## getGeoPoint

### 描述

将地址转为经纬度坐标。

### 参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|opts|true|[GetGeoPointOptions](#getgeopointoptions参数说明)|-|-|

#### GetGeoPointOptions参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|keyword|true|string|-|地址关键字|
|code|false|string|-|行政编码|
|callback|true|[Function](#callback函数参数说明)|-|回调函数|
|onError|false|[Function](#onerror函数参数说明)|-|错误回调函数|

##### callback函数参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|res|[CallbackRes](#callbackres参数说明)|-|结束回调信息|

###### CallbackRes参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|status|number|-|10-成功,20-失败|
|data|any|-|查询到的经纬度坐标|

##### onError函数参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|error|[IErrorCodeInfo](#ierrorcodeinfo参数说明)|-|错误信息|

###### IErrorCodeInfo参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|code|string|-|错误码编号|
|message|string|-|错误信息|

### 示例


```javascript
kmap.getGeoPoint({
   keyword: '金山路',
   callback: function (res) {
       if (res.status === 10) {
           console.log(res.data);
       }
   },
   onError: function (err) {
       console.log('error', err);
   }
});
```


## getLocation

### 描述

经纬度坐标转换地址。

### 参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|opts|true|[GetLocationOptions](#getlocationoptions参数说明)|-|-|

#### GetLocationOptions参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|point|true|[LngLat](#lnglat参数说明（类型）)|-|要转换的经纬度坐标|
|type|true|Array&lt;[BasicDataCategoryType](#basicdatacategorytype参数说明)&gt;|-|需要过滤的数据分类，可传入的类型见基础数据类型常量表|
|kindCode|true|string|-|详细分类编码|
|callback|true|[Function](#callback函数参数说明)|-|回调函数|
|onError|false|[Function](#onerror函数参数说明)|-|错误回调函数|

##### LngLat参数说明（类型）

|参数名称|类型|说明|
|:--|:--:|:--|
|LngLat|[number, number]|经纬度坐标|

##### BasicDataCategoryType参数说明

|参数名称|描述|实际值|
|:--|:--|:--:|
|KMap.BASIC_DATA_TYPE.POI|POI|POI|
|KMap.BASIC_DATA_TYPE.ROAD|道路|road|
|KMap.BASIC_DATA_TYPE.CROSS|路口|cross|
|KMap.BASIC_DATA_TYPE.ROAD_SECTION|路段|roadSection|
|KMap.BASIC_DATA_TYPE.WATER_FACE|水源|waterFace|

##### callback函数参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|res|[CallbackRes](#callbackres参数说明)|-|结束回调信息|

###### CallbackRes参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|status|number|-|10-成功,20-失败|
|data|any|-|查询到的地址数据|

##### onError函数参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|error|[IErrorCodeInfo](#ierrorcodeinfo参数说明)|-|错误信息|

###### IErrorCodeInfo参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|code|string|-|错误码编号|
|message|string|-|错误信息|

### 示例


```
kmap.getLocation({
   point: [120, 30],
   callback: function (res) {
       if (res.status === 10) {
           console.log(res.data);
       }
   },
   onError: function (err) {
       console.log('error', err);
   }
});
```


## queryRoadBufferInfoById

### 描述

通过道路ID查询道路缓冲区内的私有数据。

### 参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|opts|true|[QueryRoadBufferInfoByIdOptions](#queryroadbufferinfobyidoptions参数说明)|-|-|

#### QueryRoadBufferInfoByIdOptions参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|serviceName|true|string|-|业务数据图层名称|
|id|true|string|-|道路id|
|radius|true|number|-|查询半径，单位是米|
|isShow|false|number|0|是否需要返回道路缓冲区数据 0:返回，1不返回|
|callback|true|[Function](#callback函数参数说明)|-|回调函数|
|onError|false|[Function](#onerror函数参数说明)|-|错误回调函数|

##### callback函数参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|res|[CallbackRes](#callbackres参数说明)|-|结束回调信息|

###### CallbackRes参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|status|number|-|10-成功,20-失败|
|data|Array&lt;any&gt;|-|响应结果|

##### onError函数参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|error|[IErrorCodeInfo](#ierrorcodeinfo参数说明)|-|错误信息|

###### IErrorCodeInfo参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|code|string|-|错误码编号|
|message|string|-|错误信息|

### 示例


```
kmap.queryRoadBufferInfoById({
  serviceName: 'service_tzn_test7',
  id: 'AW3t0Osd1G-5W4z4BM52',
  isShow: 0,
  radius: 10,
  callback: function (res) {
    console.log('res', res);
  },
});
```


## queryPointListsByRoadPlan

### 描述

根据中心点和缓冲区半径查询经过路径规划排序后的私有图层点数据（最多100个）；若有路径规划Pro服务，则优先使用此服务。

### 参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|opts|true|[QueryPointListsByRoadPlanOptions](#querypointlistsbyroadplanoptions参数说明)|-|-|

#### QueryPointListsByRoadPlanOptions参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|serviceName|true|string|-|查询数据的后端标识|
|point|true|[LngLat](#lnglat参数说明（类型）)|-|中心点坐标|
|radius|true|number|-|缓冲区半径，单位km|
|type|false|[PlanType](#plantype参数说明)|-|排序方式|
|mixTerms|false|Array&lt;[Term](#term参数说明)&gt;|-|查询过滤条件, 支持多条件搜索|
|callback|true|[Function](#callback函数参数说明)|-|回调函数|
|onError|false|[Function](#onerror函数参数说明)|-|错误回调函数|

##### LngLat参数说明（类型）

|参数名称|类型|说明|
|:--|:--:|:--|
|LngLat|[number, number]|经纬度坐标|

##### PlanType参数说明

|参数名称|描述|实际值|
|:--|:--|:--:|
|KMap.PLAN.DISTANCE|按距离|distance|
|KMap.PLAN.TIME|按时间|time|

##### Term参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|column|true|string|-|过滤字段，对于人员账号，需要传 targetType 值为 5；对于重点人员，需要传 targetType 值为 27；其它情况默认无需填写|
|termType|true|string|-|过滤条件,例如eq,neq,like,nlike,gt,lt,gte,lte,in,nin,prefix,subfix,isnull,notnull,should。其中like、nlike、prefix、subfix只能用于过滤值为字符串类型。|
|value|true|string\|number\|Array&lt;number&gt;\|Array&lt;string&gt;|-|过滤值|
|type|false|string|'and'|term之间的过滤关系.可选"and"和"or",如果存在至少一个and,过滤所有and对应的并集,如果全部是or,返回所有数据， 如果要过滤某个条件可以匹配多个值中的任何一个， 可以使用termType="in".|
|filterType|false|number|0|公有属性及私有属性标记，0为私有属性，1为公有属性，在查询公有图层数据时，根据该字段区分公私有属性，不填默认为私有|
|analyzeEnum|false|string|'not_analyze'|userId、deptId、roleId必须设置成default_analyze,上传数据指定的拼音分词需要设置成pinyin_analyze,默认不分词|
|terms|false|Array&lt;[Term](#term参数说明)&gt;|-|即当前Term，支持循环使用|

##### callback函数参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|res|[CallbackRes](#callbackres参数说明)|-|结束回调信息|

###### CallbackRes参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|status|number|-|10-成功,20-失败|
|data|Array&lt;any&gt;|-|响应结果|

##### onError函数参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|error|[IErrorCodeInfo](#ierrorcodeinfo参数说明)|-|错误信息|

###### IErrorCodeInfo参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|code|string|-|错误码编号|
|message|string|-|错误信息|

### 示例


```
let params = {
  point: [120.30013, 31.29992],
  radius: 10,
  serviceName: 'service_tzn_test3',
  mixTerms: [
    {
      column: 'dataId',
      value: 3,
      termType: 'like',
    },
  ],
  type: 'time',
  callback: function (res) {
    console.log('res', res);
  },
};
kmap.queryPointListsByRoadPlan(params);
```


## fourColorCalculation

### 描述

根据用户传入的自有数据进行四色关系计算，并将结果上图展示。
> 实时计算四色数据非常消耗性能，目前最多支持30个面左右。有类似需求，可以联系地图团队对数据做预处理再进行使用

### 参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|opts|true|[FourColorCalculationOptions](#fourcolorcalculationoptions参数说明)|-|-|

#### FourColorCalculationOptions参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|polygons|true|Array&lt;[PolygonFeatureType](#polygonfeaturetype参数说明)&gt;|-|待计算的多边形数据|
|fillColors|false|Array&lt;string&gt;|['#AFDAFF', '#FEEBBF', '#B9FDE6', '#FFD1D6']|	填充颜色|
|lineColors|false|Array&lt;string&gt;|['#AFDAFF', '#FEEBBF', '#B9FDE6', '#FFD1D6']|边界线填充颜色|
|lineWidth|false|number|1|边界线线宽|
|isShow|false|boolean|false|计算结果是否上图展示|
|ended|true|[Function](#ended函数参数说明)|-|回调函数|
|onError|false|[Function](#onerror函数参数说明)|-|错误回调函数|

##### PolygonFeatureType参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|type|true|固定值(string)-Feature|-|要素类型|
|properties|true|Object|-|要素自定义属性|
|geometry|true|[PolygonGeometry](#polygongeometry参数说明)|-|要素空间信息|

###### PolygonGeometry参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|type|true|固定值(string)-Polygon|-|要素图形类型|
|coordinates|true|[PolygonCoordinates](#polygoncoordinates参数说明（类型）)|-|要素空间信息|

###### PolygonCoordinates参数说明（类型）

|参数名称|类型|说明|
|:--|:--:|:--|
|PolygonCoordinates|Array&lt;Array&lt;[LngLat](#lnglat参数说明（类型）)&gt;&gt;|面数据坐标类型|

##### ended函数参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|res|[EndedRes](#endedres参数说明)|-|结束回调信息|

###### EndedRes参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|status|number|-|10-成功,20-失败|
|data|string\|Array&lt;any&gt;|-|isShow 为 true， data为图层ID；isShow 为 false，data为计算结果|

##### onError函数参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|error|[IErrorCodeInfo](#ierrorcodeinfo参数说明)|-|错误信息|

###### IErrorCodeInfo参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|code|string|-|错误码编号|
|message|string|-|错误信息|

### 示例


```
kmap.fourColorCalculation({
  polygons: [
    {
      type: 'Feature',
      geometry: {
        type: 'Polygon',
        coordinates: [
          [
            [120.37, 31.3],
            [120.37, 31.4],
            [120.5, 31.4],
            [120.5, 31.3],
            [120.37, 31.3],
          ],
        ],
      },
      properties: {},
    },
    {
      type: 'Feature',
      geometry: {
        type: 'Polygon',
        coordinates: [
          [
            [120.37, 31.24],
            [120.37, 31.3],
            [120.5, 31.3],
            [120.5, 31.24],
            [120.37, 31.24],
          ],
        ],
      },
      properties: {},
    },
    {
      type: 'Feature',
      geometry: {
        type: 'Polygon',
        coordinates: [
          [
            [120.5, 31.3],
            [120.5, 31.4],
            [120.62, 31.4],
            [120.62, 31.3],
            [120.5, 31.3],
          ],
        ],
      },
      properties: {},
    },
    {
      type: 'Feature',
      geometry: {
        type: 'Polygon',
        coordinates: [
          [
            [120.5, 31.24],
            [120.5, 31.3],
            [120.62, 31.3],
            [120.62, 31.24],
            [120.5, 31.24],
          ],
        ],
      },
      properties: {},
    },
  ],
  ended: (res) => {
    console.log(res);
  },
});
```


## queryHistoryFlowByTime

### 描述

通过按小时或者按天获取历史人流量数据。

### 参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|opts|true|[QueryHistoryFlowByTimeOptions](#queryhistoryflowbytimeoptions参数说明)|-|-|

#### QueryHistoryFlowByTimeOptions参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|type|true|[TimeType](#timetype参数说明)|-|查询类型|
|startTime|true|string|-|查询起始时间|
|endTime|true|string|-|查询结束时间|
|polygon|false|Array&lt;[LngLat](#lnglat参数说明（类型）)&gt;|-|查询范围点坐标集合|
|callback|true|[Function](#callback函数参数说明)|-|回调函数|
|onError|false|[Function](#onerror函数参数说明)|-|错误回调函数|

##### TimeType参数说明

|参数名称|描述|实际值|
|:--|:--|:--:|
|KMap.TIME.DAY|按天|day|
|KMap.TIME.HOUR|按小时|hour|

##### LngLat参数说明（类型）

|参数名称|类型|说明|
|:--|:--:|:--|
|LngLat|[number, number]|经纬度坐标|

##### callback函数参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|res|[CallbackRes](#callbackres参数说明)|-|结束回调信息|

###### CallbackRes参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|status|number|-|10-成功,20-失败|
|data|Array&lt;any&gt;|-|响应结果|

##### onError函数参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|error|[IErrorCodeInfo](#ierrorcodeinfo参数说明)|-|错误信息|

###### IErrorCodeInfo参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|code|string|-|错误码编号|
|message|string|-|错误信息|

### 示例


```
kmap.queryHistoryFlowByTime({
  type: 'hour',
  startTime: '2020-04-28 10:00:00',
  endTime: '2020-04-28 20:00:00',
  callback: function (res) {
    console.log('result', res);
  },
});
```


## queryGeneralList

### 描述

通过关键字查询行政区划、poi、路口、路段、道路、水源等基础数据，返回相近的备选项列表。

### 参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|opts|true|[QueryGeneralListOptions](#querygenerallistoptions参数说明)|-|-|

#### QueryGeneralListOptions参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|keyword|true|string|-|关键字。支持中文、拼音、全拼、简拼。输入越完整和相似，结果越准确|
|code|false|string|-|行政区划编码。支持省、市、区，如果是多个，用逗号连接。如果不传，则默认以当前地图中心点为基准。|
|callback|true|[Function](#callback函数参数说明)|-|回调函数|
|onError|false|[Function](#onerror函数参数说明)|-|错误回调函数|

##### callback函数参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|res|[CallbackRes](#callbackres参数说明)|-|结束回调信息|

###### CallbackRes参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|status|number|-|10-成功,20-失败|
|data|Array&lt;any&gt;|-|响应结果|

##### onError函数参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|error|[IErrorCodeInfo](#ierrorcodeinfo参数说明)|-|错误信息|

###### IErrorCodeInfo参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|code|string|-|错误码编号|
|message|string|-|错误信息|

### 示例


```
kmap.queryGeneralList({
  keyword: '太湖',
  callback: function (res) {
    console.log('res', res);
  },
});
```


## queryGeneralDetailById

### 描述

通过poi一键搜列表返回的id和type查询详情，返回具体内容。

### 参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|opts|true|[QueryGeneralDetailByIdOptions](#querygeneraldetailbyidoptions参数说明)|-|-|

#### QueryGeneralDetailByIdOptions参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|id|true|string|-|备选项id|
|type|true|number|-|备选项类型。poi(1) 、road(2) 、access(3)、section(4)、river(5)、行政区划（6）|
|callback|true|[Function](#callback函数参数说明)|-|回调函数|
|onError|false|[Function](#onerror函数参数说明)|-|错误回调函数|

##### callback函数参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|res|[CallbackRes](#callbackres参数说明)|-|结束回调信息|

###### CallbackRes参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|status|number|-|10-成功,20-失败|
|data|Array&lt;any&gt;|-|响应结果|

##### onError函数参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|error|[IErrorCodeInfo](#ierrorcodeinfo参数说明)|-|错误信息|

###### IErrorCodeInfo参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|code|string|-|错误码编号|
|message|string|-|错误信息|

### 示例


```
kmap.queryGeneralDetailById({
  id: 'AW3t0OsT1G-5W4z4BLa1',
  type: 2,
  callback: function (res) {
    console.log('详情-res', res);
  },
});
```


## getExpirationDate

### 描述

获取KmapServer地图服务过期时间。

### 参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|opts|true|[GetExpirationDateOptions](#getexpirationdateoptions参数说明)|-|-|

#### GetExpirationDateOptions参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|url|true|string|-|发布kmap-server服务的地址|
|callback|true|[Function](#callback函数参数说明)|-|回调函数|
|onError|false|[Function](#onerror函数参数说明)|-|错误回调函数|

##### callback函数参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|res|[CallbackRes](#callbackres参数说明)|-|结束回调信息|

###### CallbackRes参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|status|number|-|10-成功,20-失败|
|data|number|-|时间戳（毫秒）|

##### onError函数参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|error|[IErrorCodeInfo](#ierrorcodeinfo参数说明)|-|错误信息|

###### IErrorCodeInfo参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|code|string|-|错误码编号|
|message|string|-|错误信息|

### 示例


```
kmap.getExpirationDate({
  url: 'http://10.xx.xx.xx:8080/kmap-server',
  callback: function (res) {
    console.log(res);
  },
});
```


## getWFSData

### 描述

查询三方发布的wfs服务相关信息。

### 参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|opts|true|[GetWFSDataOptions](#getwfsdataoptions参数说明)|-|-|

#### GetWFSDataOptions参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|url|true|string|-|wfs服务地址|
|lnglatParam|true|string|features|返回数据内空间信息参数,根据现场发布服务中定义的空间信息参数配置，如在现场配置的空间要素信息返回值参数为lnglat，则该参数需修改配置为lnglat|
|version|true|string|1.1.0|wfs服务版本号，根据现场发布的wfs服务版本决定，wfs3.1.0对应版本号为1.1.0|
|typeName|true|string|-|工作区下图层名称，例如test:house|
|srsName|false|number|'EPSG:4326'|服务发布的投影规则与坐标系|
|featurePrefix|false|string|'osm'|gml标签定义类型,默认osm，若现场没有改动不需要填写|
|featureNS|false|number|'http://openstreemap.org'|当前发布的wfs创建的命名空间，命名空间不同gml标签定义的规则不同|
|terms|false|Array&lt;[Term](#term参数说明)&gt;|-|过滤条件|
|propertyNames|false|Array&lt;string&gt;|-|过滤当前需要的属性信息,默认不过滤,可以指定当前过滤的属性如:[feature、name、id]，注意：如果使用图层上图且需要使用该字段定制返回值，则空间过滤字段必填,如现场空间存储字段为the_geom,则此参数内部必须有该属性，否则上图时无法取到空间信息|
|featureTypes|true|Array&lt;string&gt;|-|当前工作区若发布了多个图层,指定需要查询的图层数组:[water,road]|
|startIndex|false|number|1|分页索引值,wfs3.1.0以上有效|
|geometryName|false|string|-|空间过滤字段，使用空间过滤bbox时bbox过滤器中指定的几何名称，根据发布的服务定义的空间属性为主，如geoServer发布的服务空间属性默认为"the_geom"|
|bbox|false|[LngLat, LngLat]|-|空间查询条件，查询当前范围内要素集，Array[0]左下角点坐标,Array[1]右上角点坐标，根据当前坐标绘制矩形范围查询|
|callback|true|[Function](#callback函数参数说明)|-|回调函数|
|onError|false|[Function](#onerror函数参数说明)|-|错误回调函数|

##### Term参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|column|true|string|-|过滤字段，对于人员账号，需要传 targetType 值为 5；对于重点人员，需要传 targetType 值为 27；其它情况默认无需填写|
|termType|true|string|-|过滤条件,例如eq,neq,like,nlike,gt,lt,gte,lte,in,nin,prefix,subfix,isnull,notnull,should。其中like、nlike、prefix、subfix只能用于过滤值为字符串类型。|
|value|true|string\|number\|Array&lt;number&gt;\|Array&lt;string&gt;|-|过滤值|
|type|false|string|'and'|term之间的过滤关系.可选"and"和"or",如果存在至少一个and,过滤所有and对应的并集,如果全部是or,返回所有数据， 如果要过滤某个条件可以匹配多个值中的任何一个， 可以使用termType="in".|
|filterType|false|number|0|公有属性及私有属性标记，0为私有属性，1为公有属性，在查询公有图层数据时，根据该字段区分公私有属性，不填默认为私有|
|analyzeEnum|false|string|'not_analyze'|userId、deptId、roleId必须设置成default_analyze,上传数据指定的拼音分词需要设置成pinyin_analyze,默认不分词|
|terms|false|Array&lt;[Term](#term参数说明)&gt;|-|即当前Term，支持循环使用|

##### callback函数参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|res|[CallbackRes](#callbackres参数说明)|-|结束回调信息|

###### CallbackRes参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|status|number|-|10-成功,20-失败|
|data|Array&lt;any&gt;|-|响应结果|

##### onError函数参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|error|[IErrorCodeInfo](#ierrorcodeinfo参数说明)|-|错误信息|

###### IErrorCodeInfo参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|code|string|-|错误码编号|
|message|string|-|错误信息|

### 示例


```
kmap.getWFSData({
  url: 'http://10.68.8.42:8080/geoserver/roc/wfs',
  typeName: 'roc:qiao',
  maxSize: 50,
  version: '1.1.0',
  startIndex: 3,
  featureTypes: ['qiao'],
  geometryName: 'the_geom',
  lnglatParam: 'features',
  terms: [
    {
      column: 'name',
      termType: 'like',
      value: '*桥',
      type: 'and',
    },
    {
      column: 'areaName',
      termType: 'eq',
      value: '吴中区',
    },
  ],
  bbox: [
    [120.61562418937682, 31.3039628145836],
    [120.62469005584717, 31.30802827503733],
  ],
  callback(e) {
    console.log(e);
  },
});
```


## getRestfulData

### 描述

对接三方restful服务接口。

### 参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|opts|true|[GetRestfulDataOptions](#getrestfuldataoptions参数说明)|-|-|

#### GetRestfulDataOptions参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|url|true|string|-|请求地址|
|params|true|object|-|第三方接口需要拼入请求的所有参数已经参数值|
|type|false|string|'GET'|接口请求类型，当前支持GET、POST两种|
|callback|true|[Function](#callback函数参数说明)|-|回调函数|
|onError|false|[Function](#onerror函数参数说明)|-|错误回调函数|

##### callback函数参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|res|[CallbackRes](#callbackres参数说明)|-|结束回调信息|

###### CallbackRes参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|status|number|-|10-成功,20-失败|
|data|any|-|响应结果|

##### onError函数参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|error|[IErrorCodeInfo](#ierrorcodeinfo参数说明)|-|错误信息|

###### IErrorCodeInfo参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|code|string|-|错误码编号|
|message|string|-|错误信息|

### 示例


```
kmap.getRestfulData({
  url: 'http://10.68.8.42:8080/geoserver/roc/ows',
  params: {
    service: 'WFS',
    version: '1.0.0',
    request: 'GetFeature',
    typeName: 'roc:qiao',
    maxFeatures: 50,
    outputFormat: 'application/json',
  },
  callback(e) {
    console.log(e);
  },
});
```


## addVipRoute

### 描述

添加自定义的VIP线路。

### 参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|opts|true|[AddVipRouteOptions](#addviprouteoptions参数说明)|-|-|

#### AddVipRouteOptions参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|type|true|number|-|0：表示创建绘制VIP路线|
|routes|true|Array&lt;[routesObject](#routesobject参数说明)&gt;|-|第三方接口需要拼入请求的所有参数已经参数值|
|callback|true|[Function](#callback函数参数说明)|-|回调函数|
|onError|false|[Function](#onerror函数参数说明)|-|错误回调函数|

##### routesObject参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|id|true|string|-|路线唯一ID，重复则绘制失败，只能为数字、字母、下划线，不超过64位|
|points|true|Array&lt;[LngLat](#lnglat参数说明（类型）)&gt;|-|点位集合，只支持单线，即LineString|
|devices|true|Array&lt;[devicesObject](#devicesobject参数说明)&gt;|-|设备列表|

###### LngLat参数说明（类型）

|参数名称|类型|说明|
|:--|:--:|:--|
|LngLat|[number, number]|经纬度坐标|

###### devicesObject参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|gbid|true|string|-|设备id|
|radius|true|number|-|缓冲半径，单位m，可精确到2位|

##### callback函数参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|res|[CallbackRes](#callbackres参数说明)|-|结束回调信息|

###### CallbackRes参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|status|number|-|10-成功,20-失败|
|data|any|-|响应结果|

##### onError函数参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|error|[IErrorCodeInfo](#ierrorcodeinfo参数说明)|-|错误信息|

###### IErrorCodeInfo参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|code|string|-|错误码编号|
|message|string|-|错误信息|

### 示例


```
kmap.addVipRoute({
  type: 0,
  routes: [
    {
      id: 'james01',
      points: [
        [120.54885, 31.30029],
        [120.61271, 31.27095],
      ],
    },
  ],
  callback: function (res) {
    console.log('绘制vip线路res', res);
  },
  onError: function (err) {
    console.log('error', err);
  },
});
```


## removeVipRouteById

### 描述

根据ID删除一条自定义的VIP线路。

### 参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|opts|true|[RemoveVipRouteByIdOptions](#removeviproutebyidoptions参数说明)|-|-|

#### RemoveVipRouteByIdOptions参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|id|true|string|-|路线唯一ID|
|callback|true|[Function](#callback函数参数说明)|-|回调函数|
|onError|false|[Function](#onerror函数参数说明)|-|错误回调函数|

##### callback函数参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|res|[CallbackRes](#callbackres参数说明)|-|结束回调信息|

###### CallbackRes参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|status|number|-|10-成功,20-失败|
|data|any|-|响应结果|

##### onError函数参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|error|[IErrorCodeInfo](#ierrorcodeinfo参数说明)|-|错误信息|

###### IErrorCodeInfo参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|code|string|-|错误码编号|
|message|string|-|错误信息|

### 示例


```
kmap.removeVipRouteById({
  id: 'james01',
  callback: function (res) {
    console.log('删除vip线路', res);
  },
  onError: function (err) {
    console.log('error', err);
  },
});
```


## relateVipRouteDevice

### 描述

指定VIP线路，关联监控设备。

### 参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|opts|true|[RelateVipRouteDeviceOptions](#relateviproutedeviceoptions参数说明)|-|-|

#### RelateVipRouteDeviceOptions参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|id|true|string|-|路线唯一ID|
|devices|true|Array&lt;[devicesObject](#devicesobject参数说明)&gt;|-|设备列表|
|callback|true|[Function](#callback函数参数说明)|-|回调函数|
|onError|false|[Function](#onerror函数参数说明)|-|错误回调函数|

##### devicesObject参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|gbid|true|string|-|设备id|
|radius|true|number|-|缓冲半径，单位m，可精确到2位|

##### callback函数参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|res|[CallbackRes](#callbackres参数说明)|-|结束回调信息|

###### CallbackRes参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|status|number|-|10-成功,20-失败|
|data|any|-|响应结果|

##### onError函数参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|error|[IErrorCodeInfo](#ierrorcodeinfo参数说明)|-|错误信息|

###### IErrorCodeInfo参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|code|string|-|错误码编号|
|message|string|-|错误信息|

### 示例


```
kmap.relateVipRouteDevice({
  id: 'james01',
  devices: [
    {
      gbid: '1100221212',
      radius: 1000,
    },
  ],
  callback() {
    // to do sth
  }
});
```


## queryVipRoute

### 描述

查询单条或多条VIP线路。

### 参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|opts|true|[QueryVipRouteOptions](#queryviprouteoptions参数说明)|-|-|

#### QueryVipRouteOptions参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|id|true|Array&lt;string&gt;|-|路线ID。不传表示查询所有，单条或多条传数组|
|callback|true|[Function](#callback函数参数说明)|-|回调函数|
|onError|false|[Function](#onerror函数参数说明)|-|错误回调函数|

##### callback函数参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|res|[CallbackRes](#callbackres参数说明)|-|结束回调信息|

###### CallbackRes参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|status|number|-|10-成功,20-失败|
|data|any|-|响应结果|

##### onError函数参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|error|[IErrorCodeInfo](#ierrorcodeinfo参数说明)|-|错误信息|

###### IErrorCodeInfo参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|code|string|-|错误码编号|
|message|string|-|错误信息|

### 示例


```
kmap.queryVipRoute({
  id: ['james01'],
  callback: function (res) {
    console.log('查询vip路线res', res);
  },
  onError: function (err) {
    console.log('error', err);
  },
});
```


## getIndoorMapBuildingList

### 描述

获取室内地图建筑物列表。

### 参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|opts|true|[GetIndoorMapBuildingListOptions](#getindoormapbuildinglistoptions参数说明)|-|-|

#### GetIndoorMapBuildingListOptions参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|callback|true|[Function](#callback函数参数说明)|-|回调函数|
|onError|false|[Function](#onerror函数参数说明)|-|错误回调函数|

##### callback函数参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|res|[CallbackRes](#callbackres参数说明)|-|结束回调信息|

###### CallbackRes参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|status|number|-|10-成功,20-失败|
|data|Array&lt;any&gt;|-|响应结果|

##### onError函数参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|error|[IErrorCodeInfo](#ierrorcodeinfo参数说明)|-|错误信息|

###### IErrorCodeInfo参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|code|string|-|错误码编号|
|message|string|-|错误信息|

### 示例


```
kmap.getIndoorMapBuildingList({
  callback: function (res) {
    console.log(res);
  },
});
```


## queryGeneralConfig

### 描述

获取地图中心点、初始层级、电子地图层级范围等通用配置项。

### 参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|opts|true|[QueryGeneralConfigOptions](#querygeneralconfigoptions参数说明)|-|-|

#### QueryGeneralConfigOptions参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|callback|true|[Function](#callback函数参数说明)|-|回调函数|
|onError|false|[Function](#onerror函数参数说明)|-|错误回调函数|

##### callback函数参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|res|[CallbackRes](#callbackres参数说明)|-|结束回调信息|

###### CallbackRes参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|status|number|-|10-成功,20-失败|
|data|[dataObject](#dataobject参数说明)|-|响应结果|

###### dataObject参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|center|[LngLat](#lnglat参数说明（类型）)|-|地图中心点|
|zoom|number|-|地图初始层级|
|levelRange|[number, number]|-|电子地图层级范围|
|clusteredRadius|number|-|最小聚合半径|

###### LngLat参数说明（类型）

|参数名称|类型|说明|
|:--|:--:|:--|
|LngLat|[number, number]|经纬度坐标|

##### onError函数参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|error|[IErrorCodeInfo](#ierrorcodeinfo参数说明)|-|错误信息|

###### IErrorCodeInfo参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|code|string|-|错误码编号|
|message|string|-|错误信息|

### 示例


```
kmap.queryGeneralConfig({
  projectName: 'app_name',
  callback: function (res) {
    if (res.status === 10) {
      console.log(res.data);
    }
  },
});
```


## queryEncirclePointsByPolygon

### 描述

计算多边形范围内路口包围点。
业务场景：通过出发点、速度和时间计算出直线距离作为半径，生成圆或环形区域数据，然后通过调用此接口，获取最靠近区域外边界的路口点位。

### 参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|opts|true|[QueryEncirclePointsByPolygonOptions](#queryencirclepointsbypolygonoptions参数说明)|-|-|

#### QueryEncirclePointsByPolygonOptions参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|polygon|true|[PolygonFeatureType](#polygonfeaturetype参数说明)|-|多边形信息|
|maxCount|false|number|1000| 查询最大返回数量|
|pageNo|false|number|1|页码, 最小为1|
|callback|true|[Function](#callback函数参数说明)|-|回调函数|
|onError|false|[Function](#onerror函数参数说明)|-|错误回调函数|

##### PolygonFeatureType参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|type|true|固定值(string)-Feature|-|要素类型|
|properties|true|Object|-|要素自定义属性|
|geometry|true|[PolygonGeometry](#polygongeometry参数说明)|-|要素空间信息|

###### PolygonGeometry参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|type|true|固定值(string)-Polygon|-|要素图形类型|
|coordinates|true|[PolygonCoordinates](#polygoncoordinates参数说明（类型）)|-|要素空间信息|

###### PolygonCoordinates参数说明（类型）

|参数名称|类型|说明|
|:--|:--:|:--|
|PolygonCoordinates|Array&lt;Array&lt;[LngLat](#lnglat参数说明（类型）)&gt;&gt;|面数据坐标类型|

##### callback函数参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|res|[CallbackRes](#callbackres参数说明)|-|结束回调信息|

###### CallbackRes参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|status|number|-|10-成功,20-失败|
|data|Array&lt;any&gt;|-|响应结果|

##### onError函数参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|error|[IErrorCodeInfo](#ierrorcodeinfo参数说明)|-|错误信息|

###### IErrorCodeInfo参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|code|string|-|错误码编号|
|message|string|-|错误信息|

### 示例


```
kmap.queryEncirclePointsByPolygon({
  polygon: {
    type: 'Feature',
    geometry: {
          type: 'Polygon',
          coordinates: [
              [120.53227813719252, 31.303803950036936],
              [120.52300842284279, 31.282974272943534],
              [120.5539074706943, 31.29001580553458],
              [120.53227813719252, 31.303803950036936]
          ]
      },
      properties: {}
  },
  maxCount: 2000,
  callback: function (res) {
    console.log(res); // 查询到的数据
  },
});
```


## queryDataTotal

### 描述

查询多个数据类型数据总数（目前支持：标准地址、路口、道路、路段、POI、水源）

### 参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|opts|true|[QueryDataTotalOptions](#querydatatotaloptions参数说明)|-|-|

#### QueryDataTotalOptions参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|type|false|string|-|需要查询的数据类别，支持standardAddress、cross、road、roadSection、POI、waterFace,查询多个以英文逗号分隔，不传则查询全部|
|commonParams|false|[CommonParamsType](#commonparamstype参数说明)|-|查询数据的公共参数，如果传递了该参数、则所有支持该参数的数据类型都会生效|
|detailParams|false|[detailParamsObject](#detailparamsobject参数说明)|-|查询数据的定制参数，如果该参数的字段和commonParams中的字段重复，则以detailParams中的参数为准，参数详见detailParams详细说明|
|callback|true|[Function](#callback函数参数说明)|-|回调函数|
|onError|false|[Function](#onerror函数参数说明)|-|错误回调函数|

##### CommonParamsType参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|keyword|false|string|-|查询关键字|
|code|false|string|320000|行政编码|
|sortType|false|number|-|路口排序类型：1、东向西 2、西向东 3、北向南 4、南向北|
|searchType|false|Array&lt;string&gt;|-|水源、POI分类，空数组查询全部|

##### detailParamsObject参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|standardAddress|false|[CommonParamsType](#commonparamstype参数说明)|-|标准地址查询参数，支持keyword字段|
|cross|false|[CommonParamsType](#commonparamstype参数说明)|-|路口查询参数，支持keyword、code、sortType字段|
|road|false|[CommonParamsType](#commonparamstype参数说明)|-|道路查询参数，支持keyword、code字段|
|roadSection|false|[CommonParamsType](#commonparamstype参数说明)|-|路段查询参数，支持keyword、code、sortType字段|
|POI|false|[CommonParamsType](#commonparamstype参数说明)|-|POI查询参数，支持keyword、code、searchType字段|
|waterFace|false|[CommonParamsType](#commonparamstype参数说明)|-|水源查询参数，支持keyword、code、searchType字段|

##### callback函数参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|res|[CallbackRes](#callbackres参数说明)|-|结束回调信息|

###### CallbackRes参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|status|number|-|10-成功,20-失败|
|data|[dataObject](#dataobject参数说明)|-|响应结果|

###### dataObject参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|POI|number|-|POI数据总量|
|road|number|-|道路数据总量|
|roadSection|number|-|路段数据总量|
|cross|number|-|路口数据总量|
|waterFace|number|-|水源数据总量|
|standardAddress|number|-|标准地址数据总量|

##### onError函数参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|error|[IErrorCodeInfo](#ierrorcodeinfo参数说明)|-|错误信息|

###### IErrorCodeInfo参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|code|string|-|错误码编号|
|message|string|-|错误信息|

### 示例


```
kmap.queryDataTotal({
  commonParams: {
    keyword: '苏州',
    code: '320505',
    sortType: 1,
    searchType: [],
  },
  // detailParams: {
  //     standardAddress: {
  //         keyword: '2'
  //     },
  //     cross: {
  //         keyword: '南',
  //         code: '320000',
  //         // 路口排序类型：1、东向西 2、西向东 3、北向南 4、南向北
  //         sortType: 1,
  //     },
  //     road: {
  //         keyword: '南',
  //         code: '320504'
  //     },
  //     roadSection: {
  //         keyword: '南',
  //         code: '320000',
  //         // 路口排序类型：1、东向西 2、西向东 3、北向南 4、南向北
  //         sortType: 1,
  //     },
  //     POI: {
  //         keyword: '南',
  //         code: '320000',
  //         searchType: [123, 23]
  //     },
  //     waterFace: {
  //         keyword: '南',
  //         code: '320000',
  //         searchType: [123, 23]
  //     }
  // },
  callback: function (res) {
    console.log(res);
  },
});
```


## getTileTime

### 描述

根据经纬度和zoom获取影像图拍摄时间

### 参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|opts|true|[GetTileTimeOptions](#gettiletimeoptions参数说明)|-|-|

#### GetTileTimeOptions参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|position|true|[LngLat](#lnglat参数说明（类型）)|-|查询坐标，需填入经纬度|
|zoom|true|number|-|层级，非整数值会被Math.round转换为整数|
|solutionId|false|string|已配置的影像图服务标识|想要查询地图服务标识，可在云平台地图服务中查看，在没有配置过影像图服务时，此参数必填|
|callback|true|[Function](#callback函数参数说明)|-|回调函数|
|onError|false|[Function](#onerror函数参数说明)|-|错误回调函数|

##### LngLat参数说明（类型）

|参数名称|类型|说明|
|:--|:--:|:--|
|LngLat|[number, number]|经纬度坐标|

##### callback函数参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|res|[CallbackRes](#callbackres参数说明)|-|结束回调信息|

###### CallbackRes参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|status|number|-|10-成功,20-失败|
|data|string|-|影像图拍摄时间，空字符串表示没有时间信息|

##### onError函数参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|error|[IErrorCodeInfo](#ierrorcodeinfo参数说明)|-|-|

###### IErrorCodeInfo参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|code|string|-|错误码编号|
|message|string|-|错误信息|

### 示例


```
kmap.addEventOnMap({
  event: 'click',
  handler(event) {
    const { lng, lat } = event.lngLat;
    const position = [lng, lat];
    kmap.getZoom({
      callback(res) {
        kmap.getTileTime({
          // solutionId: '30002',
          position: position,
          zoom: res.data,
          callback(res) {
            console.log('tile info', res);
          },
        });
      },
    });
  },
});
```


## queryQuickly

### 描述

根据数据类型以及关键字进行搜索。行政编码支持省市区，支持模糊查询，最多返回 15 条

### 参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|opts|true|[QueryQuicklyOptions](#queryquicklyoptions参数说明)|-|-|

#### QueryQuicklyOptions参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|code|true|string|-|行政编码|
|keyword|true|string|-|要查询的关键字|
|searchType|false|Array&lt;string&gt;|-|查询的分类，通过getPoiType接口可获得，可传入多个|
|dataSearchType|false|number|0|查询的POI归属类别，0-基础与用户拓展POI，1-基础POI，2-用户拓展POI|
|queryMode|false|[QueryMode](#querymode参数说明)|KMap.QueryMode.ChinesePromptQuery|查询模式|
|callback|true|[Function](#callback函数参数说明)|-|回调函数|
|onError|false|[Function](#onerror函数参数说明)|-|错误回调函数|

##### QueryMode参数说明

|参数名称|描述|实际值|
|:--|:--|:--:|
|KMap.QUERY_MODE.CHINESE_PROMPT_QUERY|中文提示查询|0|
|KMap.QUERY_MODE.CHINESE_PRECISE_QUERY|中文精确查询|1|
|KMap.QUERY_MODE.CHINESE_STATISTICS_QUERY|POI 统计数量查询模式，保持和基础数据聚合查询结果一致|2|

##### callback函数参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|res|[CallbackRes](#callbackres参数说明)|-|结束回调信息|

###### CallbackRes参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|status|number|-|10-成功,20-失败|
|data|Array&lt;[QueryQuicklyDataType](#queryquicklydatatype参数说明)&gt;|-|响应结果|

###### QueryQuicklyDataType参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|kindCode|string|-|分类编码|
|address|string|-|地址|
|province|number|-|省级行政编码|
|provinceName|string|-|省份名称|
|city|number|-|市级行政编码|
|cityName|string|-|城市名|
|district|number|-|区级行政编码|
|areaName|string|-|地区名|
|name|string|-|poi名称|
|telephone|string|-|电话|
|bigClass|string|-|一级分类名称|
|className|string|-|二级分类名称|
|smallClass|string|-|三级分类名称|
|longitude|number|-|经度|
|latitude|number|-|纬度|
|location|object|-|几何图形|

##### onError函数参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|error|[IErrorCodeInfo](#ierrorcodeinfo参数说明)|-|错误信息|

###### IErrorCodeInfo参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|code|string|-|错误码编号|
|message|string|-|错误信息|

### 示例


```javascript
kmap.queryQuickly({
   code: '320500',
   keyword: '关键字',
   callback: function (res) {
       console.log(res); // 查询到的数据
   }
});
```


## queryHotSpotDetail

### 描述

查询热点详情

### 参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|opts|true|[QueryHotSpotDetailOptions](#queryhotspotdetailoptions参数说明)|-|-|

#### QueryHotSpotDetailOptions参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|serviceName|true|string|-|图层标识|
|aggsName|true|string|-|聚合名称|
|aggsValue|true|string|-|聚合值|
|filterTerms|false|Array&lt;[Term](#term参数说明)&gt;|-|查询过滤条件, 支持多条件搜索,详见自有数据查询的term|
|callback|true|[Function](#callback函数参数说明)|-|回调函数|
|onError|false|[Function](#onerror函数参数说明)|-|错误回调函数|

##### Term参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|column|true|string|-|过滤字段，对于人员账号，需要传 targetType 值为 5；对于重点人员，需要传 targetType 值为 27；其它情况默认无需填写|
|termType|true|string|-|过滤条件,例如eq,neq,like,nlike,gt,lt,gte,lte,in,nin,prefix,subfix,isnull,notnull,should。其中like、nlike、prefix、subfix只能用于过滤值为字符串类型。|
|value|true|string\|number\|Array&lt;number&gt;\|Array&lt;string&gt;|-|过滤值|
|type|false|string|'and'|term之间的过滤关系.可选"and"和"or",如果存在至少一个and,过滤所有and对应的并集,如果全部是or,返回所有数据， 如果要过滤某个条件可以匹配多个值中的任何一个， 可以使用termType="in".|
|filterType|false|number|0|公有属性及私有属性标记，0为私有属性，1为公有属性，在查询公有图层数据时，根据该字段区分公私有属性，不填默认为私有|
|analyzeEnum|false|string|'not_analyze'|userId、deptId、roleId必须设置成default_analyze,上传数据指定的拼音分词需要设置成pinyin_analyze,默认不分词|
|terms|false|Array&lt;[Term](#term参数说明)&gt;|-|即当前Term，支持循环使用|

##### callback函数参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|res|[CallbackRes](#callbackres参数说明)|-|结束回调信息|

###### CallbackRes参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|status|number|-|10-成功,20-失败|
|data|Array&lt;any&gt;|-|响应结果|

##### onError函数参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|error|[IErrorCodeInfo](#ierrorcodeinfo参数说明)|-|错误信息|

###### IErrorCodeInfo参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|code|string|-|错误码编号|
|message|string|-|错误信息|

### 示例


```
kmap.queryHotSpotDetail({
  serviceName: '',
  aggsName: '',
  aggsValue: '',
  filterTerms: [],
  callback: function (res) {
    console.log(res);
  },
});
```


## 交通态势

## getTrafficIndexList

### 描述

搜索多边形缓冲区内的高速里程桩信息。（使用此接口需要另行采购数据，如有使用需求，请联系地图团队）

### 参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|opts|true|[GetTrafficIndexListOptions](#gettrafficindexlistoptions参数说明)|-|-|

#### GetTrafficIndexListOptions参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|parentAdcode|true|string|-|行政编码，获取此区划下级区划的交通指数|
|sort|false|string|-|排序选项，increase-按交通指数升序，decrease-按交通指数降序|
|pageSize|false|number|10|每页最大返回数量|
|pageNo|false|number|1|页码, 最小为1|
|callback|true|[Function](#callback函数参数说明)|-|回调函数|
|onError|false|[Function](#onerror函数参数说明)|-|错误回调函数|

##### callback函数参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|res|[CallbackRes](#callbackres参数说明)|-|结束回调信息|

###### CallbackRes参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|status|number|-|10-成功,20-失败|
|data|Array&lt;any&gt;|-|响应结果|
|total|number|-|总条数|

##### onError函数参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|error|[IErrorCodeInfo](#ierrorcodeinfo参数说明)|-|错误信息|

###### IErrorCodeInfo参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|code|string|-|错误码编号|
|message|string|-|错误信息|

### 示例


```
const params = {
  parentAdcode: '320500',
  sort: 'increase',
  pageNo: 1,
  pageSize: 100,
  callback(res) {
    console.log(res);
  },
};
kmap.getTrafficIndexList(params);
```


## getTrafficIndexByAdcode

### 描述

获取指定行政区划的交通指数。（使用此接口需要另行采购数据，如有使用需求，请联系地图团队）

### 参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|opts|true|[GetTrafficIndexByAdcodeOptions](#gettrafficindexbyadcodeoptions参数说明)|-|-|

#### GetTrafficIndexByAdcodeOptions参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|adcode|true|string|-|行政编码|
|callback|true|[Function](#callback函数参数说明)|-|回调函数|
|onError|false|[Function](#onerror函数参数说明)|-|错误回调函数|

##### callback函数参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|res|[CallbackRes](#callbackres参数说明)|-|结束回调信息|

###### CallbackRes参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|status|number|-|10-成功,20-失败|
|data|Array&lt;any&gt;|-|响应结果|

##### onError函数参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|error|[IErrorCodeInfo](#ierrorcodeinfo参数说明)|-|错误信息|

###### IErrorCodeInfo参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|code|string|-|错误码编号|
|message|string|-|错误信息|

### 示例


```
const params = {
  adcode: '320500',
  callback(res) {
    console.log(res);
  },
};
kmap.getTrafficIndexByAdcode(params);
```


## getTrafficIndexHistoryListByAdcode

### 描述

获取指定行政区划的交通指数历史列表。（使用此接口需要另行采购数据，如有使用需求，请联系地图团队）

### 参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|opts|true|[GetTrafficIndexHistoryListByAdcodeOptions](#gettrafficindexhistorylistbyadcodeoptions参数说明)|-|-|

#### GetTrafficIndexHistoryListByAdcodeOptions参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|adcode|true|string|-|行政编码|
|startTime|true|string|-|查询开始时间，日期格式为yyyy-MM-dd HH:mm:ss,结束时间需要大于开始时间|
|endTime|true|string|-|查询结束时间，日期格式为yyyy-MM-dd HH:mm:ss,结束时间需要大于开始时间|
|pageSize|false|number|10|每页最大返回数量|
|pageNo|false|number|1|页码, 最小为1|
|callback|true|[Function](#callback函数参数说明)|-|回调函数|
|onError|false|[Function](#onerror函数参数说明)|-|错误回调函数|

##### callback函数参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|res|[CallbackRes](#callbackres参数说明)|-|结束回调信息|

###### CallbackRes参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|status|number|-|10-成功,20-失败|
|data|Array&lt;any&gt;|-|响应结果|
|total|number|-|总条数|

##### onError函数参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|error|[IErrorCodeInfo](#ierrorcodeinfo参数说明)|-|错误信息|

###### IErrorCodeInfo参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|code|string|-|错误码编号|
|message|string|-|错误信息|

### 示例


```
const params = {
  adcode: '320500',
  startTime: '2021-07-14 11:40:00',
  endTime: '2021-07-14 16:50:00',
  callback(res) {
    console.log(res);
  },
};
kmap.getTrafficIndexHistoryListByAdcode(params);
```


## getTrafficIndexAverageListByAdcode

### 描述

获取指定行政区划的交通指数平均值列表。（使用此接口需要另行采购数据，如有使用需求，请联系地图团队）

### 参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|opts|true|[GetTrafficIndexAverageListByAdcodeOptions](#gettrafficindexaveragelistbyadcodeoptions参数说明)|-|-|

#### GetTrafficIndexAverageListByAdcodeOptions参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|adcode|true|string|-|行政编码|
|startDate|true|string|-|查询开始时间，日期格式为yyyy-MM-dd|
|endDate|true|string|-|查询结束时间，日期格式为yyyy-MM-dd|
|timeGrading|false|string|'hour'|时间粒度，quarter-季度，间隔需大于三个月；month-月，需大于一个月；day-天，需大于3天；hour-小时，需大于一天|
|callback|true|[Function](#callback函数参数说明)|-|回调函数|
|onError|false|[Function](#onerror函数参数说明)|-|错误回调函数|

##### callback函数参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|res|[CallbackRes](#callbackres参数说明)|-|结束回调信息|

###### CallbackRes参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|status|number|-|10-成功,20-失败|
|data|Array&lt;any&gt;|-|响应结果|
|total|number|-|总条数|

##### onError函数参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|error|[IErrorCodeInfo](#ierrorcodeinfo参数说明)|-|错误信息|

###### IErrorCodeInfo参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|code|string|-|错误码编号|
|message|string|-|错误信息|

### 示例


```
const params = {
  adcode: '320500',
  startDate: '2021-07-14',
  endDate: '2021-07-14',
  timeGrading: 'hour',
  callback(res) {
    console.log(res);
  },
};
kmap.getTrafficIndexAverageListByAdcode(params);
```


## getRoadTrafficIndexList

### 描述

获取道路交通指数列表。（使用此接口需要另行采购数据，如有使用需求，请联系地图团队）

### 参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|opts|true|[GetRoadTrafficIndexListOptions](#getroadtrafficindexlistoptions参数说明)|-|-|

#### GetRoadTrafficIndexListOptions参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|adcode|true|string|-|行政编码|
|roadType|true|number|-|道路类型, 1-高速路 2-城市快速路 4-次要道路 5-主要道路 6-国道 7-省道 8-县道 9-乡公路 10-县乡村内部道路 33-普通道路 34-非导航道路|
|sort|false|string|-|排序选项，increase-按交通指数升序，decrease-按交通指数降序|
|pageSize|false|number|10|每页最大返回数量|
|pageNo|false|number|1|页码, 最小为1|
|callback|true|[Function](#callback函数参数说明)|-|回调函数|
|onError|false|[Function](#onerror函数参数说明)|-|错误回调函数|

##### callback函数参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|res|[CallbackRes](#callbackres参数说明)|-|结束回调信息|

###### CallbackRes参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|status|number|-|10-成功,20-失败|
|data|Array&lt;any&gt;|-|响应结果|
|total|number|-|总条数|

##### onError函数参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|error|[IErrorCodeInfo](#ierrorcodeinfo参数说明)|-|错误信息|

###### IErrorCodeInfo参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|code|string|-|错误码编号|
|message|string|-|错误信息|

### 示例


```
const params = {
  adcode: '320500',
  roadType: 1,
  sort: 'decrease',
  pageNo: 1,
  pageSize: 30,
  callback(res) {
    console.log(res);
  },
};
kmap.getRoadTrafficIndexList(params);
```


## getRoadTrafficIndexListByName

### 描述

根据道路名称获取道路交通指数列表。（使用此接口需要另行采购数据，如有使用需求，请联系地图团队）

### 参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|opts|true|[GetRoadTrafficIndexListByNameOptions](#getroadtrafficindexlistbynameoptions参数说明)|-|-|

#### GetRoadTrafficIndexListByNameOptions参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|adcode|true|string|-|行政编码|
|roadType|true|number|-|道路类型, 1-高速路 2-城市快速路 4-次要道路 5-主要道路 6-国道 7-省道 8-县道 9-乡公路 10-县乡村内部道路 33-普通道路 34-非导航道路|
|name|true|string|-|道路名称|
|pageSize|false|number|10|每页最大返回数量|
|pageNo|false|number|1|页码, 最小为1|
|callback|true|[Function](#callback函数参数说明)|-|回调函数|
|onError|false|[Function](#onerror函数参数说明)|-|错误回调函数|

##### callback函数参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|res|[CallbackRes](#callbackres参数说明)|-|结束回调信息|

###### CallbackRes参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|status|number|-|10-成功,20-失败|
|data|Array&lt;any&gt;|-|响应结果|
|total|number|-|总条数|

##### onError函数参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|error|[IErrorCodeInfo](#ierrorcodeinfo参数说明)|-|错误信息|

###### IErrorCodeInfo参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|code|string|-|错误码编号|
|message|string|-|错误信息|

### 示例


```
const params = {
  adcode: '320500',
  roadType: 2,
  name: '南',
  pageNo: 1,
  pageSize: 15,
  callback(res) {
    console.log(res);
  },
};
kmap.getRoadTrafficIndexListByName(params);
```


## AOI

## queryAoiByKeyword

### 描述

根据数据类型以及关键字进行搜索。行政编码支持省市区，支持模糊查询，数据可支持全国（因测试环境限制，目前只导入了江苏的数据，需要其他省份数据可申请）

### 参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|opts|true|[QueryInfoByTypeOptions](#queryinfobytypeoptions参数说明)|-|-|

#### QueryInfoByTypeOptions参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|code|true|string|-|行政编码|
|keyword|true|string|-|要查询的关键字|
|searchType|true|Array&lt;string&gt;|-|查询的分类,通过getPoiType接口可获得,可传入多个,空数组查询所有类型|
|dataSearchType|false|number|0|查询的POI归属类别，0-基础与用户拓展POI，1-基础POI，2-用户拓展POI|
|pageNo|false|number|1| 分页页码|
|maxCount|false|number|10|每次查询最大返回条数|
|queryMode|false|[QueryMode](#querymode参数说明)|KMap.QueryMode.ChinesePromptQuery|查询模式|
|callback|true|[Function](#callback函数参数说明)|-|回调函数|
|onError|false|[Function](#onerror函数参数说明)|-|错误回调函数|

##### QueryMode参数说明

|参数名称|描述|实际值|
|:--|:--|:--:|
|KMap.QUERY_MODE.CHINESE_PROMPT_QUERY|中文提示查询|0|
|KMap.QUERY_MODE.CHINESE_PRECISE_QUERY|中文精确查询|1|
|KMap.QUERY_MODE.CHINESE_STATISTICS_QUERY|POI 统计数量查询模式，保持和基础数据聚合查询结果一致|2|

##### callback函数参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|res|[CallbackRes](#callbackres参数说明)|-|结束回调信息|

###### CallbackRes参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|status|number|-|10-成功,20-失败|
|data|Array&lt;[POIDataType](#poidatatype参数说明)&gt;|-|响应结果|
|total|number|-|总条数|

###### POIDataType参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|poiUid|string|-|ID|
|kindCode|string|-|分类编码|
|address|string|-|地址|
|province|number|-|省级行政编码|
|provinceName|string|-|省份名称|
|city|number|-|市级行政编码|
|cityName|string|-|城市名|
|district|number|-|区级行政编码|
|areaName|string|-|地区名|
|name|string|-|poi名称|
|geometry|object|-|几何图形对象|
|telephone|string|-|电话|
|bigClass|string|-|一级分类名称|
|className|string|-|二级分类名称|
|smallClass|string|-|三级分类名称|
|longitude|number|-|经度|
|latitude|number|-|纬度|

##### onError函数参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|error|[IErrorCodeInfo](#ierrorcodeinfo参数说明)|-|错误信息|

###### IErrorCodeInfo参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|code|string|-|错误码编号|
|message|string|-|错误信息|

### 示例


```javascript
kmap.queryAoiByKeyword({
   code: '320500',
   keyword: '关键字',
   maxCount: 30,
   callback: function (res) {
       console.log(res); // 查询到的数据
   }
});
```


## queryAoiInfoByPoiUid

### 描述

根据 PoiUid 和省编码，查询 AOI 面信息，poiUid 可以通过查询的 poi 列表中的数据中获取

### 参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|opts|true|[queryAoiInfoByPoiUidOptions](#queryaoiinfobypoiuidoptions参数说明)|-|-|

#### queryAoiInfoByPoiUidOptions参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|poiUid|true|string|-|POI 的 uid|
|callback|true|[Function](#callback函数参数说明)|-|回调函数|
|onError|false|[Function](#onerror函数参数说明)|-|错误回调函数|

##### callback函数参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|res|[CallbackRes](#callbackres参数说明)|-|结束回调信息|

###### CallbackRes参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|status|number|-|10-成功,20-失败|
|data|[AOIDataType](#aoidatatype参数说明)|-|响应结果|

###### AOIDataType参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|name|string|-|名称|
|id|string|-|id|
|type|string|-|坐标系类型：02、84|
|square|string|-|面积，单位平方米|
|placeCode|string|-|小区面类型 取值说明如下： 1——小区 2——景区 3——学校 4——医院 5——交通设施 6——购物 7——其他 8——高速服务区|
|locationpoint|Array&lt;number&gt;|-|中心点|
|locationshape|Object|-|空间信息面信息|

##### onError函数参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|error|[IErrorCodeInfo](#ierrorcodeinfo参数说明)|-|错误信息|

###### IErrorCodeInfo参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|code|string|-|错误码编号|
|message|string|-|错误信息|

### 示例


```
kmap.queryAoiInfoByPoiUid({
   poiUid: 'xxx',
   callback: function (res) {
       console.log(res);
   }
});
```


## queryAoiBySpaceInfo

### 描述

根据坐标范围、数据类型、关键字进行查询。

### 参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|opts|true|[QueryAoiSpaceInfoOptions](#queryaoispaceinfooptions参数说明)|-|-|

#### QueryAoiSpaceInfoOptions参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|polygon|true|Array&lt;[LngLat](#lnglat参数说明（类型）)&gt;\|Array&lt;Array&lt;Array&lt;[LngLat](#lnglat参数说明（类型）)&gt;&gt;&gt;|-|查询的面信息，支持2维数组单面或4维数组多面|
|code|false|string|-| 行政编码|
|keyword|false|string|-|关键字|
|placeCode|false|string|-|面类型：1——小区， 2——景区， 3——学校 ，4——医院， 5——交通设施 ，6——购物 ，7——其他 ，8——高速服务区|
|maxCount|false|number|10| 查询最大返回数量|
|pageNo|false|number|1|页码, 最小为1|
|callback|true|[Function](#callback函数参数说明)|-|回调函数|
|onError|false|[Function](#onerror函数参数说明)|-|错误回调函数|

##### LngLat参数说明（类型）

|参数名称|类型|说明|
|:--|:--:|:--|
|LngLat|[number, number]|经纬度坐标|

##### callback函数参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|res|[CallbackRes](#callbackres参数说明)|-|结束回调信息|

###### CallbackRes参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|status|number|-|10-成功,20-失败|
|data|Array&lt;[POIDataType](#poidatatype参数说明)&gt;|-|响应结果|
|total|number|-|总条数|

###### POIDataType参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|poiUid|string|-|ID|
|kindCode|string|-|分类编码|
|address|string|-|地址|
|province|number|-|省级行政编码|
|provinceName|string|-|省份名称|
|city|number|-|市级行政编码|
|cityName|string|-|城市名|
|district|number|-|区级行政编码|
|areaName|string|-|地区名|
|name|string|-|poi名称|
|geometry|object|-|几何图形对象|
|telephone|string|-|电话|
|bigClass|string|-|一级分类名称|
|className|string|-|二级分类名称|
|smallClass|string|-|三级分类名称|
|longitude|number|-|经度|
|latitude|number|-|纬度|

##### onError函数参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|error|[IErrorCodeInfo](#ierrorcodeinfo参数说明)|-|错误信息|

###### IErrorCodeInfo参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|code|string|-|错误码编号|
|message|string|-|错误信息|

### 示例


```
kmap.queryAoiBySpaceInfo({
   polygon: [
       [120.26833122769031, 31.475150978300626],
       [121.04854668179931, 31.475150978300626],
       [121.04854668179931, 31.10997909409405],
       [120.26833122769031, 31.10997909409405],
       [120.26833122769031, 31.475150978300626]
   ],
   keyword: '肯德基',
   callback: function (res) {
       console.log(res);
   }
});
```


## queryAoiByTriangleSpace

### 描述

搜索绘制的三角形内的AOI信息。

### 参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|opts|true|[QueryAoiTriangleSpaceOptions](#queryaoitrianglespaceoptions参数说明)|-|-|

#### QueryAoiTriangleSpaceOptions参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|code|false|string|-| 行政编码|
|keyword|false|string|-|关键字|
|placeCode|false|string|-|面类型：1——小区， 2——景区， 3——学校 ，4——医院， 5——交通设施 ，6——购物 ，7——其他 ，8——高速服务区|
|callback|true|[Function](#callback函数参数说明)|-|回调函数|
|onError|false|[Function](#onerror函数参数说明)|-|错误回调函数|

##### callback函数参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|res|[CallbackRes](#callbackres参数说明)|-|结束回调信息|

###### CallbackRes参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|status|number|-|10-成功,20-失败|
|data|Array&lt;[POIDataType](#poidatatype参数说明)&gt;|-|响应结果|
|total|number|-|总条数|

###### POIDataType参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|poiUid|string|-|ID|
|kindCode|string|-|分类编码|
|address|string|-|地址|
|province|number|-|省级行政编码|
|provinceName|string|-|省份名称|
|city|number|-|市级行政编码|
|cityName|string|-|城市名|
|district|number|-|区级行政编码|
|areaName|string|-|地区名|
|name|string|-|poi名称|
|geometry|object|-|几何图形对象|
|telephone|string|-|电话|
|bigClass|string|-|一级分类名称|
|className|string|-|二级分类名称|
|smallClass|string|-|三级分类名称|
|longitude|number|-|经度|
|latitude|number|-|纬度|

##### onError函数参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|error|[IErrorCodeInfo](#ierrorcodeinfo参数说明)|-|错误信息|

###### IErrorCodeInfo参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|code|string|-|错误码编号|
|message|string|-|错误信息|

### 示例


```
kmap.queryAoiByTriangleSpace({
   callback: function (res) {
       console.log(res);
   }
});
```


## queryAoiByCircularSpace

### 描述

搜索绘制的圆形内的AOI信息。

### 参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|opts|true|[QueryAoiCircularSpaceOptions](#queryaoicircularspaceoptions参数说明)|-|-|

#### QueryAoiCircularSpaceOptions参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|code|false|string|-| 行政编码|
|keyword|false|string|-|关键字|
|placeCode|false|string|-|面类型：1——小区， 2——景区， 3——学校 ，4——医院， 5——交通设施 ，6——购物 ，7——其他 ，8——高速服务区|
|callback|true|[Function](#callback函数参数说明)|-|回调函数|
|onError|false|[Function](#onerror函数参数说明)|-|错误回调函数|

##### callback函数参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|res|[CallbackRes](#callbackres参数说明)|-|结束回调信息|

###### CallbackRes参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|status|number|-|10-成功,20-失败|
|data|Array&lt;[POIDataType](#poidatatype参数说明)&gt;|-|响应结果|
|total|number|-|总条数|

###### POIDataType参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|poiUid|string|-|ID|
|kindCode|string|-|分类编码|
|address|string|-|地址|
|province|number|-|省级行政编码|
|provinceName|string|-|省份名称|
|city|number|-|市级行政编码|
|cityName|string|-|城市名|
|district|number|-|区级行政编码|
|areaName|string|-|地区名|
|name|string|-|poi名称|
|geometry|object|-|几何图形对象|
|telephone|string|-|电话|
|bigClass|string|-|一级分类名称|
|className|string|-|二级分类名称|
|smallClass|string|-|三级分类名称|
|longitude|number|-|经度|
|latitude|number|-|纬度|

##### onError函数参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|error|[IErrorCodeInfo](#ierrorcodeinfo参数说明)|-|错误信息|

###### IErrorCodeInfo参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|code|string|-|错误码编号|
|message|string|-|错误信息|

### 示例


```
kmap.queryAoiByCircularSpace({
   callback: function (res) {
       console.log(res);
   }
});
```


## queryAoiByRectangleSpace

### 描述

搜索绘制的矩形内的AOI信息。

### 参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|opts|true|[QueryAoiRectangleSpaceOptions](#queryaoirectanglespaceoptions参数说明)|-|-|

#### QueryAoiRectangleSpaceOptions参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|code|false|string|-| 行政编码|
|keyword|false|string|-|关键字|
|placeCode|false|string|-|面类型：1——小区， 2——景区， 3——学校 ，4——医院， 5——交通设施 ，6——购物 ，7——其他 ，8——高速服务区|
|callback|true|[Function](#callback函数参数说明)|-|回调函数|
|onError|false|[Function](#onerror函数参数说明)|-|错误回调函数|

##### callback函数参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|res|[CallbackRes](#callbackres参数说明)|-|结束回调信息|

###### CallbackRes参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|status|number|-|10-成功,20-失败|
|data|Array&lt;[POIDataType](#poidatatype参数说明)&gt;|-|响应结果|
|total|number|-|总条数|

###### POIDataType参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|poiUid|string|-|ID|
|kindCode|string|-|分类编码|
|address|string|-|地址|
|province|number|-|省级行政编码|
|provinceName|string|-|省份名称|
|city|number|-|市级行政编码|
|cityName|string|-|城市名|
|district|number|-|区级行政编码|
|areaName|string|-|地区名|
|name|string|-|poi名称|
|geometry|object|-|几何图形对象|
|telephone|string|-|电话|
|bigClass|string|-|一级分类名称|
|className|string|-|二级分类名称|
|smallClass|string|-|三级分类名称|
|longitude|number|-|经度|
|latitude|number|-|纬度|

##### onError函数参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|error|[IErrorCodeInfo](#ierrorcodeinfo参数说明)|-|错误信息|

###### IErrorCodeInfo参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|code|string|-|错误码编号|
|message|string|-|错误信息|

### 示例


```
kmap.queryAoiByRectangleSpace({
   callback: function (res) {
       console.log(res);
   }
});
```


## queryAoiByPolygonSpace

### 描述

搜索绘制的多边形内的AOI信息。

### 参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|opts|true|[QueryAoiPolygonSpaceOptions](#queryaoipolygonspaceoptions参数说明)|-|-|

#### QueryAoiPolygonSpaceOptions参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|code|false|string|-| 行政编码|
|keyword|false|string|-|关键字|
|placeCode|false|string|-|面类型：1——小区， 2——景区， 3——学校 ，4——医院， 5——交通设施 ，6——购物 ，7——其他 ，8——高速服务区|
|callback|true|[Function](#callback函数参数说明)|-|回调函数|
|onError|false|[Function](#onerror函数参数说明)|-|错误回调函数|

##### callback函数参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|res|[CallbackRes](#callbackres参数说明)|-|结束回调信息|

###### CallbackRes参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|status|number|-|10-成功,20-失败|
|data|Array&lt;[POIDataType](#poidatatype参数说明)&gt;|-|响应结果|
|total|number|-|总条数|

###### POIDataType参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|poiUid|string|-|ID|
|kindCode|string|-|分类编码|
|address|string|-|地址|
|province|number|-|省级行政编码|
|provinceName|string|-|省份名称|
|city|number|-|市级行政编码|
|cityName|string|-|城市名|
|district|number|-|区级行政编码|
|areaName|string|-|地区名|
|name|string|-|poi名称|
|geometry|object|-|几何图形对象|
|telephone|string|-|电话|
|bigClass|string|-|一级分类名称|
|className|string|-|二级分类名称|
|smallClass|string|-|三级分类名称|
|longitude|number|-|经度|
|latitude|number|-|纬度|

##### onError函数参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|error|[IErrorCodeInfo](#ierrorcodeinfo参数说明)|-|错误信息|

###### IErrorCodeInfo参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|code|string|-|错误码编号|
|message|string|-|错误信息|

### 示例


```
kmap.queryAoiByPolygonSpace({
   callback: function (res) {
        console.log(res);
   }
});
```


## queryAoiByPointBuffer

### 描述

点缓冲区查询。

### 参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|opts|true|[QueryAoiPointBufferOptions](#queryaoipointbufferoptions参数说明)|-|-|

#### QueryAoiPointBufferOptions参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|point|true|[LngLat](#lnglat参数说明（类型）)|-|查询的点坐标|
|radius|false|number|1|查询半径，单位千米|
|code|false|string|-| 行政编码|
|keyword|false|string|-|关键字|
|placeCode|false|string|-|面类型：1——小区， 2——景区， 3——学校 ，4——医院， 5——交通设施 ，6——购物 ，7——其他 ，8——高速服务区|
|maxCount|false|number|10| 查询最大返回数量|
|pageNo|false|number|1|页码, 最小为1|
|callback|true|[Function](#callback函数参数说明)|-|回调函数|
|onError|false|[Function](#onerror函数参数说明)|-|错误回调函数|

##### LngLat参数说明（类型）

|参数名称|类型|说明|
|:--|:--:|:--|
|LngLat|[number, number]|经纬度坐标|

##### callback函数参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|res|[CallbackRes](#callbackres参数说明)|-|结束回调信息|

###### CallbackRes参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|status|number|-|10-成功,20-失败|
|data|Array&lt;[POIDataType](#poidatatype参数说明)&gt;|-|响应结果|
|total|number|-|总条数|

###### POIDataType参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|poiUid|string|-|ID|
|kindCode|string|-|分类编码|
|address|string|-|地址|
|province|number|-|省级行政编码|
|provinceName|string|-|省份名称|
|city|number|-|市级行政编码|
|cityName|string|-|城市名|
|district|number|-|区级行政编码|
|areaName|string|-|地区名|
|name|string|-|poi名称|
|geometry|object|-|几何图形对象|
|telephone|string|-|电话|
|bigClass|string|-|一级分类名称|
|className|string|-|二级分类名称|
|smallClass|string|-|三级分类名称|
|longitude|number|-|经度|
|latitude|number|-|纬度|

##### onError函数参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|error|[IErrorCodeInfo](#ierrorcodeinfo参数说明)|-|错误信息|

###### IErrorCodeInfo参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|code|string|-|错误码编号|
|message|string|-|错误信息|

### 示例


```
kmap.queryAoiByPointBuffer({
   point: [120, 30],
   radius: 10,
   callback: function (res) {
       console.log(res); // 查询到的数据
   }
});
```


## queryAoiByLineBuffer

### 描述

线缓冲区查询

### 参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|opts|true|[QueryAoiLineBufferOptions](#queryaoilinebufferoptions参数说明)|-|-|

#### QueryAoiLineBufferOptions参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|polyline|true|Array&lt;[LngLat](#lnglat参数说明（类型）)&gt;|-|线的点坐标集合|
|radius|false|number|1|查询半径，单位千米|
|code|false|string|-| 行政编码|
|keyword|false|string|-|关键字|
|placeCode|false|string|-|面类型：1——小区， 2——景区， 3——学校 ，4——医院， 5——交通设施 ，6——购物 ，7——其他 ，8——高速服务区|
|maxCount|false|number|10| 查询最大返回数量|
|pageNo|false|number|1|页码, 最小为1|
|callback|true|[Function](#callback函数参数说明)|-|回调函数|
|onError|false|[Function](#onerror函数参数说明)|-|错误回调函数|

##### LngLat参数说明（类型）

|参数名称|类型|说明|
|:--|:--:|:--|
|LngLat|[number, number]|经纬度坐标|

##### callback函数参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|res|[CallbackRes](#callbackres参数说明)|-|结束回调信息|

###### CallbackRes参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|status|number|-|10-成功,20-失败|
|data|Array&lt;[POIDataType](#poidatatype参数说明)&gt;|-|响应结果|
|total|number|-|总条数|

###### POIDataType参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|poiUid|string|-|ID|
|kindCode|string|-|分类编码|
|address|string|-|地址|
|province|number|-|省级行政编码|
|provinceName|string|-|省份名称|
|city|number|-|市级行政编码|
|cityName|string|-|城市名|
|district|number|-|区级行政编码|
|areaName|string|-|地区名|
|name|string|-|poi名称|
|geometry|object|-|几何图形对象|
|telephone|string|-|电话|
|bigClass|string|-|一级分类名称|
|className|string|-|二级分类名称|
|smallClass|string|-|三级分类名称|
|longitude|number|-|经度|
|latitude|number|-|纬度|

##### onError函数参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|error|[IErrorCodeInfo](#ierrorcodeinfo参数说明)|-|错误信息|

###### IErrorCodeInfo参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|code|string|-|错误码编号|
|message|string|-|错误信息|

### 示例


```
kmap.queryAoiByLineBuffer({
   polyline: [
       [120, 30],
       [121, 29]
   ],
   radius: 10,
   callback: function (res) {
       console.log(res);
   }
});
```


## queryAoiByPolygonBuffer

### 描述

多边形缓冲区查询。

### 参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|opts|true|[QueryAoiPolygonBufferOptions](#queryaoipolygonbufferoptions参数说明)|-|-|

#### QueryAoiPolygonBufferOptions参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|polygon|true|Array&lt;[LngLat](#lnglat参数说明（类型）)&gt;|-|多边形的点坐标集合|
|radius|false|number|1|查询半径，单位千米|
|code|false|string|-| 行政编码|
|keyword|false|string|-|关键字|
|placeCode|false|string|-|面类型：1——小区， 2——景区， 3——学校 ，4——医院， 5——交通设施 ，6——购物 ，7——其他 ，8——高速服务区|
|maxCount|false|number|10| 查询最大返回数量|
|pageNo|false|number|1|页码, 最小为1|
|queryMode|false|[QueryMode](#querymode参数说明)|KMap.QueryMode.ChinesePromptQuery|查询模式|
|callback|true|[Function](#callback函数参数说明)|-|回调函数|
|onError|false|[Function](#onerror函数参数说明)|-|错误回调函数|

##### LngLat参数说明（类型）

|参数名称|类型|说明|
|:--|:--:|:--|
|LngLat|[number, number]|经纬度坐标|

##### QueryMode参数说明

|参数名称|描述|实际值|
|:--|:--|:--:|
|KMap.QUERY_MODE.CHINESE_PROMPT_QUERY|中文提示查询|0|
|KMap.QUERY_MODE.CHINESE_PRECISE_QUERY|中文精确查询|1|
|KMap.QUERY_MODE.CHINESE_STATISTICS_QUERY|POI 统计数量查询模式，保持和基础数据聚合查询结果一致|2|

##### callback函数参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|res|[CallbackRes](#callbackres参数说明)|-|结束回调信息|

###### CallbackRes参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|status|number|-|10-成功,20-失败|
|data|Array&lt;[POIDataType](#poidatatype参数说明)&gt;|-|响应结果|

###### POIDataType参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|poiUid|string|-|ID|
|kindCode|string|-|分类编码|
|address|string|-|地址|
|province|number|-|省级行政编码|
|provinceName|string|-|省份名称|
|city|number|-|市级行政编码|
|cityName|string|-|城市名|
|district|number|-|区级行政编码|
|areaName|string|-|地区名|
|name|string|-|poi名称|
|geometry|object|-|几何图形对象|
|telephone|string|-|电话|
|bigClass|string|-|一级分类名称|
|className|string|-|二级分类名称|
|smallClass|string|-|三级分类名称|
|longitude|number|-|经度|
|latitude|number|-|纬度|

##### onError函数参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|error|[IErrorCodeInfo](#ierrorcodeinfo参数说明)|-|错误信息|

###### IErrorCodeInfo参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|code|string|-|错误码编号|
|message|string|-|错误信息|

### 示例


```
kmap.queryAoiByPolygonBuffer({
   polygon: [
       [120, 30],
       [150, 30],
       [150, 40],
       [120, 40],
       [120, 30]
   ],
   radius: 10,
   callback: function (res) {
       console.log(res);
   }
});
```

# 道路路况

## createRealtimeRouteMonitor

### 描述

实时路况拥堵详情。

### 参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|opts|true|[CreateRealtimeRouteMonitorOptions](#createrealtimeroutemonitoroptions参数说明)|-|-|

#### CreateRealtimeRouteMonitorOptions参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|isFetch|false|boolean|-|路况是否自动更新|
|conditionType|false|[SecondTrafficType](#secondtraffictype参数说明)|-|三方栅格路况服务类型，该参数非必填，如果使用矢量路况服务，则需要申请采购矢量路况服务|
|url|false|string|-|三方栅格路况服务的地址，结合conditionType设置；使用高德、腾讯、百度路况时若未配置此参数，会读取平台配置的地址|
|maxZoom|false|number|-|最大需要显示的层级，不可大于19，仅支持整数|
|minZoom|false|number|-|最小需要显示的层级，不可大于19，应小于maxZoom，仅支持整数|
|lineWidth|false|string|-|设置线条宽度，'standard'-标准;'medium'-中等;'bold'-加粗，三方路况服务不支持此参数,若不传此参数将使用优化样式(优化样式不支持用户自定义)。|
|filter|false|[filterObject](#filterobject参数说明)|-|道路类型过滤条件，三方栅格路况服务不支持此参数|
|ended|false|[Function](#function参数说明)|-|结束回调|

##### SecondTrafficType参数说明

|参数名称|描述|实际值|
|:--|:--|:--:|
|KMap.THIRD_MAP.TENCENT|腾讯地图|tencentMap|
|KMap.THIRD_MAP.A_MAP|高德地图|aMap|
|KMap.THIRD_MAP.B_MAP|百度地图|bMap|
|KMap.THIRD_MAP.BING|必应，此类型将于2022年8月29日弃用|bing|
|KMap.THIRD_MAP.MAP_ABC|mapABC，此类型将于2022年8月29日弃用|mapABC|

##### filterObject参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|roadType|true|Array&lt;number&gt;|-|1-显示高速路、2-显示快速路、3-显示其它道路|

### 示例


```javascript
kmap.createRealtimeRouteMonitor({
  isFetch: true,
  maxZoom: 19,
  minZoom: 9,
  filter: {
      roadType: [1,2]
  }
});
```


## showRealtimeRouteMonitor

### 描述

显示实时路况监控。

### 示例


```javascript
kmap.showRealtimeRouteMonitor();
```


## hideRealtimeRouteMonitor

### 描述

隐藏实时路况监控。

### 示例


```javascript
kmap.hideRealtimeRouteMonitor();
```


## clearRealtimeRouteMonitor

### 描述

清除实时路况监控。

### 示例


```javascript
kmap.clearRealtimeRouteMonitor();
```


## filterRealtimeRouteMonitor

### 描述

过滤实时路况信息，三方路况服务调用此接口不生效。

### 参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|opts|true|[FilterRealtimeRouteMonitorOptions](#filterrealtimeroutemonitoroptions参数说明)|-|-|

#### FilterRealtimeRouteMonitorOptions参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|filter|true|[filterObject](#filterobject参数说明)|-|道路类型过滤条件，三方栅格路况服务不支持此参数|

##### filterObject参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|roadType|true|Array&lt;number&gt;|-|1-显示高速路、2-显示快速路、3-显示其它道路|

### 示例


```javascript
kmap.filterRealtimeRouteMonitor({
  filter: {
      roadType: [1, 2]
  }
});
```

# 轨迹

## 历史轨迹

## createHistoryTrack

### 描述

创建历史轨迹刻画，显示多个设备的历史轨迹回放，可以设置运动对象、轨迹线和关键节点的样式和效果，同时包含轨迹的播放器，可以控制运动对象的运动状态和进度，以及设备播放列表，目前支持设备数量的上限是10，以及单个设备支持的历史点位数量上限是8000。

### 参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|opts|true|[CreateHistoryTrackOptions](#createhistorytrackoptions参数说明)|-|-|

#### CreateHistoryTrackOptions参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|serviceName|true|string|-|图层标识|
|deviceDescField|false|string|-|播放列表需要显示的设备信息的字段|
|destUrl|false|string|-|如果需要级联穿网，指定穿网目标域名|
|gbid|false|string|-|公有空间设备|
|gbids|false|Array&lt;string&gt;|-|公有空间设备 gbid 列表,gbid 和 gbids 同时存在时,只处理 gbids 参数|
|targetType|false|[ActorTargetType](#actortargettype参数说明)|KMap.ACTOR_TARGET_TYPE.DEVICE|运动对象类型，详情参考下方运动对象类型常量表|
|startTime|true|string|-|轨迹的开始时间,格式为"yyyy-MM-dd HH:mm:ss"|
|endTime|true|string|-|轨迹的结束时间,格式为"yyyy-MM-dd HH:mm:ss"|
|autoDirection|false|boolean|true|运动对象是否根据运行方向改变旋转角|
|speedRate|false|number|1| 轨迹播放的倍速，可以设置 300, 100, 50, 20, 15, 10, 5, 1, -5, -10, -15, -20|
|speedRates|false|Array&lt;number&gt;|-|自定义轨迹播放器中的倍速列表，支持设置一位小数的倍速（如：1.5）、倍速上限为500，下限为-50，最多支持设置20个倍速|
|theme|false|[HistoryPlayerTheme](#historyplayertheme参数说明)|KMap.HISTORY_PLAYER_THEME.LIGHT|历史轨迹播放器主题，详情参考下方历史轨迹播放器主题常量表格|
|autoSeekToTrackOrigin|true|boolean|false|初始化完成时,是否直接 seek 到轨迹开始的时间点,仅在单条轨迹时生效|
|deviceListVisible|false|boolean|true|是否显示播放器中右侧设备列表|
|actorContent|false|string|-|运动对象显示内容|
|actorWidth|false|number|20|运动对象容器宽度|
|actorHeight|false|number|20|运动对象容器高度|
|actorRotation|false|number|0|运动对象旋转角度,以正北方向为准|
|actorIcon|false|string|-|雪碧图图标名称， 如果设置了该参数， actorContent, actorWidth, actorHeight, actorRotation 将失效|
|actorIconText|false|string\|[Function](#function参数说明)|-|指定数据源中的属性显示为文本，使用私有属性时，要加前缀 private_ ，支持指定单个属性如：'name'，也支持指定多个属性如：'设备名称：{name}，设备id：{gbid}'，支持通过函数回调，接收点位属性，然后处理返回最新的文本内容，比如：```function (properties) {return `<div style="color: red;">速度：${properties.speed} km/h</div>`;}```|
|actorNonBackground|false|boolean|false|雪碧图图标是否取消组合背景图标，默认不取消组合背景图标|
|actorIconBackground|false|string|'direction'|自定义运动对象背景图标，在 actorNonBackground 为 false 时该参数有效|
|actorScale|false|number|1|雪碧图图标缩放比例，该参数针对 actorIcon 生效|
|actorOffset|false|[Offset](#offset参数说明（类型）)|[0,0]|动对象位置偏移|
|pointVisible|false|boolean|false|是否显示关键节点|
|pointVisibleType|true|[HistoryPointVisibleType](#historypointvisibletype参数说明)|KMap.HISTORY_POINT_VISIBLE_TYPE.ALL|历史轨迹关键节点显示方式，详情参考下方历史轨迹关键节点显示方式常量|
|pointRadius|false|number|4|关键节点的半径|
|pointColor|false|string|'gray'|关键节点的颜色，支持 rgb,rgba,16 进制色值,颜色名称|
|traceTargetType|true|[HistoryDataType](#historydatatype参数说明)|KMap.HISTORY_DATA_TYPE.ORIGIN|历史轨迹数据处理方式，详情参考下方历史轨迹数据处理方式常量表格，优化后轨迹 HISTORY_DATA_TYPE.OPTIMIZE 可结合参数 correctionOption 和 compensationMode 一起使用|
|trackWidth|false|number|6|轨迹宽度|
|entireTrackColor|false|string|'gray'|全程轨迹颜色,支持 rgb,rgba,16 进制色值,颜色名称|
|entireTrackPattern|false|string\|[TrackLinePattern](#tracklinepattern参数说明)|-|全程轨迹箭头样式，详情参考下方轨迹线纹理样式常量表格，也可以使用字符串自定义雪碧图|
|passedTrackColor|false|string|'green'|已经运行过的轨迹颜色,支持 rgb,rgba,16 进制色值,颜色名称|
|passedTrackPattern|false|string\|[TrackLinePattern](#tracklinepattern参数说明)|-|已经运行过的轨迹箭头样式，详情参考下方轨迹线纹理样式 TRACK_LINE_PATTERN 常量表格，也可以使用字符串自定义雪碧图|
|outer|false|[outerObject](#outerobject参数说明)|-|临时参数,业务超出指定界限的轨迹样式|
|correctionOption|false|[correctionOptionObject](#correctionoptionobject参数说明)|-|纠偏配置选项|
|compensationMode|false|number|1|补偿模式，0：不补充，1：最短驾车路径规划补充，若选择模式1，则两个轨迹点定位时间间隔5分钟以上，被认为是中断，采用补偿；并且满足中断数量不超过50个， 注：若路线规划失败或没有结果，则没有补偿部分结果|
|onkeypointchange|false|[Function](#onkeypointchange函数参数说明)|-|运动过程中关键点变化回调函数,返回两个参数,第一个参数为设备 gbid,第二个参数是设备当前时间点相关属性 properties，properties 包含 keyPoint 属性，表示关键节点信息|
|onstaypointchange|false|[Function](#onstaypointchange函数参数说明)|-|运动过程经过停留点时触发的回调函数,返回两个参数,第一个参数为设备 gbid,第二个参数是设备当前停留点的信息|
|onplayerclosed|false|[Function](#onplayerclosed函数参数说明)|-|公有空间设备 gbid 列表,gbid 和 gbids 同时存在时,只处理 gbids 参数|
|oncontrolstrigger|false|[Function](#oncontrolstrigger函数参数说明)|-|回调函数,通过播放器控件设置历史轨迹时触发,详细返回格式参考下面说明|
|offline|false|[offlineObject](#offlineobject参数说明)|-|长时间没有历史轨迹数据的设置|
|stayPointParam|false|[stayPointParamObject](#staypointparamobject参数说明)|-|停留点分析参数|
|onError|false|[Function](#onerror函数参数说明)|-|错误回调函数|
|ended|false|[Function](#ended函数参数说明)|-|结束回调|

##### ActorTargetType参数说明

|参数名称|描述|实际值|
|:--|:--|:--:|
|KMap.ACTOR_TARGET_TYPE.DEVICE|设备|0|
|KMap.ACTOR_TARGET_TYPE.ACCOUNT|人员账号|1|
|KMap.ACTOR_TARGET_TYPE.KEY_PERSONNEL|重点人员|2|

##### HistoryPlayerTheme参数说明

|参数名称|描述|实际值|
|:--|:--|:--:|
|KMap.HISTORY_PLAYER_THEME.LIGHT|亮色风格|LIGHT|
|KMap.HISTORY_PLAYER_THEME.DARK|暗色风格|DARK|

##### Offset参数说明（类型）

|参数名称|类型|说明|
|:--|:--:|:--|
|Offset|[number, number]|相对于锚点偏移量|

##### HistoryPointVisibleType参数说明

|参数名称|描述|实际值|
|:--|:--|:--:|
|KMap.HISTORY_POINT_VISIBLE_TYPE.ALL|初始化时显示历史轨迹的所有关键节点|0|
|KMap.HISTORY_POINT_VISIBLE_TYPE.STEP|在运行过程中逐步显示关键节点|1|

##### HistoryDataType参数说明

|参数名称|描述|实际值|
|:--|:--|:--:|
|KMap.HISTORY_DATA_TYPE.ORIGIN|原始轨迹|0|
|KMap.HISTORY_DATA_TYPE.OPTIMIZE|优化后轨迹|1|

##### TrackLinePattern参数说明

|参数名称|描述|实际值|
|:--|:--|:--:|
|KMap.TRACK_LINE_PATTERN.BLUE|蓝色纹理|0|
|KMap.TRACK_LINE_PATTERN.RED|红色纹理|1|
|KMap.TRACK_LINE_PATTERN.YELLOW|黄色纹理|2|
|KMap.TRACK_LINE_PATTERN.GREEN|绿色纹理|3|

##### outerObject参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|filter|true|[FilterObject](#filterobject参数说明)|-|-|
|entireTrackColor|false|string|'gray'|全程轨迹颜色,支持 rgb,rgba,16 进制色值,颜色名称|
|entireTrackPattern|false|string\|[TrackLinePattern](#tracklinepattern参数说明)|-|全程轨迹箭头样式，详情参考下方轨迹线纹理样式常量表格，也可以使用字符串自定义雪碧图|
|passedTrackColor|false|string|'green'|已经运行过的轨迹颜色,支持 rgb,rgba,16 进制色值,颜色名称|
|passedTrackPattern|false|string\|[TrackLinePattern](#tracklinepattern参数说明)|-|已经运行过的轨迹箭头样式，详情参考下方轨迹线纹理样式 TRACK_LINE_PATTERN 常量表格，也可以使用字符串自定义雪碧图|

###### FilterObject参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|key|true|string|-|过滤字段|
|value|true|string|-|过滤值|

##### correctionOptionObject参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|denoise|false|number|1|去噪策略，0:不去噪，1:去噪|
|mapmatching|false|number|1|绑路策略，0:不绑路 1:绑路|

##### onkeypointchange函数参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|gbid|string|-|运动对象 gbid|
|properties|[MessageData](#messagedata参数说明)|-|当前运动对象的要素信息|

###### MessageData参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|longitude|number|-|经度|
|latitude|number|-|纬度|
|timestamp|string|-|时间|
|direction|number|-|运动方向|
|keyPoint|Object|-|关键节点信息|

##### onstaypointchange函数参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|gbid|string|-|运动对象 gbid|
|properties|[StayPointData](#staypointdata参数说明)|-|当前停留点的信息|

###### StayPointData参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|longitude|number|-|经度|
|latitude|number|-|纬度|
|timestamp|string|-|时间|
|direction|number|-|运动方向|
|originPoints|Array&lt;[Object](#object参数说明)&gt;|-|停留点相关的原始点位列表|

##### oncontrolstrigger函数参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|type|string|-|播放触发的事件类型|
|data|Object|-|回调信息|

##### offlineObject参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|maxDuration|true|number|-|相邻两个点最大时间间隔，单位 ms，超过该值，表示离线状态|
|maxDistance|false|number|-|相邻两个点最大距离间隔，单位 km，超过该值，表示离线状态|
|entireTrackColor|false|string|'gray'|全程轨迹颜色,支持 rgb,rgba,16 进制色值,颜色名称|
|entireTrackPattern|false|string\|[TrackLinePattern](#tracklinepattern参数说明)|-|全程轨迹箭头样式，详情参考下方轨迹线纹理样式常量表格，也可以使用字符串自定义雪碧图|
|passedTrackColor|false|string|'green'|已经运行过的轨迹颜色,支持 rgb,rgba,16 进制色值,颜色名称|
|passedTrackPattern|false|string\|[TrackLinePattern](#tracklinepattern参数说明)|-|已经运行过的轨迹箭头样式，详情参考下方轨迹线纹理样式 TRACK_LINE_PATTERN 常量表格，也可以使用字符串自定义雪碧图|

##### stayPointParamObject参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|stayRadius|true|number|-|停留半径，单位：m，取值范围[5,500]|
|stayTime|true|number|-|停留时长，单位：s，取值大于等于60|
|origin|false|string|false|是否还显示原始历史数据|

##### onError函数参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|error|[IErrorCodeInfo](#ierrorcodeinfo参数说明)|-|错误信息|

###### IErrorCodeInfo参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|code|string|-|错误码编号|
|message|string|-|错误信息|

##### ended函数参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|res|[EndedRes](#endedres参数说明)|-|结束回调信息|

###### EndedRes参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|status|number|-|10-成功,20-失败|
|data|string|-|创建成功返回历史轨迹 id|


**oncontrolstrigger(type, data)参数说明**

| type            | data                                                                   | 说明                                                                                   |
|-----------------|------------------------------------------------------------------------|--------------------------------------------------------------------------------------|
| PLAY_OR_PAUSE   | { status: boolean }                                                    | status=true 播放,status=false 暂停                                                     |
| SET_PROGRESS    | { duration: number, timestamp: string }                                | duration 相对时间,timestamp 是绝对时间                                                 |
| SET_SPEEDRATE   | { speedRate: number }                                                  | speedRate 倍速值                                                                       |
| SET_PERSPECTIVE | { type: 'NONE_PERSPECTIVE' \| 'FOLLOWING_PERSPECTIVE', gbid?: string } | NONE_PERSPECTIVE 取消视角跟随,FOLLOWING_PERSPECTIVE 视角跟随固定设备,通过 gbid 指定    |
| REMOVE_TRACKER  | { gbid: string }                                                       | gbid 删除设备的 gbid                                                                   |
| REMOVE_PLAYER   | -                                                                      | 通过播放器删除历史轨迹回放,如果指定了 oncontrolstrigger 回调函数,onplayerclosed 将失效 |
| END   | -                                                                      | 历史轨迹回放结束时的回调 |


### 示例


```javascript
kmap.createHistoryTrack({
   serviceName: '{CT-Server公有空间serviceName}',
   gbid: '{CT-Server公有空间设备gbid}',
   startTime: '{历史轨迹的开始时间}',
   endTime: '{历史轨迹的结束时间}',
   actorContent: '{运动对象要显示的内容}',
   ended: function(res) {
       if (res.status === 10) {
           console.log(res.data);
       }
   }
});
```


## removeHistoryTrack

### 描述

删除指定历史轨迹刻画

### 参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|opts|true|[RemoveHistoryTrackOptions](#removehistorytrackoptions参数说明)|-|-|

#### RemoveHistoryTrackOptions参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|id|true|string|-|创建历史轨迹时返回的id|

### 示例


```javascript
kmap.removeHistoryTrack({
   id: '{历史轨迹id}'
});
```


## pauseHistoryTrack

### 描述

暂停历史轨迹播放

### 参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|opts|true|[PauseHistoryTrackOptions](#pausehistorytrackoptions参数说明)|-|-|

#### PauseHistoryTrackOptions参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|id|true|string|-|创建历史轨迹时返回的id|

### 示例


```javascript
kmap.pauseHistoryTrack({
   id: '{历史轨迹id}',
});
```


## playHistoryTrack

### 描述

开始历史轨迹播放

### 参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|opts|true|[PlayHistoryTrackOptions](#playhistorytrackoptions参数说明)|-|-|

#### PlayHistoryTrackOptions参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|id|true|string|-|创建历史轨迹时返回的id|

### 示例


```javascript
kmap.playHistoryTrack({
   id: '{历史轨迹id}',
});
```


## replayHistoryTrack

### 描述

重新播放历史轨迹

### 参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|opts|true|[ReplayHistoryTrackOptions](#replayhistorytrackoptions参数说明)|-|-|

#### ReplayHistoryTrackOptions参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|id|true|string|-|创建历史轨迹时返回的id|

### 示例


```javascript
kmap.replayHistoryTrack({
   id: '{历史轨迹id}',
});
```


## setHistoryTrackProgressBy

### 描述

根据指定的值向前或向后调整播放进度

### 参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|opts|true|[SetHistoryTrackProgressByOptions](#sethistorytrackprogressbyoptions参数说明)|-|-|

#### SetHistoryTrackProgressByOptions参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|id|true|string|-|创建历史轨迹时返回的id|
|duration|true|number|-|调整的值,正数向前调整,负数向后调整,单位是毫秒|

### 示例


```javascript
kmap.setHistoryTrackProgressBy({
   id: '{历史轨迹id}',
   duration: '{调整的值}'
});
```


## setHistoryTrackProgressTo

### 描述

调整播放进度到指定的位置

### 参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|opts|true|[SetHistoryTrackProgressToOptions](#sethistorytrackprogresstooptions参数说明)|-|-|

#### SetHistoryTrackProgressToOptions参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|id|true|string|-|创建历史轨迹时返回的id|
|duration|true|number|-|播放的位置,单位是毫秒|

### 示例


```javascript
kmap.setHistoryTrackProgressTo({
   id: '{历史轨迹id}',
   duration: '{调整的值}'
});
```


## addHistoryTrackActorEvent

### 描述

添加历史轨迹运动对象事件

### 参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|opts|true|[AddHistoryTrackActorEventOptions](#addhistorytrackactoreventoptions参数说明)|-|-|

#### AddHistoryTrackActorEventOptions参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|id|true|string|-|创建历史轨迹时返回的id|
|event|true|[TrackOverlayEventType](#trackoverlayeventtype参数说明)|-|事件类型|
|handler|true|[Function](#handler函数参数说明)|-|回调函数，接收的第一个参数为事件对象，第二个参数包含覆盖物位置及自定义属性信息|

##### TrackOverlayEventType参数说明

|描述|实际值|
|:--|:--:|
|点击|click|
|双击|dblclick|
|右键|contextmenu|
|鼠标按下|mousedown|
|鼠标弹起|mouseup|
|鼠标进入|mouseenter|
|鼠标悬浮|mouseover|
|鼠标移动|mousemove|
|鼠标移出|mouseout|
|鼠标离开|mouseleave|

##### handler函数参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|event|[Event](#event参数说明)|-|事件对象|
|info|[HandlerInfo](#handlerinfo参数说明)|-|包含覆盖物位置及自定义属性信息|

###### HandlerInfo参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|position|[LngLat](#lnglat参数说明（类型）)|-|经纬度|
|extraData|Object|-|自定义属性|

###### LngLat参数说明（类型）

|参数名称|类型|说明|
|:--|:--:|:--|
|LngLat|[number, number]|经纬度坐标|

### 示例


```javascript
kmap.addHistoryTrackActorEvent({
   id: '{历史轨迹id}',
   event: '{事件类型}',
   handler: '{事件回调函数}'
});
```


## removeHistoryTrackActorEvent

### 描述

删除历史轨迹运动对象事件

### 参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|opts|true|[RemoveHistoryTrackActorEventOptions](#removehistorytrackactoreventoptions参数说明)|-|-|

#### RemoveHistoryTrackActorEventOptions参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|id|true|string|-|创建历史轨迹时返回的id|
|event|true|[TrackOverlayEventType](#trackoverlayeventtype参数说明)|-|事件类型|

##### TrackOverlayEventType参数说明

|描述|实际值|
|:--|:--:|
|点击|click|
|双击|dblclick|
|右键|contextmenu|
|鼠标按下|mousedown|
|鼠标弹起|mouseup|
|鼠标进入|mouseenter|
|鼠标悬浮|mouseover|
|鼠标移动|mousemove|
|鼠标移出|mouseout|
|鼠标离开|mouseleave|

### 示例


```javascript
kmap.removeHistoryTrackActorEvent({
   id: '{历史轨迹id}',
   event: '{事件类型}'
});
```


## setHistoryTrackPerspective

### 描述

设置历史轨迹视角

### 参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|opts|true|[SetHistoryTrackPerspectiveOptions](#sethistorytrackperspectiveoptions参数说明)|-|-|

#### SetHistoryTrackPerspectiveOptions参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|gbid|false|string|-|FOLLOWING_PERSPECTIVE 跟随情况下, 必须指定需要跟随的设备gbid|
|type|true|[PerspectiveType](#perspectivetype参数说明)|-|历史轨迹视角类型, 详情参考下方的轨迹视角类型常量表格|

##### PerspectiveType参数说明

|参数名称|描述|实际值|
|:--|:--|:--:|
|KMap.PERSPECTIVE_TYPE.NONE_PERSPECTIVE|不作任何处理|NONE_PERSPECTIVE|
|KMap.PERSPECTIVE_TYPE.FOLLOWING_PERSPECTIVE|地图中心点跟随指定的设备|FOLLOWING_PERSPECTIVE|
|KMap.PERSPECTIVE_TYPE.FULL_TRACK_PERSPECTIVE|地图显示全部历史轨迹|FULL_TRACK_PERSPECTIVE|

### 示例


```javascript
kmap.setHistoryTrackPerspective({
   type: 'NONE_PERSPECTIVE'
});
```


## addHistoryTrackByGbid

### 描述

历史轨迹回放动态添加轨迹, 开始和结束时间以历史轨迹回放当前时间段为准

### 参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|opts|true|[AddHistoryTrackByGbidOptions](#addhistorytrackbygbidoptions参数说明)|-|-|

#### AddHistoryTrackByGbidOptions参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|gbid|true|string|-|轨迹对应的设备gbid|
|onError|false|[Function](#onerror函数参数说明)|-|错误回调函数|
|ended|false|[Function](#ended函数参数说明)|-|结束回调|

##### onError函数参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|error|[IErrorCodeInfo](#ierrorcodeinfo参数说明)|-|错误信息|

###### IErrorCodeInfo参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|code|string|-|错误码编号|
|message|string|-|错误信息|

##### ended函数参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|res|[EndedRes](#endedres参数说明)|-|结束回调信息|

###### EndedRes参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|status|number|-|10-成功,20-失败|
|data|string|-|回调函数, 成功返回当前gbid列表|

### 示例


```javascript
kmap.addHistoryTrackByGbid({
   gbid: '{设备gbid}',
   ended: function(res) {
   }
});
```


## removeHistoryTrackByGbid

### 描述

历史轨迹回放动态删除轨迹

### 参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|opts|true|[RemoveHistoryTrackByGbidOptions](#removehistorytrackbygbidoptions参数说明)|-|-|

#### RemoveHistoryTrackByGbidOptions参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|gbid|true|string|-|轨迹对应的设备gbid|
|ended|false|[Function](#ended函数参数说明)|-|结束回调|

##### ended函数参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|res|[EndedRes](#endedres参数说明)|-|结束回调信息|

###### EndedRes参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|status|number|-|10-成功,20-失败|
|data|string|-|回调函数, 成功返回当前gbid列表|

### 示例


```javascript
kmap.removeHistoryTrackByGbid({
   gbid: '{设备gbid}',
   ended: function(res) {
   }
});
```


## setHistoryTrackPlaybackTime

### 描述

设置历史轨迹回放时间

### 参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|opts|true|[SetHistoryTrackPlaybackTimeOptions](#sethistorytrackplaybacktimeoptions参数说明)|-|-|

#### SetHistoryTrackPlaybackTimeOptions参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|startTime|true|string|-|轨迹的开始时间,格式为"yyyy-MM-dd HH:mm:ss"|
|endTime|true|string|-|轨迹的结束时间,格式为"yyyy-MM-dd HH:mm:ss"|
|ended|false|[Function](#ended函数参数说明)|-|结束回调|

##### ended函数参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|res|[EndedRes](#endedres参数说明)|-|结束回调信息|

###### EndedRes参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|status|number|-|10-成功,20-失败|
|data|string|-|回调函数, 成功返回当前gbid列表|

### 示例


```javascript
kmap.setHistoryTrackPlaybackTime({
   startTime: '{历史轨迹的开始时间}',
   endTime: '{历史轨迹的结束时间}',
   ended: function(res) {
   }
});
```


## addHistoryTrackPointEvent

### 描述

添加历史轨迹关键节点事件

### 参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|opts|true|[AddHistoryTrackPointEventOptions](#addhistorytrackpointeventoptions参数说明)|-|-|

#### AddHistoryTrackPointEventOptions参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|id|true|string|-|创建历史轨迹时返回的id|
|event|true|[TrackLayerEventType](#tracklayereventtype参数说明)|-|事件类型|
|handler|true|[Function](#handler函数参数说明)|-|回调函数，接收的第一个参数为事件对象，第二个参数是当前点位对应要素集信息|

##### TrackLayerEventType参数说明

|描述|实际值|
|:--|:--:|
|鼠标按下|mousedown|
|鼠标弹起|mouseup|
|点击|click|
|双击|dblclick|
|右键|contextmenu|
|鼠标移动|mousemove|
|鼠标进入|mouseenter|
|鼠标离开|mouseleave|
|鼠标悬浮|mouseover|
|鼠标移出|mouseout|

##### handler函数参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|event|[Event](#event参数说明)|-|事件对象|
|info|[HandlerInfo](#handlerinfo参数说明)|-|当前点位对应要素集信息|

###### HandlerInfo参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|type|固定值(string)-details|-|-|
|location|[LngLat](#lnglat参数说明（类型）)|-|当前点位对应要素坐标|
|data|Array&lt;[Object](#object参数说明)&gt;|-|当前点位对应要素集|

###### LngLat参数说明（类型）

|参数名称|类型|说明|
|:--|:--:|:--|
|LngLat|[number, number]|经纬度坐标|

### 示例


```javascript
kmap.addHistoryTrackPointEvent({
   id: '38d99edf-44a2-40eb-9aa2-6b7b120abc14',
   event: 'mouseenter',
   handler: function (e, info) {
       const { longitude, latitude, timestamp } = info.data[0];
   }
});
```


## removeHistoryTrackPointEvent

### 描述

删除历史轨迹关键节点事件

### 参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|opts|true|[RemoveHistoryTrackPointEventOptions](#removehistorytrackpointeventoptions参数说明)|-|-|

#### RemoveHistoryTrackPointEventOptions参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|id|true|string|-|创建历史轨迹时返回的id|
|event|true|[TrackLayerEventType](#tracklayereventtype参数说明)|-|事件类型|

##### TrackLayerEventType参数说明

|描述|实际值|
|:--|:--:|
|鼠标按下|mousedown|
|鼠标弹起|mouseup|
|点击|click|
|双击|dblclick|
|右键|contextmenu|
|鼠标移动|mousemove|
|鼠标进入|mouseenter|
|鼠标离开|mouseleave|
|鼠标悬浮|mouseover|
|鼠标移出|mouseout|

### 示例


```javascript
kmap.removeHistoryTrackPointEvent({
   id: '{历史轨迹id}',
   event: '{事件类型}'
});
```


## addHistoryTrackPointBuffer

### 描述

历史轨迹回放添加点缓冲区，结合 addHistoryTrackPointBufferEvent 绑定事件，回调返回指定范围内的轨迹点位数据

### 参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|opts|true|[AddHistoryTrackPointBufferOptions](#addhistorytrackpointbufferoptions参数说明)|-|-|

#### AddHistoryTrackPointBufferOptions参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|gbid|true|string|-|轨迹对应的设备gbid|
|points|true|Array&lt;[LngLat](#lnglat参数说明（类型）)&gt;|-|多个点的经纬度|
|pointRadius|false|number|4|点的半径，单位是 px|
|pointColor|false|string|'#000'|点的填充颜色|
|isPointVisible|false|boolean|true|是否显示点|
|bufferRadius|false|number|4|缓冲区的半径，单位是 meter|
|bufferFillColor|false|string|'rgba(255,0,0,0.5)'|缓冲区填充颜色|
|bufferStrokeColor|false|string|'rgba(255,0,0,0.7)'|缓冲区填充颜色|
|isBufferVisible|false|boolean|true|是否显示缓冲区|

##### LngLat参数说明（类型）

|参数名称|类型|说明|
|:--|:--:|:--|
|LngLat|[number, number]|经纬度坐标|

### 示例


```javascript
kmap.addHistoryTrackPointBuffer({
   gbid: '65010200031129111111',
   points: [[120.51770612597466, 31.301271699526055]],
   pointRadius: 10,
   pointColor: 'cyan',
   isPointVisible: true,
   bufferFillColor: 'rgb(255, 0 ,0)',
   bufferStrokeColor: 'rgb(255,255,0)',
   bufferRadius: 100,
   isBufferVisible: false,
});
```


## removeHistoryTrackPointBuffer

### 描述

删除点缓冲区

### 参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|opts|true|[RemoveHistoryTrackPointBufferOptions](#removehistorytrackpointbufferoptions参数说明)|-|-|

#### RemoveHistoryTrackPointBufferOptions参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|gbid|true|string|-|轨迹对应的设备gbid|

### 示例


```javascript
kmap.removeHistoryTrackPointBuffer({
   gbid: '65010200031129111111',
});
```


## addHistoryTrackPointBufferEvent

### 描述

添加历史轨迹点缓冲区事件

### 参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|opts|true|[AddHistoryTrackPointBufferEventOptions](#addhistorytrackpointbuffereventoptions参数说明)|-|-|

#### AddHistoryTrackPointBufferEventOptions参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|type|true|[PointBufferTarget](#pointbuffertarget参数说明)|-|查看下方点缓冲区目标类型常量说明|
|event|true|[TrackLayerEventType](#tracklayereventtype参数说明)|-|事件类型|
|handler|true|[Function](#handler函数参数说明)|-|回调函数，接收的第一个参数为事件对象，第二个参数是当前点位缓冲区范围内的要素集信息|

##### PointBufferTarget参数说明

|参数名称|描述|实际值|
|:--|:--|:--:|
|KMap.POINT_BUFFER_TARGET.POINT|点|0|
|KMap.POINT_BUFFER_TARGET.BUFFER|缓冲区|1|

##### TrackLayerEventType参数说明

|描述|实际值|
|:--|:--:|
|鼠标按下|mousedown|
|鼠标弹起|mouseup|
|点击|click|
|双击|dblclick|
|右键|contextmenu|
|鼠标移动|mousemove|
|鼠标进入|mouseenter|
|鼠标离开|mouseleave|
|鼠标悬浮|mouseover|
|鼠标移出|mouseout|

##### handler函数参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|event|[Event](#event参数说明)|-|事件对象|
|info|Array&lt;[Object](#object参数说明)&gt;|-|缓冲区范围内的点位要素|

### 示例


```javascript
kmap.addHistoryTrackPointBufferEvent({
   event: 'click',
   type: KMap.POINT_BUFFER_TARGET.POINT,
   handler: function (e, info) {
       console.log(info);
   },
});
```


## removeHistoryTrackPointBufferEvent

### 描述

删除历史轨迹点缓冲区事件

### 参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|opts|true|[RemoveHistoryTrackPointBufferEventOptions](#removehistorytrackpointbuffereventoptions参数说明)|-|-|

#### RemoveHistoryTrackPointBufferEventOptions参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|type|true|[PointBufferTarget](#pointbuffertarget参数说明)|-|查看下方点缓冲区目标类型常量说明|
|event|true|[TrackLayerEventType](#tracklayereventtype参数说明)|-|事件类型|

##### PointBufferTarget参数说明

|参数名称|描述|实际值|
|:--|:--|:--:|
|KMap.POINT_BUFFER_TARGET.POINT|点|0|
|KMap.POINT_BUFFER_TARGET.BUFFER|缓冲区|1|

##### TrackLayerEventType参数说明

|描述|实际值|
|:--|:--:|
|鼠标按下|mousedown|
|鼠标弹起|mouseup|
|点击|click|
|双击|dblclick|
|右键|contextmenu|
|鼠标移动|mousemove|
|鼠标进入|mouseenter|
|鼠标离开|mouseleave|
|鼠标悬浮|mouseover|
|鼠标移出|mouseout|

### 示例


```javascript
kmap.removeHistoryTrackPointBufferEvent({
   event: 'click',
   type: KMap.POINT_BUFFER_TARGET.POINT,
});
```


## addHistoryTrackLineEvent

### 描述

添加历史轨迹线事件

### 参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|opts|true|[AddHistoryTrackLineEventOptions](#addhistorytracklineeventoptions参数说明)|-|-|

#### AddHistoryTrackLineEventOptions参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|id|true|string|-|创建历史轨迹时返回的id|
|event|true|[TrackLayerEventType](#tracklayereventtype参数说明)|-|事件类型|
|handler|true|[Function](#handler函数参数说明)|-|回调函数，接收的第一个参数为事件对象，第二个参数是当前点位对应要素集信息|

##### TrackLayerEventType参数说明

|描述|实际值|
|:--|:--:|
|鼠标按下|mousedown|
|鼠标弹起|mouseup|
|点击|click|
|双击|dblclick|
|右键|contextmenu|
|鼠标移动|mousemove|
|鼠标进入|mouseenter|
|鼠标离开|mouseleave|
|鼠标悬浮|mouseover|
|鼠标移出|mouseout|

##### handler函数参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|event|[Event](#event参数说明)|-|事件对象|
|info|[HandlerInfo](#handlerinfo参数说明)|-|当前点位对应要素集信息|

###### HandlerInfo参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|type|固定值(string)-details|-|-|
|location|Array&lt;[LngLat](#lnglat参数说明（类型）)&gt;|-|当前点位对应要素坐标|
|data|Array&lt;[Object](#object参数说明)&gt;|-|当前点位对应要素集|

###### LngLat参数说明（类型）

|参数名称|类型|说明|
|:--|:--:|:--|
|LngLat|[number, number]|经纬度坐标|

### 示例


```javascript
kmap.addHistoryTrackLineEvent({
   id: '{历史轨迹id}',
   event: '{事件类型}',
   handler: function(e, info) {
      console.log(e, info);
   }
});
```


## removeHistoryTrackLineEvent

### 描述

删除历史轨迹线事件

### 参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|opts|true|[RemoveHistoryTrackLineEventOptions](#removehistorytracklineeventoptions参数说明)|-|-|

#### RemoveHistoryTrackLineEventOptions参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|id|true|string|-|创建历史轨迹时返回的id|
|event|true|[TrackLayerEventType](#tracklayereventtype参数说明)|-|事件类型|

##### TrackLayerEventType参数说明

|描述|实际值|
|:--|:--:|
|鼠标按下|mousedown|
|鼠标弹起|mouseup|
|点击|click|
|双击|dblclick|
|右键|contextmenu|
|鼠标移动|mousemove|
|鼠标进入|mouseenter|
|鼠标离开|mouseleave|
|鼠标悬浮|mouseover|
|鼠标移出|mouseout|

### 示例


```javascript
kmap.removeHistoryTrackLineEvent({
   id: '{历史轨迹id}',
   event: '{事件类型}'
});
```


## getStayPointsByGbid

### 描述

获取历史轨迹的停留点详情

### 参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|opts|true|[GetStayPointsByGbidOptions](#getstaypointsbygbidoptions参数说明)|-|-|

#### GetStayPointsByGbidOptions参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|gbid|true|string|-|轨迹对应的设备gbid|
|ended|true|[Function](#ended函数参数说明)|-|-|

##### ended函数参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|res|[EndedRes](#endedres参数说明)|-|-|

###### EndedRes参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|status|number|-|10-成功,20-失败|
|data|Array&lt;[Object](#object参数说明)&gt;|-|回调函数, 成功返回当前gbid停留点列表|

### 示例


```javascript
kmap.getStayPointsByGbid({
   gbid: '{设备gbid}',
   ended: function(res) {
     console.log(res);
   }
});
```

## 实时轨迹

## createRealtimeTrack

### 描述

创建设备实时轨迹刻画，实时显示设备的运行轨迹，可以设置运动对象、轨迹线和关键节点的样式和效果，同时支持级联穿网功能。

### 参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|opts|true|[CreateRealtimeTrackOptions](#createrealtimetrackoptions参数说明)|-|-|

#### CreateRealtimeTrackOptions参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|serviceName|false|string|'device_base'|图层标识|
|destUrl|false|string|-|如果需要级联穿网，指定穿网目标域名|
|subscribeDuration|false|number|720|订阅时长，单位是分钟，整型，默认是 720分钟|
|gbid|true|string|-|公有空间设备|
|vehPlate|false|string|-|车牌号，通过车牌号订阅，如果 vehPlate 有值的情况下，gbid、serviceName、destUrl、subscribeDuration、targetType、animation、maxDuration 参数无效|
|targetType|false|[ActorTargetType](#actortargettype参数说明)|KMap.ACTOR_TARGET_TYPE.DEVICE|运动对象类型，详情参考下方运动对象类型常量表|
|animation|false|boolean|true|设备是否以动画形式平滑过渡|
|autoDirection|false|boolean|true|运动对象是否根据运行方向改变旋转角|
|toGcj02|false|boolean|false|坐标是否转换成GCJ02坐标系|
|maxDuration|false|number|5000|相邻两次推送最大时间间隔，超过该值，此段数据将不渲染轨迹|
|maxDistance|false|number|-|相邻两次推送最大距离间隔，单位 km，超过该值，此段数据将不渲染轨迹|
|speedThreshold|false|number|-|实时轨迹去噪，速度阙值，默认不传，不去噪。单位：m/s|
|actorContent|false|string|-|运动对象显示内容|
|actorWidth|false|number|20|运动对象容器宽度|
|actorHeight|false|number|20|运动对象容器高度|
|actorRotation|false|number|0|运动对象旋转角度,以正北方向为准|
|actorIcon|false|string|-|雪碧图图标名称， 如果设置了该参数， actorContent, actorWidth, actorHeight, actorRotation 将失效|
|actorIconText|false|string\|[Function](#function参数说明)|-|指定数据源中的属性显示为文本，使用私有属性时，要加前缀 private_ ，支持指定单个属性如：'name'，也支持指定多个属性如：'设备名称：{name}，设备id：{gbid}'，支持通过函数回调，接收点位属性，然后处理返回最新的文本内容，比如：```function (properties) {return `<div style="color: red;">速度：${properties.speed} km/h</div>`;}```|
|actorNonBackground|false|boolean|false|雪碧图图标是否取消组合背景图标，默认不取消组合背景图标|
|actorIconBackground|false|string|'direction'|自定义运动对象背景图标，在 actorNonBackground 为 false 时该参数有效|
|actorScale|false|number|1|雪碧图图标缩放比例，该参数针对 actorIcon 生效|
|actorOffset|false|[Offset](#offset参数说明（类型）)|[0,0]|动对象位置偏移|
|actorBufferVisible|false|boolean|false|是否显示运动对象缓冲区,该属性设置为true时,actorBufferRadius,actorBufferFillColor,actorBufferStrokeColor才会生效,该功能对性能消耗较大,建议使用该功能时,不要创建多个实时轨迹|
|actorBufferRadius|false|number|1000|运动对象显示缓冲区的半径,单位是米|
|actorBufferFillColor|false|string|'rgba(255,0,0,0.5)'|运动对象缓冲区颜色，支持 rgb,rgba,16 进制色值,颜色名称，透明度使用rgba格式来设置|
|actorBufferStrokeColor|false|string|'rgba(255,0,0,0.7)'|运动对象缓冲区边框颜色,，支持 rgb,rgba,16 进制色值,颜色名称，透明度使用rgba格式来设置|
|pointVisible|false|boolean|false|是否显示关键节点|
|pointRadius|false|number|4|关键节点的半径|
|pointColor|false|string|'gray'|关键节点的颜色，支持 rgb,rgba,16 进制色值,颜色名称|
|trackVisible|false|boolean|true|轨迹是否显示，默认显示|
|trackWidth|false|number|6|轨迹宽度|
|trackColor|false|string|'gray'|轨迹颜色,支持 rgb,rgba,16 进制色值,颜色名称|
|trackPattern|false|string\|[TrackLinePattern](#tracklinepattern参数说明)|-|轨迹箭头样式，详情参考下方轨迹线纹理样式常量表格，也可以使用字符串自定义雪碧图|
|onmessage|false|[Function](#onmessage函数参数说明)|-|关键节点变更回调函数|
|onVisibleChange|false|[Function](#onvisiblechange函数参数说明)|-|车牌号订阅时，车辆消失和出现的事件回调|
|onError|false|[Function](#onerror函数参数说明)|-|错误回调函数|
|ended|false|[Function](#ended函数参数说明)|-|结束回调|

##### ActorTargetType参数说明

|参数名称|描述|实际值|
|:--|:--|:--:|
|KMap.ACTOR_TARGET_TYPE.DEVICE|设备|0|
|KMap.ACTOR_TARGET_TYPE.ACCOUNT|人员账号|1|
|KMap.ACTOR_TARGET_TYPE.KEY_PERSONNEL|重点人员|2|

##### Offset参数说明（类型）

|参数名称|类型|说明|
|:--|:--:|:--|
|Offset|[number, number]|相对于锚点偏移量|

##### TrackLinePattern参数说明

|参数名称|描述|实际值|
|:--|:--|:--:|
|KMap.TRACK_LINE_PATTERN.BLUE|蓝色纹理|0|
|KMap.TRACK_LINE_PATTERN.RED|红色纹理|1|
|KMap.TRACK_LINE_PATTERN.YELLOW|黄色纹理|2|
|KMap.TRACK_LINE_PATTERN.GREEN|绿色纹理|3|

##### onmessage函数参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|res|[OnmessageRes](#onmessageres参数说明)|-|当前设备所在点位的要素信息|

###### OnmessageRes参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|gbid|string|-|设备 gbid|
|properties|[MessageData](#messagedata参数说明)|-|设备当前所在点位的要素信息|

###### MessageData参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|longitude|number|-|经度|
|latitude|number|-|纬度|
|timestamp|string|-|时间|
|direction|number|-|运动方向|
|keyPoint|Object|-|关键节点信息|

##### onVisibleChange函数参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|res|[OnVisibleChangeRes](#onvisiblechangeres参数说明)|-|车辆消失和出现时返回的数据|

###### OnVisibleChangeRes参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|visible|boolean|-|车辆出现和消失，true: 车辆出现，false: 车辆消失|
|points|Array&lt;[PointData](#pointdata参数说明)&gt;|-|点位集合，在车辆消失时，points 返回消失之前的 5 个点位，在车辆再次出现时，points 返回一个出现的当前点位|

###### PointData参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|longitude|number|-|经度|
|latitude|number|-|纬度|
|timestamp|number|-|时间戳|
|direction|number|-|前端计算的运动方向|
|positionId|string|-|点位 id|
|type|number|-|目标类型，0：未知，1：行人，2；自行车，3：摩托车，4：小轿车，5：三轮车，6：公交车，7：面包车，8：大货车，9：工程车|
|vehPlate|string|-|车牌号|
|vehPlateColor|number|-|车牌号颜色，0：白色，1：黄色，2：蓝色，3：黑色，4：未知，5：绿色，6：黄绿色|
|vehColor|number|-|车辆颜色，1：黑色，2：蓝色，3：棕色，4：灰色，5：绿色，6：粉色，7：紫色，8：红色，9：白色，10：黄色，11：青色，12：橘色，13：其他|
|angleGPS|number|-|服务端返回的运动方向|
|measurementDevices|Array&lt;string&gt;|-|设备列表|

##### onError函数参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|error|[IErrorCodeInfo](#ierrorcodeinfo参数说明)|-|错误信息|

###### IErrorCodeInfo参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|code|string|-|错误码编号|
|message|string|-|错误信息|

##### ended函数参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|res|[EndedRes](#endedres参数说明)|-|结束回调信息|

###### EndedRes参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|status|number|-|10-成功,20-失败|
|data|[dataObject](#dataobject参数说明)|-|返回的数据|

###### dataObject参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|id|string|-|实时轨迹 id|

### 示例


```javascript
kmap.createRealtimeTrack({
   gbid: '{设备国标id}',
   actorContent: '{运动对象DOM字符串}',
   ended: function () { }
});
```


## removeRealtimeTrack

### 描述

删除对象追踪

### 参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|opts|true|[RemoveRealtimeTrackOptions](#removerealtimetrackoptions参数说明)|-|-|

#### RemoveRealtimeTrackOptions参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|id|true|string|-|创建实时轨迹时返回的id|
|ended|false|[Function](#ended函数参数说明)|-|结束回调|

##### ended函数参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|res|[EndedRes](#endedres参数说明)|-|结束回调信息|

###### EndedRes参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|status|number|-|10-成功,20-失败|

### 示例


```javascript
kmap.removeRealtimeTrack({
   id: '{实时轨迹id}',
   ended: function() { }
});
```


## addRealtimeTrackEvent

### 描述

实时轨迹添加事件绑定

### 参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|opts|true|[AddRealtimeTrackEventOptions](#addrealtimetrackeventoptions参数说明)|-|-|

#### AddRealtimeTrackEventOptions参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|id|true|string|-|创建实时轨迹时返回的id|
|type|true|number|-|0=关键节点，1=运动对象，2=轨迹|
|event|true|[TrackOverlayEventType](#trackoverlayeventtype参数说明)\|[TrackLayerEventType](#tracklayereventtype参数说明)|-|事件类型|
|handler|true|[Function](#handler函数参数说明)|-|事件回调函数|

##### TrackOverlayEventType参数说明

|描述|实际值|
|:--|:--:|
|点击|click|
|双击|dblclick|
|右键|contextmenu|
|鼠标按下|mousedown|
|鼠标弹起|mouseup|
|鼠标进入|mouseenter|
|鼠标悬浮|mouseover|
|鼠标移动|mousemove|
|鼠标移出|mouseout|
|鼠标离开|mouseleave|

##### TrackLayerEventType参数说明

|描述|实际值|
|:--|:--:|
|鼠标按下|mousedown|
|鼠标弹起|mouseup|
|点击|click|
|双击|dblclick|
|右键|contextmenu|
|鼠标移动|mousemove|
|鼠标进入|mouseenter|
|鼠标离开|mouseleave|
|鼠标悬浮|mouseover|
|鼠标移出|mouseout|

##### handler函数参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|event|[Event](#event参数说明)|-|事件对象|
|info|Object|-|事件回调信息|

### 示例


```javascript
kmap.addRealtimeTrackEvent({
   id: '{实时轨迹id}',
   type: 1, // 为运动对象添加事件
   event: '{事件名称}',
   handler: '{事件回调函数}'
});
```


## removeRealtimeTrackEvent

### 描述

删除实时轨迹事件绑定

### 参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|opts|true|[RemoveRealtimeTrackEventOptions](#removerealtimetrackeventoptions参数说明)|-|-|

#### RemoveRealtimeTrackEventOptions参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|id|true|string|-|创建实时轨迹时返回的id|
|type|true|number|-|0=关键节点，1=运动对象，2=轨迹|
|event|true|[TrackOverlayEventType](#trackoverlayeventtype参数说明)\|[TrackLayerEventType](#tracklayereventtype参数说明)|-|事件类型|

##### TrackOverlayEventType参数说明

|描述|实际值|
|:--|:--:|
|点击|click|
|双击|dblclick|
|右键|contextmenu|
|鼠标按下|mousedown|
|鼠标弹起|mouseup|
|鼠标进入|mouseenter|
|鼠标悬浮|mouseover|
|鼠标移动|mousemove|
|鼠标移出|mouseout|
|鼠标离开|mouseleave|

##### TrackLayerEventType参数说明

|描述|实际值|
|:--|:--:|
|鼠标按下|mousedown|
|鼠标弹起|mouseup|
|点击|click|
|双击|dblclick|
|右键|contextmenu|
|鼠标移动|mousemove|
|鼠标进入|mouseenter|
|鼠标离开|mouseleave|
|鼠标悬浮|mouseover|
|鼠标移出|mouseout|

### 示例


```javascript
kmap.removeRealtimeTrackEvent({
   id: '{实时轨迹id}',
   type: 1, // 删除运动对象事件
   event: '{事件名称}'
});
```


## setRealtimeTrackStatus

### 描述

设置实时轨迹属性，包括关键节点是否显示，运动对象是否显示，轨迹是否显示，弹出框及内容。

### 参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|opts|true|[SetRealtimeTrackStatusOptions](#setrealtimetrackstatusoptions参数说明)|-|-|

#### SetRealtimeTrackStatusOptions参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|id|true|string|-|创建实时轨迹时返回的id|
|showPoint|false|boolean|-|是否显示关键节点，不设置不改变状态|
|showActor|false|boolean|-|是否显示运动对象，不设置不改变状态|
|showTrack|false|boolean|-|是否显示轨迹，不设置不改变状态|
|showPopup|false|boolean|-|是否显示弹出框，不设置不改变状态，默认不存在popup，添加后可以显示|
|popupContent|false|string|-|弹出框内容，设置后可以控制是否显示|
|animation|false|boolean|-|当前对象是否动画平滑过渡|
|actorContent|false|string|-|运动对象内容，html字符串|
|actorIcon|false|string|-|雪碧图图标名称|

### 示例


```javascript
kmap.setRealtimeTrackStatus({
   id: {{实时轨迹id}},
   showTrack: true, // 这里设置显示轨迹
});
```


## setRealtimeTrackPerspective

### 描述

设置实时轨迹视角, 支持以下两种形式, 默认 NONE_PERSPECTIVE

### 参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|opts|true|[SetRealtimeTrackPerspectiveOptions](#setrealtimetrackperspectiveoptions参数说明)|-|-|

#### SetRealtimeTrackPerspectiveOptions参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|id|true|string|-|实时轨迹id|
|type|true|[PerspectiveType](#perspectivetype参数说明)|-|实时轨迹视角类型, 详情参考下方轨迹视角类型常量表格|

##### PerspectiveType参数说明

|参数名称|描述|实际值|
|:--|:--|:--:|
|KMap.PERSPECTIVE_TYPE.NONE_PERSPECTIVE|不作任何处理|NONE_PERSPECTIVE|
|KMap.PERSPECTIVE_TYPE.FOLLOWING_PERSPECTIVE|地图中心点跟随指定的设备|FOLLOWING_PERSPECTIVE|
|KMap.PERSPECTIVE_TYPE.FULL_TRACK_PERSPECTIVE|地图显示全部历史轨迹|FULL_TRACK_PERSPECTIVE|

### 示例


```javascript
kmap.setRealtimeTrackPerspective({
   id: {实时轨迹id},
   type: 'NONE_PERSPECTIVE'
});
```

## 事件轨迹

## createEventTrack

### 描述

创建事件轨迹，事件轨迹接收一组表示连续轨迹的点坐标（最多不超过 52 个点坐标(起点、终点和 50 个途径点)），根据设定的总体运行时间，实现事件轨迹的刻画，事件轨迹创建时可以通过参数配置自定义完整轨迹样式，运行过轨迹样式，运动对象相关样式等。

### 参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|opts|true|[CreateEventTrackOptions](#createeventtrackoptions参数说明)|-|-|

#### CreateEventTrackOptions参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|points|true|Array&lt;[LngLat](#lnglat参数说明（类型）)&gt;|-|组成连续轨迹的点坐标|
|isPlan|true|boolean|false|连续的点坐标是否需要进行规划|
|isValidateAdminCode|false|boolean|true|是否对传入的点位做行政区划的校验，仅在 isPlan 为 false 时，该参数有效|
|autoDirection|false|boolean|true|运动对象是否根据运行方向改变旋转角|
|duration|false|number|10000|整体运行时间,单位(毫秒)|
|animationFillMode|false|[AnimationFillMode](#animationfillmode参数说明)|ANIMATION_FILL_MODE.BACKWARDS|运动对的运行结束模式|
|actorVisible|false|boolean|true|运动对象是否显示|
|actorContent|false|string|-|运动对象显示内容|
|actorWidth|false|number|20|运动对象容器宽度|
|actorHeight|false|number|20|运动对象容器高度|
|actorRotation|false|number|0|运动对象旋转角度,以正北方向为准|
|actorIcon|false|string|-|雪碧图图标名称， 如果设置了该参数， actorContent, actorWidth, actorHeight, actorRotation 将失效|
|actorIconText|false|string|-|指定数据源中的属性显示为文本，使用私有属性时，要加前缀 private_ ，支持指定单个属性如：'name'，也支持指定多个属性如：'设备名称：{name}，设备id：{gbid}|
|actorNonBackground|false|boolean|false|雪碧图图标是否取消组合背景图标，默认不取消组合背景图标|
|actorIconBackground|false|string|'direction'|自定义运动对象背景图标，在 actorNonBackground 为 false 时该参数有效|
|actorScale|false|number|1|雪碧图图标缩放比例，该参数针对 actorIcon 生效|
|actorOffset|false|[Offset](#offset参数说明（类型）)|[0,0]|动对象位置偏移|
|actorBufferVisible|false|boolean|false|是否显示运动对象缓冲区,该属性设置为true时,actorBufferRadius,actorBufferFillColor,actorBufferStrokeColor才会生效,该功能对性能消耗较大,建议使用该功能时,不要创建多个实时轨迹|
|actorBufferRadius|false|number|1000|运动对象显示缓冲区的半径,单位是米|
|actorBufferFillColor|false|string|'rgba(255,0,0,0.5)'|运动对象缓冲区颜色，支持 rgb,rgba,16 进制色值,颜色名称，透明度使用rgba格式来设置|
|actorBufferStrokeColor|false|string|'rgba(255,0,0,0.7)'|运动对象缓冲区边框颜色,，支持 rgb,rgba,16 进制色值,颜色名称，透明度使用rgba格式来设置|
|trackVisible|true|boolean|true|轨迹是否显示|
|trackWidth|false|number|6|轨迹宽度|
|entireTrackColor|false|string|'gray'|全程轨迹颜色,支持 rgb,rgba,16 进制色值,颜色名称|
|entireTrackPattern|false|string\|[TrackLinePattern](#tracklinepattern参数说明)|-|全程轨迹箭头样式，详情参考下方轨迹线纹理样式常量表格，也可以使用字符串自定义雪碧图|
|passedTrackColor|false|string|'green'|已经运行过的轨迹颜色,支持 rgb,rgba,16 进制色值,颜色名称|
|passedTrackPattern|false|string\|[TrackLinePattern](#tracklinepattern参数说明)|-|已经运行过的轨迹箭头样式，详情参考下方轨迹线纹理样式 TRACK_LINE_PATTERN 常量表格，也可以使用字符串自定义雪碧图|
|onkeypointchange|false|[Function](#onkeypointchange函数参数说明)|-|运动过程中关键点变化回调函数,返回两个参数,第一个参数为null,第二个参数是当前时间点相关属性properties，properties 包含 keyPoint 属性，表示关键节点信息|
|onanimationend|false|[Function](#onanimationend函数参数说明)|-|事件轨迹播放完成回调函数|
|onError|false|[Function](#onerror函数参数说明)|-|错误回调函数|
|ended|false|[Function](#ended函数参数说明)|-|结束回调|

##### LngLat参数说明（类型）

|参数名称|类型|说明|
|:--|:--:|:--|
|LngLat|[number, number]|经纬度坐标|

##### AnimationFillMode参数说明

|参数名称|描述|实际值|
|:--|:--|:--:|
|KMap.DIRECTION_MODE.NONE|保留在终点位置|FORWARDS|
|KMap.DIRECTION_MODE.NONE|回到起点位置|BACKWARDS|

##### Offset参数说明（类型）

|参数名称|类型|说明|
|:--|:--:|:--|
|Offset|[number, number]|相对于锚点偏移量|

##### TrackLinePattern参数说明

|参数名称|描述|实际值|
|:--|:--|:--:|
|KMap.TRACK_LINE_PATTERN.BLUE|蓝色纹理|0|
|KMap.TRACK_LINE_PATTERN.RED|红色纹理|1|
|KMap.TRACK_LINE_PATTERN.YELLOW|黄色纹理|2|
|KMap.TRACK_LINE_PATTERN.GREEN|绿色纹理|3|

##### onkeypointchange函数参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|prop|固定值(object)-null|-|-|
|properties|[MessageData](#messagedata参数说明)|-|-|

###### MessageData参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|longitude|number|-|经度|
|latitude|number|-|纬度|
|timestamp|string|-|时间|
|direction|number|-|运动方向|
|keyPoint|Object|-|关键节点信息|

##### onError函数参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|error|[IErrorCodeInfo](#ierrorcodeinfo参数说明)|-|错误信息|

###### IErrorCodeInfo参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|code|string|-|错误码编号|
|message|string|-|错误信息|

##### ended函数参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|res|[EndedRes](#endedres参数说明)|-|结束回调信息|

###### EndedRes参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|status|number|-|10-成功,20-失败|
|data|string|-|创建成功返回事件轨迹 id|

### 示例


```javascript
kmap.createEventTrack({
   points: '{组成轨迹的连续的点坐标}',
   actorContent: '{运动对象渲染的DOM字符串}'
});
```


## removeEventTrack

### 描述

删除id对应的事件轨迹

### 参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|opts|true|[RemoveEventTrackOptions](#removeeventtrackoptions参数说明)|-|-|

#### RemoveEventTrackOptions参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|id|true|string|-|创建事件轨迹时返回的id|

### 示例


```javascript
kmap.removeEventTrack({
   id: '{事件轨迹id}'
});
```


## pauseEventTrack

### 描述

暂停事件轨迹动画

### 参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|opts|true|[PauseEventTrackOptions](#pauseeventtrackoptions参数说明)|-|-|

#### PauseEventTrackOptions参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|id|true|string|-|创建事件轨迹时返回的id|

### 示例


```javascript
kmap.pauseEventTrack({
   id: '{事件轨迹id}'
});
```


## playEventTrack

### 描述

开始事件轨迹动画

### 参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|opts|true|[PlayEventTrackOptions](#playeventtrackoptions参数说明)|-|-|

#### PlayEventTrackOptions参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|id|true|string|-|创建事件轨迹时返回的id|

### 示例


```javascript
kmap.playEventTrack({
   id: '{事件轨迹id}'
});
```


## addEventTrackTrackEvent

### 描述

事件轨迹添加轨迹事件绑定

### 参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|opts|true|[AddEventTrackTrackEventOptions](#addeventtracktrackeventoptions参数说明)|-|-|

#### AddEventTrackTrackEventOptions参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|id|true|string|-|创建事件轨迹时返回的id|
|event|true|[TrackLayerEventType](#tracklayereventtype参数说明)|-|事件类型|
|handler|true|[Function](#handler函数参数说明)|-|回调函数，接收的第一个参数为事件对象，第二个参数是当前点位对应要素集信息|

##### TrackLayerEventType参数说明

|描述|实际值|
|:--|:--:|
|鼠标按下|mousedown|
|鼠标弹起|mouseup|
|点击|click|
|双击|dblclick|
|右键|contextmenu|
|鼠标移动|mousemove|
|鼠标进入|mouseenter|
|鼠标离开|mouseleave|
|鼠标悬浮|mouseover|
|鼠标移出|mouseout|

##### handler函数参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|event|[Event](#event参数说明)|-|事件对象|
|info|[HandlerInfo](#handlerinfo参数说明)|-|回调信息|

###### HandlerInfo参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|type|固定值(string)-details|-|-|
|location|Array&lt;[LngLat](#lnglat参数说明（类型）)&gt;|-|当前点位对应要素坐标|
|data|Array&lt;[Object](#object参数说明)&gt;|-|当前点位对应要素集|

###### LngLat参数说明（类型）

|参数名称|类型|说明|
|:--|:--:|:--|
|LngLat|[number, number]|经纬度坐标|

### 示例


```javascript
kmap.addEventTrackTrackEvent({
   id: '{事件轨迹id}',
   event: '{事件类型}',
   handler: '{事件触发执行的回调函数}'
});
```


## removeEventTrackTrackEvent

### 描述

事件轨迹删除轨迹事件绑定

### 参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|opts|true|[RemoveEventTrackTrackEventOptions](#removeeventtracktrackeventoptions参数说明)|-|-|

#### RemoveEventTrackTrackEventOptions参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|id|true|string|-|创建事件轨迹时返回的id|
|event|true|[TrackLayerEventType](#tracklayereventtype参数说明)|-|事件类型|

##### TrackLayerEventType参数说明

|描述|实际值|
|:--|:--:|
|鼠标按下|mousedown|
|鼠标弹起|mouseup|
|点击|click|
|双击|dblclick|
|右键|contextmenu|
|鼠标移动|mousemove|
|鼠标进入|mouseenter|
|鼠标离开|mouseleave|
|鼠标悬浮|mouseover|
|鼠标移出|mouseout|

### 示例


```javascript
kmap.removeEventTrackTrackEvent({
   id: '{事件轨迹id}',
   event: '{事件类型}'
});
```


## setEventTrackProgressBy

### 描述

根据指定的值向前或向后调整播放进度

### 参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|opts|true|[SetEventTrackProgressByOptions](#seteventtrackprogressbyoptions参数说明)|-|-|

#### SetEventTrackProgressByOptions参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|id|true|string|-|创建事件轨迹时返回的id|
|duration|true|number|-|调整的值,正数向前调整,负数向后调整,单位是毫秒|

### 示例


```javascript
kmap.setEventTrackProgressBy({
   id: '{事件轨迹id}',
   duration: '{调整的值}'
});
```


## setEventTrackProgressTo

### 描述

调整播放进度到指定的位置

### 参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|opts|true|[SetEventTrackProgressToOptions](#seteventtrackprogresstooptions参数说明)|-|-|

#### SetEventTrackProgressToOptions参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|id|true|string|-|创建事件轨迹时返回的id|
|duration|true|number|-|播放的位置,单位是毫秒|

### 示例


```javascript
kmap.setEventTrackProgressTo({
   id: '{事件轨迹id}',
   duration: '{调整的值}'
});
```


## setEventTrackPopup

### 描述

设置事件轨迹弹窗

### 参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|opts|true|[SetEventTrackPopupOptions](#seteventtrackpopupoptions参数说明)|-|-|

#### SetEventTrackPopupOptions参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|id|true|string|-|创建事件轨迹时返回的id|
|popupVisible|false|boolean|-|是否显示弹出框，不设置不改变状态，默认不存在popup，添加后可以显示|
|popupTemplate|false|string|-|弹出框内容，设置后可以控制是否显示|

### 示例


```javascript
kmap.setEventTrackPopup({
   id: {{事件轨迹id}},
   popupVisible: {{是否显示}},
   popupTemplate: {{弹窗内容}}
});
```

## setEventTrackSpeedRate

### 描述

设置播放倍速

### 参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|opts|true|[SetEventTrackSpeedRateOptions](#seteventtrackspeedrateoptions参数说明)|-|-|

#### SetEventTrackSpeedRateOptions参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|id|true|string|-|创建事件轨迹时返回的id|
|speedRate|true|number|-|倍速,值大于等于1时,为加速,值小于等于-1时为减速,小数部分省略|

### 示例


```javascript
kmap.setEventTrackSpeedRate({
   id: '{事件轨迹轨迹id}',
   speedRate: '{调整的值}'
});
```


## 多事件轨迹

## createMultiEventTrack

### 描述

创建多事件轨迹，将 points 参数指定的坐标进行分组，每组最多不超过 52 个点坐标(起点、终点和 50 个途径点)，同时对每组的点位，做路径规划处理，然后对所有路径规划的结果进行轨迹回放，可以通过参数配置自定义完整轨迹样式，运行过轨迹样式，运动对象相关样式等。

### 参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|opts|true|[CreateMultiEventTrackOptions](#createmultieventtrackoptions参数说明)|-|-|

#### CreateMultiEventTrackOptions参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|points|true|Array&lt;[LngLat](#lnglat参数说明（类型）)&gt;|-|组成连续轨迹的点坐标|
|autoDirection|false|boolean|true|运动对象是否根据运行方向改变旋转角|
|duration|false|number|10000|整体运行时间,单位(毫秒)|
|speed|false|number|-|运动对象的运行速度，单位 km/h，如果设置了 speed 参数，则 duration 参数无效|
|actorVisible|false|boolean|true|运动对象是否显示|
|actorContent|false|string|-|运动对象显示内容|
|actorWidth|false|number|20|运动对象容器宽度|
|actorHeight|false|number|20|运动对象容器高度|
|actorRotation|false|number|0|运动对象旋转角度,以正北方向为准|
|actorIcon|false|string|-|雪碧图图标名称， 如果设置了该参数， actorContent, actorWidth, actorHeight, actorRotation 将失效|
|actorIconText|false|string|-|指定数据源中的属性显示为文本，使用私有属性时，要加前缀 private_ ，支持指定单个属性如：'name'，也支持指定多个属性如：'设备名称：{name}，设备id：{gbid}|
|actorNonBackground|false|boolean|false|雪碧图图标是否取消组合背景图标，默认不取消组合背景图标|
|actorIconBackground|false|string|'direction'|自定义运动对象背景图标，在 actorNonBackground 为 false 时该参数有效|
|actorScale|false|number|1|雪碧图图标缩放比例，该参数针对 actorIcon 生效|
|actorOffset|false|[Offset](#offset参数说明（类型）)|[0,0]|动对象位置偏移|
|trackVisible|true|boolean|true|轨迹是否显示|
|trackWidth|false|number|6|轨迹宽度|
|entireTrackColor|false|string|'gray'|全程轨迹颜色,支持 rgb,rgba,16 进制色值,颜色名称|
|entireTrackPattern|false|string\|[TrackLinePattern](#tracklinepattern参数说明)|-|全程轨迹箭头样式，详情参考下方轨迹线纹理样式常量表格，也可以使用字符串自定义雪碧图|
|passedTrackColor|false|string|'green'|已经运行过的轨迹颜色,支持 rgb,rgba,16 进制色值,颜色名称|
|passedTrackPattern|false|string\|[TrackLinePattern](#tracklinepattern参数说明)|-|已经运行过的轨迹箭头样式，详情参考下方轨迹线纹理样式 TRACK_LINE_PATTERN 常量表格，也可以使用字符串自定义雪碧图|
|onkeypointchange|false|[Function](#onkeypointchange函数参数说明)|-|运动过程中关键点变化回调函数,返回两个参数,第一个参数为null,第二个参数是当前运动对象所在点的相关属性properties，properties 包含 keyPoint 属性，表示关键节点信息|
|onanimationend|false|[Function](#onanimationend函数参数说明)|-|事件轨迹播放完成回调函数|
|onError|false|[Function](#onerror函数参数说明)|-|错误回调函数|
|ended|false|[Function](#ended函数参数说明)|-|结束回调|

##### LngLat参数说明（类型）

|参数名称|类型|说明|
|:--|:--:|:--|
|LngLat|[number, number]|经纬度坐标|

##### Offset参数说明（类型）

|参数名称|类型|说明|
|:--|:--:|:--|
|Offset|[number, number]|相对于锚点偏移量|

##### TrackLinePattern参数说明

|参数名称|描述|实际值|
|:--|:--|:--:|
|KMap.TRACK_LINE_PATTERN.BLUE|蓝色纹理|0|
|KMap.TRACK_LINE_PATTERN.RED|红色纹理|1|
|KMap.TRACK_LINE_PATTERN.YELLOW|黄色纹理|2|
|KMap.TRACK_LINE_PATTERN.GREEN|绿色纹理|3|

##### onkeypointchange函数参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|prop|固定值(object)-null|-|空|
|properties|[MessageData](#messagedata参数说明)|-|当前运动对象所在点的相关属性，其中包含 keyPoint 属性，表示关键节点信息|

###### MessageData参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|longitude|number|-|经度|
|latitude|number|-|纬度|
|timestamp|string|-|时间|
|direction|number|-|运动方向|
|keyPoint|Object|-|关键节点信息|

##### onError函数参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|error|[IErrorCodeInfo](#ierrorcodeinfo参数说明)|-|错误信息|

###### IErrorCodeInfo参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|code|string|-|错误码编号|
|message|string|-|错误信息|

##### ended函数参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|res|[EndedRes](#endedres参数说明)|-|结束回调信息|

###### EndedRes参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|status|number|-|10-成功,20-失败|
|data|string|-|创建成功返回多事件轨迹 id|

### 示例


```javascript
kmap.createMultiEventTrack({
   points: '{组成轨迹的连续的点坐标}',
   actorContent: '{运动对象渲染的DOM字符串}'
});
```


## removeMultiEventTrack

### 描述

删除id对应的多事件轨迹

### 参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|opts|true|[RemoveMultiEventTrackOptions](#removemultieventtrackoptions参数说明)|-|-|

#### RemoveMultiEventTrackOptions参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|id|true|string|-|创建多事件轨迹时返回的id|

### 示例


```javascript
kmap.removeMultiEventTrack({
   id: '{多事件轨迹id}'
});
```


## addMultiEventTrackTrackEvent

### 描述

多事件轨迹添加轨迹事件绑定

### 参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|opts|true|[AddMultiEventTrackTrackEventOptions](#addmultieventtracktrackeventoptions参数说明)|-|-|

#### AddMultiEventTrackTrackEventOptions参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|id|true|string|-|创建多事件轨迹时返回的id|
|event|true|[TrackLayerEventType](#tracklayereventtype参数说明)|-|事件类型|
|handler|true|[Function](#handler函数参数说明)|-|回调函数，接收的第一个参数为事件对象，第二个参数是当前点位对应要素集信息|

##### TrackLayerEventType参数说明

|描述|实际值|
|:--|:--:|
|鼠标按下|mousedown|
|鼠标弹起|mouseup|
|点击|click|
|双击|dblclick|
|右键|contextmenu|
|鼠标移动|mousemove|
|鼠标进入|mouseenter|
|鼠标离开|mouseleave|
|鼠标悬浮|mouseover|
|鼠标移出|mouseout|

##### handler函数参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|event|[Event](#event参数说明)|-|-|
|info|[HandlerInfo](#handlerinfo参数说明)|-|-|

###### HandlerInfo参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|type|固定值(string)-details|-|-|
|location|Array&lt;[LngLat](#lnglat参数说明（类型）)&gt;|-|当前点位对应要素坐标|
|data|Array&lt;[Object](#object参数说明)&gt;|-|当前点位对应要素集|

###### LngLat参数说明（类型）

|参数名称|类型|说明|
|:--|:--:|:--|
|LngLat|[number, number]|经纬度坐标|

### 示例


```javascript
kmap.addMultiEventTrackTrackEvent({
   id: '{多事件轨迹id}',
   event: '{多事件类型}',
   handler: '{多事件触发执行的回调函数}'
});
```


## removeMultiEventTrackTrackEvent

### 描述

多事件轨迹删除轨迹事件绑定

### 参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|opts|true|[RemoveMultiEventTrackTrackEventOptions](#removemultieventtracktrackeventoptions参数说明)|-|-|

#### RemoveMultiEventTrackTrackEventOptions参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|id|true|string|-|创建多事件轨迹时返回的id|
|event|true|[TrackLayerEventType](#tracklayereventtype参数说明)|-|事件类型|

##### TrackLayerEventType参数说明

|描述|实际值|
|:--|:--:|
|鼠标按下|mousedown|
|鼠标弹起|mouseup|
|点击|click|
|双击|dblclick|
|右键|contextmenu|
|鼠标移动|mousemove|
|鼠标进入|mouseenter|
|鼠标离开|mouseleave|
|鼠标悬浮|mouseover|
|鼠标移出|mouseout|

### 示例


```javascript
kmap.removeMultiEventTrackTrackEvent({
   id: '{多事件轨迹id}',
   event: '{多事件类型}'
});
```


## setMultiEventTrackPopup

### 描述

设置多事件轨迹弹窗

### 参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|opts|true|[SetMultiEventTrackPopupOptions](#setmultieventtrackpopupoptions参数说明)|-|-|

#### SetMultiEventTrackPopupOptions参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|id|true|string|-|创建多事件轨迹时返回的id|
|popupVisible|false|boolean|-|是否显示弹出框，不设置不改变状态，默认不存在popup，添加后可以显示|
|popupTemplate|false|string|-|弹出框内容，设置后可以控制是否显示|

### 示例


```javascript
kmap.setMultiEventTrackPopup({
   id: {{多事件轨迹id}},
   popupVisible: {{是否显示}},
   popupTemplate: {{弹窗内容}}
});
```


## playMultiEventTrack

### 描述

开始多事件轨迹动画

### 参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|opts|true|[PlayMultiEventTrackOptions](#playmultieventtrackoptions参数说明)|-|-|

#### PlayMultiEventTrackOptions参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|id|true|string|-|创建多事件轨迹时返回的id|

### 示例


```javascript
kmap.playMultiEventTrack({
   id: '{多事件轨迹id}'
});
```


## pauseMultiEventTrack

### 描述

暂停多事件轨迹动画

### 参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|opts|true|[PauseMultiEventTrackOptions](#pausemultieventtrackoptions参数说明)|-|-|

#### PauseMultiEventTrackOptions参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|id|true|string|-|创建多事件轨迹时返回的id|

### 示例


```javascript
kmap.pauseMultiEventTrack({
   id: '{多事件轨迹id}'
});
```


## setMultiEventTrackProgressBy

### 描述

根据指定的值向前或向后调整播放进度

### 参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|opts|true|[SetMultiEventTrackProgressByOptions](#setmultieventtrackprogressbyoptions参数说明)|-|-|

#### SetMultiEventTrackProgressByOptions参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|id|true|string|-|创建多事件轨迹时返回的id|
|duration|true|number|-|调整的值,正数向前调整,负数向后调整,单位是毫秒|

### 示例


```javascript
kmap.setMultiEventTrackProgressBy({
   id: 'track-id',
   duration: 500
});
```


## setMultiEventTrackProgressTo

### 描述

调整播放进度到指定的位置

### 参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|opts|true|[SetMultiEventTrackProgressToOptions](#setmultieventtrackprogresstooptions参数说明)|-|-|

#### SetMultiEventTrackProgressToOptions参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|id|true|string|-|创建多事件轨迹时返回的id|
|duration|true|number|-|播放的位置,单位是毫秒|

### 示例


```javascript
kmap.setMultiEventTrackProgressTo({
   id: 'track-id',
   duration: 500
});
```


## setMultiEventTrackSpeedRate

### 描述

设置播放倍速

### 参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|opts|true|[SetMultiEventTrackSpeedOptions](#setmultieventtrackspeedoptions参数说明)|-|-|

#### SetMultiEventTrackSpeedOptions参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|id|true|string|-|创建多事件轨迹时返回的id|
|speedRate|true|number|-|倍速,值大于等于1时,为加速,值小于等于-1时为减速,小数部分省略|

### 示例


```javascript
kmap.setMultiEventTrackSpeedRate({
   id: 'track-id',
   speedRate: 2
});
```

## 设备轨迹回放

## createDeviceTrackPlayback

### 描述

创建设备轨迹回放，对单个设备的历史轨迹进行回放，可以设置运动对象、轨迹线和关键节点的样式和效果。

### 参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|opts|true|[CreateDeviceTrackPlaybackOptions](#createdevicetrackplaybackoptions参数说明)|-|-|

#### CreateDeviceTrackPlaybackOptions参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|serviceName|true|string|-|图层标识|
|destUrl|false|string|-|如果需要级联穿网，指定穿网目标域名|
|gbid|false|string|-|公有空间设备|
|targetType|false|[ActorTargetType](#actortargettype参数说明)|KMap.ACTOR_TARGET_TYPE.DEVICE|运动对象类型，详情参考下方运动对象类型常量表|
|startTime|true|string|-|轨迹的开始时间,格式为"yyyy-MM-dd|
|endTime|true|string|-|轨迹的结束时间,格式为"yyyy-MM-dd|
|autoDirection|false|boolean|true|运动对象是否根据运行方向改变旋转角|
|speedRate|false|number|1| 轨迹播放的倍速,可以设置 300, 100, 50, 20, 15, 10, 5, 1, -5, -10, -15, -20|
|actorContent|false|string|-|运动对象显示内容|
|actorWidth|false|number|20|运动对象容器宽度|
|actorHeight|false|number|20|运动对象容器高度|
|actorRotation|false|number|0|运动对象旋转角度,以正北方向为准|
|actorIcon|false|string|-|雪碧图图标名称， 如果设置了该参数， actorContent, actorWidth, actorHeight, actorRotation 将失效|
|actorIconText|false|string\|[Function](#function参数说明)|-|指定数据源中的属性显示为文本，使用私有属性时，要加前缀 private_ ，支持指定单个属性如：'name'，也支持指定多个属性如：'设备名称：{name}，设备id：{gbid}'，支持通过函数回调，接收点位属性，然后处理返回最新的文本内容，比如：```function (properties) {return `<div style="color: red;">速度：${properties.speed} km/h</div>`;}```|
|actorNonBackground|false|boolean|false|雪碧图图标是否取消组合背景图标，默认不取消组合背景图标|
|actorIconBackground|false|string|'direction'|自定义运动对象背景图标，在 actorNonBackground 为 false 时该参数有效|
|actorScale|false|number|1|雪碧图图标缩放比例，该参数针对 actorIcon 生效|
|actorOffset|false|[Offset](#offset参数说明（类型）)|[0,0]|动对象位置偏移|
|markVisible|false|boolean|false|是否显示轨迹的起终点标记|
|pointVisible|false|boolean|false|是否显示关键节点|
|pointVisibleType|true|[HistoryPointVisibleType](#historypointvisibletype参数说明)|KMap.HISTORY_POINT_VISIBLE_TYPE.ALL|历史轨迹关键节点显示方式，详情参考下方历史轨迹关键节点显示方式常量|
|pointRadius|false|number|4|关键节点的半径|
|pointColor|false|string|'gray'|关键节点的颜色，支持 rgb,rgba,16 进制色值,颜色名称|
|traceTargetType|true|[HistoryDataType](#historydatatype参数说明)|KMap.HISTORY_DATA_TYPE.ORIGIN|历史轨迹数据处理方式，详情参考下方历史轨迹数据处理方式常量表格，优化后轨迹 HISTORY_DATA_TYPE.OPTIMIZE 可结合参数 correctionOption 和 compensationMode 一起使用|
|trackWidth|false|number|6|轨迹宽度|
|entireTrackColor|false|string|'gray'|全程轨迹颜色,支持 rgb,rgba,16 进制色值,颜色名称|
|entireTrackPattern|false|string\|[TrackLinePattern](#tracklinepattern参数说明)|-|全程轨迹箭头样式，详情参考下方轨迹线纹理样式常量表格，也可以使用字符串自定义雪碧图|
|passedTrackColor|false|string|'green'|已经运行过的轨迹颜色,支持 rgb,rgba,16 进制色值,颜色名称|
|passedTrackPattern|false|string\|[TrackLinePattern](#tracklinepattern参数说明)|-|已经运行过的轨迹箭头样式，详情参考下方轨迹线纹理样式 TRACK_LINE_PATTERN 常量表格，也可以使用字符串自定义雪碧图|
|outer|false|[outerObject](#outerobject参数说明)|-|临时参数,业务超出指定界限的轨迹样式|
|correctionOption|false|[correctionOptionObject](#correctionoptionobject参数说明)|-|纠偏配置选项|
|compensationMode|false|number|1|补偿模式，0：不补充，1：最短驾车路径规划补充，若选择模式1，则两个轨迹点定位时间间隔5分钟以上，被认为是中断，采用补偿；并且满足中断数量不超过50个， 注：若路线规划失败或没有结果，则没有补偿部分结果|
|onkeypointchange|false|[Function](#onkeypointchange函数参数说明)|-|运动过程中关键点变化回调函数,返回两个参数,第一个参数为设备 gbid,第二个参数是设备当前时间点相关属性 properties，properties 包含 keyPoint 属性，表示关键节点信息|
|onError|false|[Function](#onerror函数参数说明)|-|错误回调函数|
|ended|false|[Function](#ended函数参数说明)|-|结束回调|

##### ActorTargetType参数说明

|参数名称|描述|实际值|
|:--|:--|:--:|
|KMap.ACTOR_TARGET_TYPE.DEVICE|设备|0|
|KMap.ACTOR_TARGET_TYPE.ACCOUNT|人员账号|1|
|KMap.ACTOR_TARGET_TYPE.KEY_PERSONNEL|重点人员|2|

##### Offset参数说明（类型）

|参数名称|类型|说明|
|:--|:--:|:--|
|Offset|[number, number]|相对于锚点偏移量|

##### HistoryPointVisibleType参数说明

|参数名称|描述|实际值|
|:--|:--|:--:|
|KMap.HISTORY_POINT_VISIBLE_TYPE.ALL|初始化时显示历史轨迹的所有关键节点|0|
|KMap.HISTORY_POINT_VISIBLE_TYPE.STEP|在运行过程中逐步显示关键节点|1|

##### HistoryDataType参数说明

|参数名称|描述|实际值|
|:--|:--|:--:|
|KMap.HISTORY_DATA_TYPE.ORIGIN|原始轨迹|0|
|KMap.HISTORY_DATA_TYPE.OPTIMIZE|优化后轨迹|1|

##### TrackLinePattern参数说明

|参数名称|描述|实际值|
|:--|:--|:--:|
|KMap.TRACK_LINE_PATTERN.BLUE|蓝色纹理|0|
|KMap.TRACK_LINE_PATTERN.RED|红色纹理|1|
|KMap.TRACK_LINE_PATTERN.YELLOW|黄色纹理|2|
|KMap.TRACK_LINE_PATTERN.GREEN|绿色纹理|3|

##### outerObject参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|filter|true|[FilterObject](#filterobject参数说明)|-|-|
|entireTrackColor|false|string|'gray'|全程轨迹颜色,支持 rgb,rgba,16 进制色值,颜色名称|
|entireTrackPattern|false|string\|[TrackLinePattern](#tracklinepattern参数说明)|-|全程轨迹箭头样式，详情参考下方轨迹线纹理样式常量表格，也可以使用字符串自定义雪碧图|
|passedTrackColor|false|string|'green'|已经运行过的轨迹颜色,支持 rgb,rgba,16 进制色值,颜色名称|
|passedTrackPattern|false|string\|[TrackLinePattern](#tracklinepattern参数说明)|-|已经运行过的轨迹箭头样式，详情参考下方轨迹线纹理样式 TRACK_LINE_PATTERN 常量表格，也可以使用字符串自定义雪碧图|

###### FilterObject参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|key|true|string|-|过滤字段|
|value|true|string|-|过滤值|

##### correctionOptionObject参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|denoise|false|number|1|去噪策略，0:不去噪，1:去噪|
|mapmatching|false|string\|[TrackLinePattern](#tracklinepattern参数说明)|1|绑路策略，0:不绑路 1:绑路|

##### onkeypointchange函数参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|gbid|string|-|运动对象 gbid|
|properties|[MessageData](#messagedata参数说明)|-|当前运动对象的要素信息|

###### MessageData参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|longitude|number|-|经度|
|latitude|number|-|纬度|
|timestamp|string|-|时间|
|direction|number|-|运动方向|
|keyPoint|Object|-|关键节点信息|

##### onError函数参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|error|[IErrorCodeInfo](#ierrorcodeinfo参数说明)|-|错误信息|

###### IErrorCodeInfo参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|code|string|-|错误码编号|
|message|string|-|错误信息|

##### ended函数参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|res|[EndedRes](#endedres参数说明)|-|结束回调信息|

###### EndedRes参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|status|number|-|10-成功,20-失败|
|data|string|-|创建成功返回设备轨迹 id|
|info|[infoObject](#infoobject参数说明)|-|创建成功返回的信息|

###### infoObject参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|startPoint|[startPointObject](#startpointobject参数说明)|-|起点信息|

###### startPointObject参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|longitude|number|-|经度|
|latitude|number|-|纬度|
|timestamp|number|-|时间戳|

### 示例


```javascript
kmap.createDeviceTrackPlayback({
   serviceName: '{图层标识}',
   id: '{CT-Server公有空间设备gbid}',
   startTime: '{历史轨迹的开始时间}',
   endTime: '{历史轨迹的结束时间}',
   actorContent: '{运动对象要显示的内容}',
   ended: function(res) {
       if (res.status === 10) {
           // 成功:
           // res.data => 设备轨迹id
       }
   }
});
```


## removeDeviceTrackPlayback

### 描述

删除指定设备轨迹回放

### 参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|opts|true|[RemoveDeviceTrackPlaybackOptions](#removedevicetrackplaybackoptions参数说明)|-|-|

#### RemoveDeviceTrackPlaybackOptions参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|id|true|string|-|创建设备轨迹时返回的id|

### 示例


```javascript
kmap.removeHistoryTrack({
   id: '{设备轨迹id}'
});
```


## addDeviceTrackPlaybackEvent

### 描述

添加设备轨迹回放事件

### 参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|opts|true|[AddDeviceTrackPlaybackEventOptions](#adddevicetrackplaybackeventoptions参数说明)|-|-|

#### AddDeviceTrackPlaybackEventOptions参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|id|true|string|-|创建设备轨迹时返回的id|
|type|true|number|-|0=关键节点，1=运动对象，2=轨迹|
|event|true|[TrackOverlayEventType](#trackoverlayeventtype参数说明)\|[TrackLayerEventType](#tracklayereventtype参数说明)|-|事件类型|
|handler|true|[Function](#handler函数参数说明)|-|事件回调函数|

##### TrackOverlayEventType参数说明

|描述|实际值|
|:--|:--:|
|点击|click|
|双击|dblclick|
|右键|contextmenu|
|鼠标按下|mousedown|
|鼠标弹起|mouseup|
|鼠标进入|mouseenter|
|鼠标悬浮|mouseover|
|鼠标移动|mousemove|
|鼠标移出|mouseout|
|鼠标离开|mouseleave|

##### TrackLayerEventType参数说明

|描述|实际值|
|:--|:--:|
|鼠标按下|mousedown|
|鼠标弹起|mouseup|
|点击|click|
|双击|dblclick|
|右键|contextmenu|
|鼠标移动|mousemove|
|鼠标进入|mouseenter|
|鼠标离开|mouseleave|
|鼠标悬浮|mouseover|
|鼠标移出|mouseout|

##### handler函数参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|event|[Event](#event参数说明)|-|事件对象|
|info|Object|-|事件回调信息|

### 示例


```javascript
kmap.addDeviceTrackPlaybackEvent({
   id: '{设备轨迹id}',
   type: 1,
   event: '{事件类型}',
   handler: '{事件回调函数}'
});
```


## removeDeviceTrackPlaybackEvent

### 描述

删除设备轨迹事件

### 参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|opts|true|[RemoveDeviceTrackPlaybackEventOptions](#removedevicetrackplaybackeventoptions参数说明)|-|-|

#### RemoveDeviceTrackPlaybackEventOptions参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|id|true|string|-|创建设备轨迹回放时返回的id|
|type|true|number|-|0=关键节点，1=运动对象，2=轨迹|
|event|true|[TrackOverlayEventType](#trackoverlayeventtype参数说明)\|[TrackLayerEventType](#tracklayereventtype参数说明)|-|事件类型|

##### TrackOverlayEventType参数说明

|描述|实际值|
|:--|:--:|
|点击|click|
|双击|dblclick|
|右键|contextmenu|
|鼠标按下|mousedown|
|鼠标弹起|mouseup|
|鼠标进入|mouseenter|
|鼠标悬浮|mouseover|
|鼠标移动|mousemove|
|鼠标移出|mouseout|
|鼠标离开|mouseleave|

##### TrackLayerEventType参数说明

|描述|实际值|
|:--|:--:|
|鼠标按下|mousedown|
|鼠标弹起|mouseup|
|点击|click|
|双击|dblclick|
|右键|contextmenu|
|鼠标移动|mousemove|
|鼠标进入|mouseenter|
|鼠标离开|mouseleave|
|鼠标悬浮|mouseover|
|鼠标移出|mouseout|

### 示例


```javascript
kmap.removeHistoryTrackActorEvent({
   id: '{设备轨迹id}',
   type: 1,
   event: '{事件类型}'
});
```


## pauseDeviceTrackPlayback

### 描述

暂停设备轨迹回放

### 参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|opts|true|[PauseDeviceTrackPlaybackOptions](#pausedevicetrackplaybackoptions参数说明)|-|-|

#### PauseDeviceTrackPlaybackOptions参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|id|true|string|-|创建设备轨迹时返回的id|

### 示例


```javascript
kmap.pauseDeviceTrackPlayback({
   id: '{设备轨迹id}'
});
```


## playDeviceTrackPlayback

### 描述

开始设备轨迹播放

### 参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|opts|true|[PlayDeviceTrackPlaybackOptions](#playdevicetrackplaybackoptions参数说明)|-|-|

#### PlayDeviceTrackPlaybackOptions参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|id|true|string|-|创建设备轨迹时返回的id|

### 示例


```javascript
kmap.playDeviceTrackPlayback({
   id: '{设备轨迹id}'
});
```


## replayDeviceTrackPlayback

### 描述

重新播放设备轨迹

### 参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|opts|true|[ReplayDeviceTrackPlaybackOptions](#replaydevicetrackplaybackoptions参数说明)|-|-|

#### ReplayDeviceTrackPlaybackOptions参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|id|true|string|-|创建设备轨迹时返回的id|

### 示例


```javascript
kmap.replayDeviceTrackPlayback({
   id: '{历史设备id}'
});
```


## setDeviceTrackPlaybackProgressBy

### 描述

根据指定的值向前或向后调整播放进度

### 参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|opts|true|[SetDeviceTrackPlaybackProgressByOptions](#setdevicetrackplaybackprogressbyoptions参数说明)|-|-|

#### SetDeviceTrackPlaybackProgressByOptions参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|id|true|string|-|创建设备轨迹时返回的id|
|duration|true|number|-|调整的值,正数向前调整,负数向后调整,单位是毫秒|

### 示例


```javascript
kmap.setDeviceTrackPlaybackProgressBy({
   id: '{设备轨迹id}',
   duration: '{调整的值}'
});
```


## setDeviceTrackPlaybackProgressTo

### 描述

调整播放进度到指定的位置

### 参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|opts|true|[SetDeviceTrackPlaybackProgressToOptions](#setdevicetrackplaybackprogresstooptions参数说明)|-|-|

#### SetDeviceTrackPlaybackProgressToOptions参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|id|true|string|-|创建设备轨迹时返回的id|
|duration|true|number|-|播放的位置,单位是毫秒|

### 示例


```javascript
kmap.setDeviceTrackPlaybackProgressTo({
   id: '{设备轨迹id}',
   duration: '{调整的值}'
});
```


## setDeviceTrackplaybackSpeed

### 描述

设置播放倍速

### 参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|opts|true|[SetDeviceTrackplaybackSpeedOptions](#setdevicetrackplaybackspeedoptions参数说明)|-|-|

#### SetDeviceTrackplaybackSpeedOptions参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|id|true|string|-|创建设备轨迹时返回的id|
|speedRate|true|number|-|倍速,值大于等于1时,为加速,值小于等于-1时为减速,小数部分省略|

### 示例


```javascript
kmap.setDeviceTrackplaybackSpeed({
   id: '{设备轨迹id}',
   speedRate: '{调整的值}'
});
```

## 轨迹回放追踪

## createTrackPlaybackTracking

### 描述

创建设备轨迹回放追踪，可以通过设置 startTime 开始时间，表示开始时间到当前时间之间，历史轨迹的预先刻画，然后接着是实时轨迹的运动刻画，可以设置运动对象、轨迹线和关键节点的样式和效果。

### 参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|opts|true|[CreateTrackPlaybackTrackingOptions](#createtrackplaybacktrackingoptions参数说明)|-|-|

#### CreateTrackPlaybackTrackingOptions参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|serviceName|false|string|'device_base'|图层标识|
|destUrl|false|string|-|如果需要级联穿网，指定穿网目标域名|
|subscribeDuration|false|number|720|订阅时长，单位是分钟，整型，默认是 720分钟|
|gbid|false|string|-|公有空间设备|
|targetType|false|[ActorTargetType](#actortargettype参数说明)|KMap.ACTOR_TARGET_TYPE.DEVICE|运动对象类型，详情参考下方运动对象类型常量表|
|startTime|true|string|-|轨迹的开始时间,格式为"yyyy-MM-dd|
|animation|false|boolean|true|设备是否以动画形式平滑过渡|
|autoDirection|false|boolean|true|运动对象是否根据运行方向改变旋转角|
|toGcj02|false|boolean|false|坐标是否转换成GCJ02坐标系|
|maxDuration|false|number|5000|相邻两次推送最大时间间隔，超过该值，此段数据将不渲染轨迹|
|maxDistance|false|number|-|相邻两次推送最大距离间隔，单位 km，超过该值，此段数据将不渲染轨迹|
|actorContent|false|string|-|运动对象显示内容|
|actorWidth|false|number|20|运动对象容器宽度|
|actorHeight|false|number|20|运动对象容器高度|
|actorRotation|false|number|0|运动对象旋转角度,以正北方向为准|
|actorIcon|false|string|-|雪碧图图标名称， 如果设置了该参数， actorContent, actorWidth, actorHeight, actorRotation 将失效|
|actorIconText|false|string|-|指定数据源中的属性显示为文本，使用私有属性时，要加前缀 private_ ，支持指定单个属性如：'name'，也支持指定多个属性如：'设备名称：{name}，设备id：{gbid}|
|actorNonBackground|false|boolean|false|雪碧图图标是否取消组合背景图标，默认不取消组合背景图标|
|actorIconBackground|false|string|'direction'|自定义运动对象背景图标，在 actorNonBackground 为 false 时该参数有效|
|actorScale|false|number|1|雪碧图图标缩放比例，该参数针对 actorIcon 生效|
|actorOffset|false|[Offset](#offset参数说明（类型）)|[0,0]|动对象位置偏移|
|actorBufferVisible|false|boolean|false|是否显示运动对象缓冲区,该属性设置为true时,actorBufferRadius,actorBufferFillColor,actorBufferStrokeColor才会生效,该功能对性能消耗较大,建议使用该功能时,不要创建多个实时轨迹|
|actorBufferRadius|false|number|1000|运动对象显示缓冲区的半径,单位是米|
|actorBufferFillColor|false|string|'rgba(255,0,0,0.5)'|运动对象缓冲区颜色，支持 rgb,rgba,16 进制色值,颜色名称，透明度使用rgba格式来设置|
|actorBufferStrokeColor|false|string|'rgba(255,0,0,0.7)'|运动对象缓冲区边框颜色,，支持 rgb,rgba,16 进制色值,颜色名称，透明度使用rgba格式来设置|
|pointVisible|false|boolean|false|是否显示关键节点|
|pointRadius|false|number|4|关键节点的半径|
|pointColor|false|string|'gray'|关键节点的颜色，支持 rgb,rgba,16 进制色值,颜色名称|
|trackVisible|false|boolean|true|轨迹是否显示，默认显示|
|trackWidth|false|number|6|轨迹宽度|
|trackColor|false|string|'gray'|轨迹颜色,支持 rgb,rgba,16 进制色值,颜色名称|
|trackPattern|false|string\|[TrackLinePattern](#tracklinepattern参数说明)|-|轨迹箭头样式，详情参考下方轨迹线纹理样式常量表格，也可以使用字符串自定义雪碧图|
|onmessage|false|[Function](#onmessage函数参数说明)|-|关键节点变更回调函数|
|onError|false|[Function](#onerror函数参数说明)|-|错误回调函数|
|ended|false|[Function](#ended函数参数说明)|-|结束回调|

##### ActorTargetType参数说明

|参数名称|描述|实际值|
|:--|:--|:--:|
|KMap.ACTOR_TARGET_TYPE.DEVICE|设备|0|
|KMap.ACTOR_TARGET_TYPE.ACCOUNT|人员账号|1|
|KMap.ACTOR_TARGET_TYPE.KEY_PERSONNEL|重点人员|2|

##### Offset参数说明（类型）

|参数名称|类型|说明|
|:--|:--:|:--|
|Offset|[number, number]|相对于锚点偏移量|

##### TrackLinePattern参数说明

|参数名称|描述|实际值|
|:--|:--|:--:|
|KMap.TRACK_LINE_PATTERN.BLUE|蓝色纹理|0|
|KMap.TRACK_LINE_PATTERN.RED|红色纹理|1|
|KMap.TRACK_LINE_PATTERN.YELLOW|黄色纹理|2|
|KMap.TRACK_LINE_PATTERN.GREEN|绿色纹理|3|

##### onmessage函数参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|res|[OnmessageRes](#onmessageres参数说明)|-|当前设备所在点位的要素信息|

###### OnmessageRes参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|gbid|string|-|设备 gbid|
|properties|[MessageData](#messagedata参数说明)|-|设备当前所在点位的要素信息|

###### MessageData参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|longitude|number|-|经度|
|latitude|number|-|纬度|
|timestamp|string|-|时间|
|direction|number|-|运动方向|
|keyPoint|Object|-|关键节点信息|

##### onError函数参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|error|[IErrorCodeInfo](#ierrorcodeinfo参数说明)|-|错误信息|

###### IErrorCodeInfo参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|code|string|-|错误码编号|
|message|string|-|错误信息|

##### ended函数参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|res|[EndedRes](#endedres参数说明)|-|结束回调信息|

###### EndedRes参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|status|number|-|10-成功,20-失败|
|data|[dataObject](#dataobject参数说明)|-|返回的数据|

###### dataObject参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|id|string|-|轨迹回放追踪 id|

### 示例


```javascript
kmap.createTrackPlaybackTracking({
   gbid: '{设备国标id}',
   actorContent: '{运动对象DOM字符串}',
   ended: function () { }
});
```


## removeTrackPlaybackTracking

### 描述

删除轨迹回放追踪

### 参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|opts|true|[RemoveTrackPlaybackTrackingOptions](#removetrackplaybacktrackingoptions参数说明)|-|-|

#### RemoveTrackPlaybackTrackingOptions参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|id|true|string|-|创建轨迹回放追踪时返回的id|
|ended|false|[Function](#ended函数参数说明)|-|结束回调|

##### ended函数参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|res|[EndedRes](#endedres参数说明)|-|结束回调信息|

###### EndedRes参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|status|number|-|10-成功,20-失败|

### 示例


```javascript
kmap.removeTrackPlaybackTracking({
   id: '{轨迹回放追踪id}',
   ended: function() { }
});
```


## addTrackPlaybackTrackingEvent

### 描述

轨迹回放追踪添加事件绑定

### 参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|opts|true|[AddTrackPlaybackTrackingEventOptions](#addtrackplaybacktrackingeventoptions参数说明)|-|-|

#### AddTrackPlaybackTrackingEventOptions参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|id|true|string|-|创建轨迹回放追踪时返回的id|
|type|true|number|-|0=关键节点，1=运动对象，2=轨迹|
|event|true|[TrackOverlayEventType](#trackoverlayeventtype参数说明)\|[TrackLayerEventType](#tracklayereventtype参数说明)|-|事件类型|
|handler|true|[Function](#handler函数参数说明)|-|事件回调函数|

##### TrackOverlayEventType参数说明

|描述|实际值|
|:--|:--:|
|点击|click|
|双击|dblclick|
|右键|contextmenu|
|鼠标按下|mousedown|
|鼠标弹起|mouseup|
|鼠标进入|mouseenter|
|鼠标悬浮|mouseover|
|鼠标移动|mousemove|
|鼠标移出|mouseout|
|鼠标离开|mouseleave|

##### TrackLayerEventType参数说明

|描述|实际值|
|:--|:--:|
|鼠标按下|mousedown|
|鼠标弹起|mouseup|
|点击|click|
|双击|dblclick|
|右键|contextmenu|
|鼠标移动|mousemove|
|鼠标进入|mouseenter|
|鼠标离开|mouseleave|
|鼠标悬浮|mouseover|
|鼠标移出|mouseout|

##### handler函数参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|event|[Event](#event参数说明)|-|事件对象|
|info|Object|-|事件回调信息|

### 示例


```javascript
kmap.addTrackPlaybackTrackingEvent({
   id: '{轨迹回放追踪id}',
   type: 1, // 为运动对象添加事件
   event: '{事件名称}',
   handler: '{事件回调函数}'
});
```


## removeTrackPlaybackTrackingEvent

### 描述

删除轨迹回放追踪事件绑定

### 参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|opts|true|[RemoveTrackPlaybackTrackingEventOptions](#removetrackplaybacktrackingeventoptions参数说明)|-|-|

#### RemoveTrackPlaybackTrackingEventOptions参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|id|true|string|-|创建轨迹回放追踪时返回的id|
|type|true|number|-|0=关键节点，1=运动对象，2=轨迹|
|event|true|[TrackOverlayEventType](#trackoverlayeventtype参数说明)\|[TrackLayerEventType](#tracklayereventtype参数说明)|-|事件类型|

##### TrackOverlayEventType参数说明

|描述|实际值|
|:--|:--:|
|点击|click|
|双击|dblclick|
|右键|contextmenu|
|鼠标按下|mousedown|
|鼠标弹起|mouseup|
|鼠标进入|mouseenter|
|鼠标悬浮|mouseover|
|鼠标移动|mousemove|
|鼠标移出|mouseout|
|鼠标离开|mouseleave|

##### TrackLayerEventType参数说明

|描述|实际值|
|:--|:--:|
|鼠标按下|mousedown|
|鼠标弹起|mouseup|
|点击|click|
|双击|dblclick|
|右键|contextmenu|
|鼠标移动|mousemove|
|鼠标进入|mouseenter|
|鼠标离开|mouseleave|
|鼠标悬浮|mouseover|
|鼠标移出|mouseout|

### 示例


```javascript
kmap.removeTrackPlaybackTrackingEvent({
   id: '{轨迹回放追踪id}',
   type: 1, // 删除运动对象事件
   event: '{事件名称}'
});
```


## setTrackPlaybackTrackingStatus

### 描述

设置轨迹回放追踪属性，包括关键节点是否显示，运动对象是否显示，轨迹是否显示，弹出框及内容。

### 参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|opts|true|[SetTrackPlaybackTrackingStatusOptions](#settrackplaybacktrackingstatusoptions参数说明)|-|-|

#### SetTrackPlaybackTrackingStatusOptions参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|id|true|string|-|创建轨迹回放追踪时返回的id|
|showPoint|false|boolean|-|是否显示关键节点，不设置不改变状态|
|showActor|false|boolean|-|是否显示运动对象，不设置不改变状态|
|showTrack|false|boolean|-|是否显示轨迹，不设置不改变状态|
|showPopup|false|boolean|-|是否显示弹出框，不设置不改变状态，默认不存在popup，添加后可以显示|
|popupContent|false|string|-|弹出框内容，设置后可以控制是否显示|
|animation|false|boolean|-|当前对象是否动画平滑过渡|
|actorContent|false|string|-|运动对象内容，html字符串|
|actorIcon|false|string|-|雪碧图图标名称|

### 示例


```javascript
kmap.setTrackPlaybackTrackingStatus({
   id: {{轨迹回放追踪id}},
   showTrack: true, // 这里设置显示轨迹
});
```

# 对象追踪

## createObjectTracking

### 描述

创建公有空间设备对象追踪，支持多个设备进行追踪，大于 clusterZoom 是追踪模式，小于等于 clusterZoom 是聚合模式，可以设置运动对象、轨迹线和关键节点的样式和效果。

### 参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|opts|true|[CreateObjectTrackingOptions](#createobjecttrackingoptions参数说明)|-|-|

#### CreateObjectTrackingOptions参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|serviceName|false|string|'device_base'|图层标识|
|destUrl|false|string|-|如果需要级联穿网，指定穿网目标域名|
|targetType|false|[ActorTargetType](#actortargettype参数说明)|KMap.ACTOR_TARGET_TYPE.DEVICE|运动对象类型，详情参考下方运动对象类型常量表|
|gbids|false|Array&lt;string&gt;|-|设备gbid列表,如果通过gbids指定订阅列表,terms和businessTerms过滤将失效|
|terms|false|Array&lt;[Term](#term参数说明)&gt;|-|数据过滤条件|
|businessTerms|false|Array&lt;[Term](#term参数说明)&gt;|-|关联私有空间过滤条件,如果未关联私有空间不需要指定该参数|
|clusterLayerProps|true|Object|-|具体参数与自有数据图层保持一致,serviceNames,isPublic,clustered,dynamic,maxZoom,maxClusteredZoom,terms,privateTerms参数不需要重复指定,程序内部处理与追踪模式保持一致.|
|clusterZoom|false|number|15|聚合图层模式与追踪模式临界层级|
|animation|false|boolean|true|设备是否以动画形式平滑过渡|
|animationMinZoom|false|number|15|大于该层级，运动对象根据animation属性判断是否以动画平滑过渡，小于该层级直接定位到最新位置|
|minAvgSpeed|true|number|-|最小平均速度，低于该速度将不进行平滑过度，且不限时该段轨迹|
|maxDuration|false|number|5000|相邻两次推送最大时间间隔，超过该值，此段数据将不渲染轨迹|
|maxDistance|false|number|-|相邻两次推送最大距离间隔，单位 km，超过该值，此段数据将不渲染轨迹|
|autoDirection|false|boolean|false|运动对象是否根据运行方向改变旋转角|
|directionMode|false|[DirectionMode](#directionmode参数说明)|-|运动对象方向模式，详情参考下方运动对象方向模式常量，设置该参数，autoDirection参数将失效。|
|directionDestination|false|[LngLat](#lnglat参数说明（类型）)|-|当directionMode设置为DESTINATION时，必填，表示指向目标的坐标|
|actorMode|true|[ActorMode](#actormode参数说明)|KMap.KMap.ACTOR_MODE.OVERLAY|运动对象的两种显示模式，覆盖物或者图层，默认是覆盖物。运动对象的图层模式显示，主要是为了提升，在不开启轨迹线和关键节点的场景下，提升设备数并发数量的上限|
|icons|true|Array&lt;[ActorIconOverlayStyle](#actoriconoverlaystyle参数说明)\|[ActorIconLayerStyle](#actoriconlayerstyle参数说明)&gt;|-|多图标过滤条件，ActorIconOverlayStyle 是 actorMode 为覆盖物模式下设置，ActorIconLayerStyle 是 actorMode 为图层模式下设置|
|iconTextContent|false|Array&lt;[IconTextItem](#icontextitem参数说明)&gt;|-|运动对象下方的文字标注，可多行文本展示，在 actorMode 为图层模式时有效|
|iconTextStyle|true|[ActorIconTextStyle](#actoricontextstyle参数说明)|-|运动对象下方的文字样式，在 actorMode 为图层模式时有效|
|pointRadius|false|number|4|关键节点的半径|
|pointColor|false|string|'gray'|关键节点的颜色，支持 rgb,rgba,16 进制色值,颜色名称|
|trackWidth|false|number|6|轨迹宽度|
|trackColor|false|string|'gray'|轨迹颜色,支持 rgb,rgba,16 进制色值,颜色名称|
|trackPattern|false|string\|[TrackLinePattern](#tracklinepattern参数说明)|-|轨迹箭头样式，详情参考下方轨迹线纹理样式常量表格，也可以使用字符串自定义雪碧图|
|computedProps|true|Object|-|计算属性，用户自定义 function，回调返回值作为计算属性的值，可在 icons 中 actorIconText 字段指定对应的计算属性。详情查看下方 ComputedProps 类型说明，这是实验性参数，后续可能会移除或者变化|
|onmessage|false|[Function](#onmessage函数参数说明)|-|关键节点变更回调函数|
|onError|false|[Function](#onerror函数参数说明)|-|错误回调函数|
|ended|false|[Function](#ended函数参数说明)|-|结束回调|

##### ActorTargetType参数说明

|参数名称|描述|实际值|
|:--|:--|:--:|
|KMap.ACTOR_TARGET_TYPE.DEVICE|设备|0|
|KMap.ACTOR_TARGET_TYPE.ACCOUNT|人员账号|1|
|KMap.ACTOR_TARGET_TYPE.KEY_PERSONNEL|重点人员|2|

##### Term参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|column|true|string|-|过滤字段，对于人员账号，需要传 targetType 值为 5；对于重点人员，需要传 targetType 值为 27；其它情况默认无需填写|
|termType|true|string|-|过滤条件,例如eq,neq,like,nlike,gt,lt,gte,lte,in,nin,prefix,subfix,isnull,notnull,should。其中like、nlike、prefix、subfix只能用于过滤值为字符串类型。|
|value|true|string\|number\|Array&lt;number&gt;\|Array&lt;string&gt;|-|过滤值|
|type|false|string|'and'|term之间的过滤关系.可选"and"和"or",如果存在至少一个and,过滤所有and对应的并集,如果全部是or,返回所有数据， 如果要过滤某个条件可以匹配多个值中的任何一个， 可以使用termType="in".|
|filterType|false|number|0|公有属性及私有属性标记，0为私有属性，1为公有属性，在查询公有图层数据时，根据该字段区分公私有属性，不填默认为私有|
|analyzeEnum|false|string|'not_analyze'|userId、deptId、roleId必须设置成default_analyze,上传数据指定的拼音分词需要设置成pinyin_analyze,默认不分词|
|terms|false|Array&lt;[Term](#term参数说明)&gt;|-|即当前Term，支持循环使用|

##### DirectionMode参数说明

|参数名称|描述|实际值|
|:--|:--|:--:|
|KMap.DIRECTION_MODE.NONE|不改变方向|NONE|
|KMap.DIRECTION_MODE.AUTO|自动指向运行方向|AUTO|
|KMap.DIRECTION_MODE.DESTINATION|始终指向固定目标|DESTINATION|

##### LngLat参数说明（类型）

|参数名称|类型|说明|
|:--|:--:|:--|
|LngLat|[number, number]|经纬度坐标|

##### ActorMode参数说明

|参数名称|描述|实际值|
|:--|:--|:--:|
|KMap.ACTOR_MODE.OVERLAY|覆盖物|0|
|KMap.ACTOR_MODE.LAYER|图层|1|

##### ActorIconOverlayStyle参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|actorContent|false|string|-|运动对象显示内容|
|actorWidth|false|number|20|运动对象容器宽度|
|actorHeight|false|number|20|运动对象容器高度|
|actorRotation|false|number|0|运动对象旋转角度,以正北方向为准|
|actorIcon|false|string|-|雪碧图图标名称， 如果设置了该参数， actorContent, actorWidth, actorHeight, actorRotation 将失效|
|actorIconText|false|string\|[Function](#function参数说明)|-|指定数据源中的属性显示为文本，使用私有属性时，要加前缀 private_ ，支持指定单个属性如：'name'，也支持指定多个属性如：'设备名称：{name}，设备id：{gbid}'，支持通过函数回调，接收点位属性，然后处理返回最新的文本内容，```function (properties) {return `<div style="color: red;">速度：${properties.speed} km/h</div>`;}```|
|actorNonBackground|false|boolean|false|雪碧图图标是否取消组合背景图标，默认不取消组合背景图标|
|actorIconBackground|false|string|'direction'|自定义运动对象背景图标，在 actorNonBackground 为 false 时该参数有效|
|actorScale|false|number|1|雪碧图图标缩放比例，该参数针对 actorIcon 生效|
|actorOffset|false|[Offset](#offset参数说明（类型）)|[0,0]|运动对象位置偏移|
|filter|false|Array&lt;[FilterObject](#filterobject参数说明)&gt;|-|过滤条件|

###### Offset参数说明（类型）

|参数名称|类型|说明|
|:--|:--:|:--|
|Offset|[number, number]|相对于锚点偏移量|

###### FilterObject参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|key|true|string|-|过滤字段|
|value|true|string|-|过滤值|

##### ActorIconLayerStyle参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|actorIcon|false|string|-|雪碧图图标名称|
|actorNonBackground|false|boolean|false|雪碧图图标是否取消组合背景图标，默认不取消组合背景图标|
|actorIconBackground|false|string|'direction'|自定义运动对象背景图标，在 actorNonBackground 为 false 时该参数有效|
|actorScale|false|number|1|雪碧图图标缩放比例|
|actorOffset|false|[Offset](#offset参数说明（类型）)|[0,0]|运动对象位置偏移|
|filter|false|Array&lt;[FilterObject](#filterobject参数说明)&gt;|-|过滤条件|

##### IconTextItem参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|title|false|string|-|标题|
|textField|true|string|-|字段名称|

##### ActorIconTextStyle参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|textOffset|false|Array&lt;number&gt;|[0, 1.5]|文本与其定位点的偏移距离。正值表示向右和向下，负值表示向左和向上|
|textSize|false|number|12|字体大小|
|textJustify|false|string|'center'|字体对齐方式 'left'或'center'或'right'|
|textColor|false|string|'#ffffff'|字体颜色|
|iconColor|false|string|'#1569E0'|字体背景颜色|
|backgroundShape|false|string|'round'|文字的背景矩形，'round'为圆角，‘square’为尖角|
|iconTextFitPadding|false|Array&lt;number&gt;|[0, 6, 0, 6]|字体相对背景内间距，四个值分别设置top、right、bottom、left|

##### TrackLinePattern参数说明

|参数名称|描述|实际值|
|:--|:--|:--:|
|KMap.TRACK_LINE_PATTERN.BLUE|蓝色纹理|0|
|KMap.TRACK_LINE_PATTERN.RED|红色纹理|1|
|KMap.TRACK_LINE_PATTERN.YELLOW|黄色纹理|2|
|KMap.TRACK_LINE_PATTERN.GREEN|绿色纹理|3|

##### onmessage函数参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|res|[OnmessageRes](#onmessageres参数说明)|-|当前设备所在点位的要素信息|

###### OnmessageRes参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|gbid|string|-|设备 gbid|
|properties|[MessageData](#messagedata参数说明)|-|设备当前所在点位的要素信息|

###### MessageData参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|longitude|number|-|经度|
|latitude|number|-|纬度|
|timestamp|string|-|时间|
|direction|number|-|运动方向|
|keyPoint|Object|-|关键节点信息|

##### onError函数参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|error|[IErrorCodeInfo](#ierrorcodeinfo参数说明)|-|错误信息|

###### IErrorCodeInfo参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|code|string|-|错误码编号|
|message|string|-|错误信息|

##### ended函数参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|res|[EndedRes](#endedres参数说明)|-|结束回调信息|

###### EndedRes参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|status|number|-|10-成功,20-失败|
|data|[dataObject](#dataobject参数说明)|-|返回的数据|

###### dataObject参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|id|string|-|对象追踪 id|


**ComputedProps 参数说明:**

如下接口说明，其中 prop 是用户指定的计算属性，对应的值是 function，函数的参数是运动对象当前点位的要素，目前只开放经纬度数据，回调返回值作为计算属性的值，可以结合设置 actorIconText，将属性值显示在运动对象下方。

```
interface ComputedProps {
  [prop: string]: (feature: GeoJSON) => number | string | boolean;
}
```

避免在计算属性的 function 回调中，有过多的复杂的计算过程， 影响性能。在追踪大量设备的情况下，建议不要刻画轨迹线，同时使用设备跳点的方式，即设置 animation: false 。

示例：计算运动对象当前点位，到目标位置的距离，显示在运动对象下方

```javascript
{
    computedProps: {
        distance: function (feature) {
           // turf: http://turfjs.org
            return turf.distance(feature.geometry.coordinates, [120.61, 31.31]).toFixed(3);
        },
    },
    icons: [
        {
            actorIcon: 'icon-trucks-overlook',
            actorIconText: '距离目标: {distance} km',
        },
    ],
};
```

### 示例


```javascript
kmap.createObjectTracking({
   serviceName: '{{创建对象追踪的serviceName}}',
   clusterLayerProps: '{{自有数据图层渲染配置}}',
   icons: [
       {
           actorContent: {{图标内容}},
           actorWidth: {{图标宽度}},
           actorHeight: {{图标高度}},
           actorRotation: {{图标初始旋转角度}},
           actorOffset: {{图标旋转角度}},
           filter: [
               {
                   key: {{过滤字段}},
                   value: {{过滤字段的值}}
               }
           ]
       }
   ],
   gbids: [
       '{{设备国标id}}',
       '{{设备国标id}}',
       .....
   ],
   clusterZoom: 15,
   trackPattern: {{轨迹样式}},
   trackWidth: {{轨迹宽度}},
   trackColor: {{轨迹颜色}},
   onmessage: function (id, properties) {
       // 处理业务逻辑
   },
   ended: function(res) { }
});
```


## removeObjectTracking

### 描述

删除对象追踪

### 参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|opts|true|[RemoveObjectTrackingOptions](#removeobjecttrackingoptions参数说明)|-|-|

#### RemoveObjectTrackingOptions参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|id|true|string|-|创建对象追踪时返回的id|

### 示例


```javascript
kmap.removeObjectTracking({
   id: {{对象追踪ID}}
});
```


## addObjectTrackingEvent

### 描述

绑定对象追踪事件，包括运动对象事件,轨迹事件和图层事件。

### 参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|opts|true|[AddObjectTrackingEventOptions](#addobjecttrackingeventoptions参数说明)|-|-|

#### AddObjectTrackingEventOptions参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|id|true|string|-|创建对象追踪时返回的id|
|type|true|number|-|0=关键节点，1=运动对象，2=轨迹，3=图层事件|
|event|true|[TrackOverlayEventType](#trackoverlayeventtype参数说明)\|[TrackLayerEventType](#tracklayereventtype参数说明)|-|事件类型|
|handler|true|[Function](#handler函数参数说明)|-|事件回调函数|

##### TrackOverlayEventType参数说明

|描述|实际值|
|:--|:--:|
|点击|click|
|双击|dblclick|
|右键|contextmenu|
|鼠标按下|mousedown|
|鼠标弹起|mouseup|
|鼠标进入|mouseenter|
|鼠标悬浮|mouseover|
|鼠标移动|mousemove|
|鼠标移出|mouseout|
|鼠标离开|mouseleave|

##### TrackLayerEventType参数说明

|描述|实际值|
|:--|:--:|
|鼠标按下|mousedown|
|鼠标弹起|mouseup|
|点击|click|
|双击|dblclick|
|右键|contextmenu|
|鼠标移动|mousemove|
|鼠标进入|mouseenter|
|鼠标离开|mouseleave|
|鼠标悬浮|mouseover|
|鼠标移出|mouseout|

##### handler函数参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|event|[Event](#event参数说明)|-|-|
|info|Object|-|-|

### 示例


```javascript
kmap.addObjectTrackingEvent({
   id: {{对象追踪id}},
   type: 1,
   event: 'click',
   handler: function(e) {
       // 处理业务逻辑
   }
});
```


## removeObjectTrackingEvent

### 描述

移除对象追踪事件，包括运动对象事件,轨迹事件和图层事件。

### 参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|opts|true|[RemoveObjectTrackingEventOptions](#removeobjecttrackingeventoptions参数说明)|-|-|

#### RemoveObjectTrackingEventOptions参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|id|true|string|-|创建对象追踪时返回的id|
|type|true|number|-|0=关键节点，1=运动对象，2=轨迹，3=图层事件|
|event|true|[TrackOverlayEventType](#trackoverlayeventtype参数说明)\|[TrackLayerEventType](#tracklayereventtype参数说明)|-|事件类型|

##### TrackOverlayEventType参数说明

|描述|实际值|
|:--|:--:|
|点击|click|
|双击|dblclick|
|右键|contextmenu|
|鼠标按下|mousedown|
|鼠标弹起|mouseup|
|鼠标进入|mouseenter|
|鼠标悬浮|mouseover|
|鼠标移动|mousemove|
|鼠标移出|mouseout|
|鼠标离开|mouseleave|

##### TrackLayerEventType参数说明

|描述|实际值|
|:--|:--:|
|鼠标按下|mousedown|
|鼠标弹起|mouseup|
|点击|click|
|双击|dblclick|
|右键|contextmenu|
|鼠标移动|mousemove|
|鼠标进入|mouseenter|
|鼠标离开|mouseleave|
|鼠标悬浮|mouseover|
|鼠标移出|mouseout|

### 示例


```javascript
kmap.removeObjectTrackingEvent({
   id: {{对象追踪id}},
   type: 1,
   event: 'click'
});
```


## setObjectTrackingStatus

### 描述

设置对象追踪属性，包括关键节点是否显示，运动对象是否显示，轨迹是否显示，弹出框及内容。在运动对象的图层模式显示的场景下，不建议显示关键节点和轨迹线，以及 actorContent 设置无效。

### 参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|opts|true|[SetObjectTrackingStatusOptions](#setobjecttrackingstatusoptions参数说明)|-|-|

#### SetObjectTrackingStatusOptions参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|objectTrackingId|true|string|-|创建对象追踪时返回的id|
|gbid|true|string|-|设备国标id|
|showPoint|false|boolean|-|是否显示关键节点，不设置不改变状态|
|showActor|false|boolean|-|是否显示运动对象，不设置不改变状态|
|showTrack|false|boolean|-|是否显示轨迹，不设置不改变状态|
|showPopup|false|boolean|-|是否显示弹出框，不设置不改变状态，默认不存在popup，添加后可以显示|
|popupContent|false|string|-|弹出框内容，设置后可以控制是否显示|
|animation|false|boolean|-|当前对象是否动画平滑过渡|
|actorContent|false|string|-|运动对象内容，html字符串|
|actorIcon|false|string|-|雪碧图图标名称|

### 示例


```javascript
kmap.setObjectTrackingStatus({
   objectTrackingId: {{对象追踪id}},
   gbid: {{设备国标id}},
   showTrack: true
});
```


## setObjectTrackingPerspective

### 描述

设置对象追踪视角

### 参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|opts|true|[SetObjectTrackingPerspectiveOptions](#setobjecttrackingperspectiveoptions参数说明)|-|-|

#### SetObjectTrackingPerspectiveOptions参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|id|true|string|-|对象追踪id|
|type|true|[PerspectiveType](#perspectivetype参数说明)|-|FOLLOWING_PERSPECTIVE 跟随情况下, 必须指定需要跟随的设备gbid|
|gbid|true|string|-|设备国标id|

##### PerspectiveType参数说明

|参数名称|描述|实际值|
|:--|:--|:--:|
|KMap.PERSPECTIVE_TYPE.NONE_PERSPECTIVE|不作任何处理|NONE_PERSPECTIVE|
|KMap.PERSPECTIVE_TYPE.FOLLOWING_PERSPECTIVE|地图中心点跟随指定的设备|FOLLOWING_PERSPECTIVE|
|KMap.PERSPECTIVE_TYPE.FULL_TRACK_PERSPECTIVE|地图显示全部历史轨迹|FULL_TRACK_PERSPECTIVE|

### 示例


```javascript
kmap.setObjectTrackingPerspective({
   id: {对象追踪id},
   type: 'NONE_PERSPECTIVE'
});
```

# 路径规划服务

## 步行路径规划

## createWalkingRoutePlanning

### 描述

创建步行路径规划。（需要在时空GIS云平台配置步行路径规划选项）

### 参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|opts|true|[CreateWalkingRoutePlanningOptions](#createwalkingrouteplanningoptions参数说明)|-|-|

#### CreateWalkingRoutePlanningOptions参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|startPoint|true|[LngLat](#lnglat参数说明（类型）)|-|起点位置经纬度坐标|
|endPoint|true|[LngLat](#lnglat参数说明（类型）)|-|终点位置经纬度坐标|
|lineColor|false|string|'red'|渲染轨迹的颜色，支持 rgb,rgba,16 进制色值,颜色名称|
|lineStyle|false|number|-|0（蓝色箭头），1(红色箭头)，2（黄色箭头），3（绿色箭头）不可以与lineColor同时作用，若同时存在，优先取此值|
|lineWidth|false|number|6|轨迹宽度，单位px|
|offset|false|[Offset](#offset参数说明（类型）)|[0, 0]|起点,终点,途径点标记的偏移量|
|markerVisible|false|boolean|true|是否显示起始点图标|
|showType|false|number|1|起始点和途经点样式风格：1文字形式，2数字形式|
|connectingLine|false|boolean|false|当起、终点不在路径规划线上时，是否使用虚线进行链接。true-连接，false-不连接|
|pointStyle|false|[RouteWalkPointStyle](#routewalkpointstyle参数说明)|-|起点、终点、途径点的样式|
|onError|false|[Function](#onerror函数参数说明)|-|规划失败的错误回调函数，回调参数包含错误码及错误信息|
|error|false|[Function](#error函数参数说明)|-|规划失败的错误回调函数，回调参数为错误信息|
|updateHandler|false|[Function](#updatehandler函数参数说明)|-|路径规划获取到数据的回调函数，第一个回调参数是获取到的规划结果信息，第二个回调参数是请求规划的相关信息|
|ended|false|[Function](#ended函数参数说明)|-|路径规划回调函数|

##### LngLat参数说明（类型）

|参数名称|类型|说明|
|:--|:--:|:--|
|LngLat|[number, number]|经纬度坐标|

##### Offset参数说明（类型）

|参数名称|类型|说明|
|:--|:--:|:--|
|Offset|[number, number]|相对于锚点偏移量|

##### RouteWalkPointStyle参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|startPoint|false|[RoutePointItemStyle](#routepointitemstyle参数说明)|-|起点的样式|
|endPoint|false|[RoutePointItemStyle](#routepointitemstyle参数说明)|-|起点的样式|

###### RoutePointItemStyle参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|iconName|true|string|-|图标名称|
|iconScale|false|number|1|图标缩放比例|
|anchor|false|[Anchor](#anchor参数说明)|KMap.ANCHOR.BOTTOM|图标的锚点|
|offset|false|[Offset](#offset参数说明（类型）)|[0, 0]|图标的偏移量|

###### Anchor参数说明

|参数名称|描述|实际值|
|:--|:--|:--:|
|KMap.ANCHOR.CENTER|中心|center|
|KMap.ANCHOR.TOP|顶部|top|
|KMap.ANCHOR.BOTTOM|底部|bottom|
|KMap.ANCHOR.LEFT|左侧|left|
|KMap.ANCHOR.RIGHT|右侧|right|
|KMap.ANCHOR.TOP_LEFT|左上方|top-left|
|KMap.ANCHOR.TOP_RIGHT|右上方|top-right|
|KMap.ANCHOR.BOTTOM_LEFT|左下方|bottom-left|
|KMap.ANCHOR.BOTTOM_RIGHT|右下方|bottom-right|

##### onError函数参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|event|[OnErrorEvent](#onerrorevent参数说明)|-|错误信息|

###### OnErrorEvent参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|code|string|-|错误码|
|message|string|-|错误信息|

##### error函数参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|event|string\|[Error](#error参数说明)|-|错误信息|

##### updateHandler函数参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|event|Object|-|规划结果|
|info|[UpdateHandlerInfo](#updatehandlerinfo参数说明)|-|规划相关信息|

###### UpdateHandlerInfo参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|startPoint|[LngLat](#lnglat参数说明（类型）)|-|起点经纬度|
|endPoint|[LngLat](#lnglat参数说明（类型）)|-|终点经纬度|

###### LngLat参数说明（类型）

|参数名称|类型|说明|
|:--|:--:|:--|
|LngLat|[number, number]|经纬度坐标|

##### ended函数参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|event|[EndedEvent](#endedevent参数说明)|-|结束回调信息|

###### EndedEvent参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|status|number|-|10-成功,20-失败|
|data|string|-|路径规划id，用于绑定事件，更新、移除规划等操作|

### 示例


```javascript
kmap.createWalkingRoutePlanning({
  startPoint:[123.45 , 23.23],
  endPoint: [123.25, 23.43],
  ended:function(res){
      console.log(res.data);
  }
});
```


## removeWalkingRoutePlanning

### 描述

删除步行路径规划。

### 参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|opts|true|[RemoveWalkingRoutePlanningOptions](#removewalkingrouteplanningoptions参数说明)|-|-|

#### RemoveWalkingRoutePlanningOptions参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|id|true|string|-|步行路径规划id|

### 示例


```javascript
kmap.removeWalkingRoutePlanning({
    id: '步行路径规划id'
});
```


## resetWalkingRoutePlanning

### 描述

重新进行步行路径规划。

### 参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|opts|true|[ResetWalkingRoutePlanningOptions](#resetwalkingrouteplanningoptions参数说明)|-|-|

#### ResetWalkingRoutePlanningOptions参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|id|true|string|-|创建路径规划返回的id|
|startPoint|false|[LngLat](#lnglat参数说明（类型）)|-|起点位置经纬度|
|endPoint|false|[LngLat](#lnglat参数说明（类型）)|-|终点位置经纬度|
|lineColor|false|string|'red'|渲染轨迹的颜色，支持 rgb,rgba,16 进制色值,颜色名称|
|connectingLine|false|boolean|false|当起、终点不在路径规划线上时，是否使用虚线进行链接。true-连接，false-不连接|

##### LngLat参数说明（类型）

|参数名称|类型|说明|
|:--|:--:|:--|
|LngLat|[number, number]|经纬度坐标|

### 示例


```javascript
kmap.resetWalkingRoutePlanning({
    id: 'planId',
    startPoint:[123.45, 23.23],
    endPoint: [123.45, 23.23]
});
```


## addEventOnWalkingRoutePlanning

### 描述

步行路径规划添加路径事件。

### 参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|opts|true|[AddEventOnWalkingRoutePlanningOptions](#addeventonwalkingrouteplanningoptions参数说明)|-|-|

#### AddEventOnWalkingRoutePlanningOptions参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|id|true|string|-|创建路径规划返回的id|
|eventType|true|[RouteEventType](#routeeventtype参数说明)|-|路径事件类型|
|handler|true|[Function](#handler函数参数说明)|-|事件回调函数，回调参数是事件相关信息|

##### RouteEventType参数说明

|描述|实际值|
|:--|:--:|
|鼠标按下|mousedown|
|鼠标弹起|mouseup|
|点击|click|
|双击|dblclick|
|右键|contextmenu|
|鼠标移动|mousemove|
|鼠标进入|mouseenter|
|鼠标离开|mouseleave|
|鼠标悬浮|mouseover|
|鼠标移出|mouseout|

##### handler函数参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|event|[HandlerEvent](#handlerevent参数说明)|-|事件对象|

###### HandlerEvent参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|lngLat|object|-|经纬度|
|point|object|-|像素坐标|
|type|object|-|事件类型|
|originalEvent|object|-|原生事件对象|

### 示例


```javascript
kmap.addEventOnWalkingRoutePlanning({
    id: 'walking',
    eventType: 'click',
    handler: function (res) {
        console.log(res);
    }
});
```


## removeEventOnWalkingRoutePlanning

### 描述

步行路径规划删除路径事件。

### 参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|opts|true|[RemoveEventOnWalkingRoutePlanningOptions](#removeeventonwalkingrouteplanningoptions参数说明)|-|-|

#### RemoveEventOnWalkingRoutePlanningOptions参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|id|true|string|-|创建路径规划返回的id|
|eventType|true|[RouteEventType](#routeeventtype参数说明)|-|路径事件类型|

##### RouteEventType参数说明

|描述|实际值|
|:--|:--:|
|鼠标按下|mousedown|
|鼠标弹起|mouseup|
|点击|click|
|双击|dblclick|
|右键|contextmenu|
|鼠标移动|mousemove|
|鼠标进入|mouseenter|
|鼠标离开|mouseleave|
|鼠标悬浮|mouseover|
|鼠标移出|mouseout|

### 示例


```javascript
kmap.removeEventOnWalkingRoutePlanning({
    id: 'walking',
    eventType: 'click'
});
```


## 驾车路径规划

## createMinDistanceRoutePlanning

### 描述

距离最短路径规划。（需要在云平台配置路径规划服务类型[科达服务/高通服务/高德服务]和url）

### 参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|opts|true|[DrivingRoutePlanningOptions](#drivingrouteplanningoptions参数说明)|-|-|

#### DrivingRoutePlanningOptions参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|startPoint|true|[LngLat](#lnglat参数说明（类型）)|-|起点位置经纬度坐标|
|endPoint|true|[LngLat](#lnglat参数说明（类型）)|-|终点位置经纬度坐标|
|wayPoints|false|Array&lt;[LngLat](#lnglat参数说明（类型）)&gt;|-|途经点坐标集合，单次添加不可超过20个，总数不能超过50|
|avoidArea|false|Array&lt;Array&lt;[LngLat](#lnglat参数说明（类型）)&gt;&gt;|-|避让区域|
|lineColor|false|string|'red'|渲染轨迹的颜色，支持 rgb,rgba,16 进制色值,颜色名称|
|lineStyle|false|number|-|0（蓝色箭头），1(红色箭头)，2（黄色箭头），3（绿色箭头）不可以与lineColor同时作用，若同时存在，优先取此值|
|lineWidth|false|number|6|轨迹宽度，单位px|
|offset|false|[Offset](#offset参数说明（类型）)|[0, 0]|起点,终点,途径点标记的偏移量|
|markerVisible|false|boolean|true|是否显示起始点图标|
|showType|false|number|1|起始点和途经点样式风格：1文字形式，2数字形式|
|roadCondition|false|boolean|false|是否需要显示拥堵程度（红、黄、绿）[科达路径规划服务暂不支持路况]，设置为true会使lineColor、lineStyle参数失效|
|type|false|number|-|是否返回rticId，使用此参数需要项目另行采购数据，1-不返回，2-返回|
|draggableWayPoints|false|boolean|false|是否启用可拖拽的途经点，true-开启，false-关闭；启用后可以通过拖拽规划线以添加途经点，同时会使鼠标移动类事件失效|
|connectingLine|false|boolean|false|当起、终点不在路径规划线上时，是否使用虚线进行链接。true-连接，false-不连接|
|viaHighWay|false|boolean|true|是否走高速(仅支持科达路径规划)|
|bindHighWay|false|boolean|false|起终点是否绑定快速路(仅支持科达路径规划)|
|pointStyle|false|[RouteDrivePointStyle](#routedrivepointstyle参数说明)|-|起点、终点、途径点的样式|
|onError|false|[Function](#onerror函数参数说明)|-|规划失败的错误回调函数，回调参数包含错误码及错误信息|
|error|false|[Function](#error函数参数说明)|-|规划失败的错误回调函数，回调参数为错误信息|
|updateHandler|false|[Function](#updatehandler函数参数说明)|-|路径规划获取到数据的回调函数，第一个回调参数是获取到的规划结果信息，第二个回调参数是请求规划的相关信息|
|ended|false|[Function](#ended函数参数说明)|-|路径规划回调函数|

##### LngLat参数说明（类型）

|参数名称|类型|说明|
|:--|:--:|:--|
|LngLat|[number, number]|经纬度坐标|

##### Offset参数说明（类型）

|参数名称|类型|说明|
|:--|:--:|:--|
|Offset|[number, number]|相对于锚点偏移量|

##### RouteDrivePointStyle参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|startPoint|false|[RoutePointItemStyle](#routepointitemstyle参数说明)|-|起点的样式|
|endPoint|false|[RoutePointItemStyle](#routepointitemstyle参数说明)|-|起点的样式|
|wayPoints|false|[RoutePointItemStyle](#routepointitemstyle参数说明)|-|途径点的样式|

###### RoutePointItemStyle参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|iconName|true|string|-|图标名称|
|iconScale|false|number|1|图标缩放比例|
|anchor|false|[Anchor](#anchor参数说明)|KMap.ANCHOR.BOTTOM|图标的锚点|
|offset|false|[Offset](#offset参数说明（类型）)|[0, 0]|图标的偏移量|

###### Anchor参数说明

|参数名称|描述|实际值|
|:--|:--|:--:|
|KMap.ANCHOR.CENTER|中心|center|
|KMap.ANCHOR.TOP|顶部|top|
|KMap.ANCHOR.BOTTOM|底部|bottom|
|KMap.ANCHOR.LEFT|左侧|left|
|KMap.ANCHOR.RIGHT|右侧|right|
|KMap.ANCHOR.TOP_LEFT|左上方|top-left|
|KMap.ANCHOR.TOP_RIGHT|右上方|top-right|
|KMap.ANCHOR.BOTTOM_LEFT|左下方|bottom-left|
|KMap.ANCHOR.BOTTOM_RIGHT|右下方|bottom-right|

##### onError函数参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|event|[OnErrorEvent](#onerrorevent参数说明)|-|错误信息|

###### OnErrorEvent参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|code|string|-|错误码|
|message|string|-|错误信息|

##### error函数参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|event|string\|[Error](#error参数说明)|-|错误信息|

##### updateHandler函数参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|event|Object|-|规划结果|
|info|[UpdateHandlerInfo](#updatehandlerinfo参数说明)|-|规划相关信息|

###### UpdateHandlerInfo参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|startPoint|[LngLat](#lnglat参数说明（类型）)|-|起点经纬度|
|endPoint|[LngLat](#lnglat参数说明（类型）)|-|终点经纬度|
|waypoints|Array&lt;[LngLat](#lnglat参数说明（类型）)&gt;|-|途经点信息|
|avoidAreas|Array&lt;Array&lt;[LngLat](#lnglat参数说明（类型）)&gt;&gt;|-|避让区域信息|

###### LngLat参数说明（类型）

|参数名称|类型|说明|
|:--|:--:|:--|
|LngLat|[number, number]|经纬度坐标|

##### ended函数参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|event|[EndedEvent](#endedevent参数说明)|-|结束回调信息|

###### EndedEvent参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|status|number|-|10-成功,20-失败|
|data|string|-|路径规划id，用于绑定事件，更新、移除规划等操作|


当路径规划失败时，规划的途经点、避让区域会恢复至最近一次规划成功的值。

### 示例


```javascript
kmap.createMinDistanceRoutePlanning({
    startPoint:[123.45 , 23.23],
    endPoint: [123.4515, 23.2315],
    wayPoints: [
       [123.45, 23.231],
       [123.45, 23.242]
    ],
    avoidArea: [
       [
          [120.38423274781258, 31.32880134474928],
          [120.38423274781258, 31.333168717037566],
          [120.38910650009751, 31.333168717037566],
          [120.38910650009751, 31.32880134474928],
          [120.38423274781258, 31.32880134474928]
       ],
       [
          [120.38423274781258, 31.32880134474928],
          [120.38423274781258, 31.333168717037566],
          [120.38910650009751, 31.333168717037566],
          [120.38910650009751, 31.32880134474928],
          [120.38423274781258, 31.32880134474928]
       ]
    ],
    ended:function(res){
        console.log(res.data);
    }
});
```


## createMinTimeRoutePlanning

### 描述

时间最短路径规划。（需要在时空GIS云平台配置路径规划服务类型[科达服务/高通服务/高德服务]和url）

### 参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|opts|true|[DrivingRoutePlanningOptions](#drivingrouteplanningoptions参数说明)|-|-|

#### DrivingRoutePlanningOptions参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|startPoint|true|[LngLat](#lnglat参数说明（类型）)|-|起点位置经纬度坐标|
|endPoint|true|[LngLat](#lnglat参数说明（类型）)|-|终点位置经纬度坐标|
|wayPoints|false|Array&lt;[LngLat](#lnglat参数说明（类型）)&gt;|-|途经点坐标集合，单次添加不可超过20个，总数不能超过50|
|avoidArea|false|Array&lt;Array&lt;[LngLat](#lnglat参数说明（类型）)&gt;&gt;|-|避让区域|
|lineColor|false|string|'red'|渲染轨迹的颜色，支持 rgb,rgba,16 进制色值,颜色名称|
|lineStyle|false|number|-|0（蓝色箭头），1(红色箭头)，2（黄色箭头），3（绿色箭头）不可以与lineColor同时作用，若同时存在，优先取此值|
|lineWidth|false|number|6|轨迹宽度，单位px|
|offset|false|[Offset](#offset参数说明（类型）)|[0, 0]|起点,终点,途径点标记的偏移量|
|markerVisible|false|boolean|true|是否显示起始点图标|
|showType|false|number|1|起始点和途经点样式风格：1文字形式，2数字形式|
|roadCondition|false|boolean|false|是否需要显示拥堵程度（红、黄、绿）[科达路径规划服务暂不支持路况]，设置为true会使lineColor、lineStyle参数失效|
|type|false|number|-|是否返回rticId，使用此参数需要项目另行采购数据，1-不返回，2-返回|
|draggableWayPoints|false|boolean|false|是否启用可拖拽的途经点，true-开启，false-关闭；启用后可以通过拖拽规划线以添加途经点，同时会使鼠标移动类事件失效|
|connectingLine|false|boolean|false|当起、终点不在路径规划线上时，是否使用虚线进行链接。true-连接，false-不连接|
|viaHighWay|false|boolean|true|是否走高速(仅支持科达路径规划)|
|bindHighWay|false|boolean|false|起终点是否绑定快速路(仅支持科达路径规划)|
|pointStyle|false|[RouteDrivePointStyle](#routedrivepointstyle参数说明)|-|起点、终点、途径点的样式|
|onError|false|[Function](#onerror函数参数说明)|-|规划失败的错误回调函数，回调参数包含错误码及错误信息|
|error|false|[Function](#error函数参数说明)|-|规划失败的错误回调函数，回调参数为错误信息|
|updateHandler|false|[Function](#updatehandler函数参数说明)|-|路径规划获取到数据的回调函数，第一个回调参数是获取到的规划结果信息，第二个回调参数是请求规划的相关信息|
|ended|false|[Function](#ended函数参数说明)|-|路径规划回调函数|

##### LngLat参数说明（类型）

|参数名称|类型|说明|
|:--|:--:|:--|
|LngLat|[number, number]|经纬度坐标|

##### Offset参数说明（类型）

|参数名称|类型|说明|
|:--|:--:|:--|
|Offset|[number, number]|相对于锚点偏移量|

##### RouteDrivePointStyle参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|startPoint|false|[RoutePointItemStyle](#routepointitemstyle参数说明)|-|起点的样式|
|endPoint|false|[RoutePointItemStyle](#routepointitemstyle参数说明)|-|起点的样式|
|wayPoints|false|[RoutePointItemStyle](#routepointitemstyle参数说明)|-|途径点的样式|

###### RoutePointItemStyle参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|iconName|true|string|-|图标名称|
|iconScale|false|number|1|图标缩放比例|
|anchor|false|[Anchor](#anchor参数说明)|KMap.ANCHOR.BOTTOM|图标的锚点|
|offset|false|[Offset](#offset参数说明（类型）)|[0, 0]|图标的偏移量|

###### Anchor参数说明

|参数名称|描述|实际值|
|:--|:--|:--:|
|KMap.ANCHOR.CENTER|中心|center|
|KMap.ANCHOR.TOP|顶部|top|
|KMap.ANCHOR.BOTTOM|底部|bottom|
|KMap.ANCHOR.LEFT|左侧|left|
|KMap.ANCHOR.RIGHT|右侧|right|
|KMap.ANCHOR.TOP_LEFT|左上方|top-left|
|KMap.ANCHOR.TOP_RIGHT|右上方|top-right|
|KMap.ANCHOR.BOTTOM_LEFT|左下方|bottom-left|
|KMap.ANCHOR.BOTTOM_RIGHT|右下方|bottom-right|

##### onError函数参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|event|[OnErrorEvent](#onerrorevent参数说明)|-|错误信息|

###### OnErrorEvent参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|code|string|-|错误码|
|message|string|-|错误信息|

##### error函数参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|event|string\|[Error](#error参数说明)|-|错误信息|

##### updateHandler函数参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|event|Object|-|规划结果|
|info|[UpdateHandlerInfo](#updatehandlerinfo参数说明)|-|规划相关信息|

###### UpdateHandlerInfo参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|startPoint|[LngLat](#lnglat参数说明（类型）)|-|起点经纬度|
|endPoint|[LngLat](#lnglat参数说明（类型）)|-|终点经纬度|
|waypoints|Array&lt;[LngLat](#lnglat参数说明（类型）)&gt;|-|途经点信息|
|avoidAreas|Array&lt;Array&lt;[LngLat](#lnglat参数说明（类型）)&gt;&gt;|-|避让区域信息|

###### LngLat参数说明（类型）

|参数名称|类型|说明|
|:--|:--:|:--|
|LngLat|[number, number]|经纬度坐标|

##### ended函数参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|event|[EndedEvent](#endedevent参数说明)|-|结束回调信息|

###### EndedEvent参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|status|number|-|10-成功,20-失败|
|data|string|-|路径规划id，用于绑定事件，更新、移除规划等操作|


当路径规划失败时，规划的途经点、避让区域会恢复至最近一次规划成功的值。

### 示例


```javascript
kmap.createMinTimeRoutePlanning({
    startPoint:[123.45 , 23.23],
    endPoint: [123.4515, 23.2315],
    wayPoints: [
       [123.45, 23.231],
       [123.45, 23.242]
    ],
    avoidArea: [
       [
          [120.38423274781258, 31.32880134474928],
          [120.38423274781258, 31.333168717037566],
          [120.38910650009751, 31.333168717037566],
          [120.38910650009751, 31.32880134474928],
          [120.38423274781258, 31.32880134474928]
       ],
       [
          [120.38423274781258, 31.32880134474928],
          [120.38423274781258, 31.333168717037566],
          [120.38910650009751, 31.333168717037566],
          [120.38910650009751, 31.32880134474928],
          [120.38423274781258, 31.32880134474928]
       ]
    ],
    ended:function(res){
        console.log(res.data);
    }
});
```


## removeRoutePlanning

### 描述

删除路径规划。

### 参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|opts|true|[RemoveRoutePlanningOptions](#removerouteplanningoptions参数说明)|-|-|

#### RemoveRoutePlanningOptions参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|id|true|string|-|路径规划id|

### 示例


```javascript
kmap.removeRoutePlanning({
    id: '路径规划对象ID'
});
```


## resetRoutePlanning

### 描述

重新进行路径规划

### 参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|opts|true|[ResetRoutePlanningOptions](#resetrouteplanningoptions参数说明)|-|-|

#### ResetRoutePlanningOptions参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|id|true|string|-|创建路径规划返回的id|
|startPoint|false|[LngLat](#lnglat参数说明（类型）)|-|起点位置经纬度|
|endPoint|false|[LngLat](#lnglat参数说明（类型）)|-|终点位置经纬度|
|wayPoints|false|Array&lt;[LngLat](#lnglat参数说明（类型）)&gt;|[]|途经点坐标集合，单次添加不可超过20个，总数不能超过50|
|avoidArea|false|Array&lt;Array&lt;[LngLat](#lnglat参数说明（类型）)&gt;&gt;|[]|避让区域|
|connectingLine|false|boolean|false|当起、终点不在路径规划线上时，是否使用虚线进行链接。true-连接，false-不连接|
|viaHighWay|false|boolean|true|是否走高速(仅支持科达路径规划)|
|bindHighWay|false|boolean|false|起终点是否绑定快速路(仅支持科达路径规划)|
|lineColor|false|string|'red'|渲染轨迹的颜色，支持 rgb,rgba,16 进制色值,颜色名称|
|draggableWayPoints|false|boolean|-|是否启用可拖拽的途经点，true-开启，false-关闭；启用后可以通过拖拽规划线以添加途经点，同时会使鼠标移动类事件失效|

##### LngLat参数说明（类型）

|参数名称|类型|说明|
|:--|:--:|:--|
|LngLat|[number, number]|经纬度坐标|

### 示例


```javascript
kmap.resetRoutePlanning({
    id: 'planId',
    startPoint:[123.45 , 23.23],
    endPoint: [123.45, 23.23]
});
```


## addWayPoint

### 描述

路径规划添加途经点。

### 参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|opts|true|[AddWayPointOptions](#addwaypointoptions参数说明)|-|-|

#### AddWayPointOptions参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|id|true|string|-|创建路径规划返回的id|
|point|true|[LngLat](#lnglat参数说明（类型）)\|Array&lt;[LngLat](#lnglat参数说明（类型）)&gt;|-|需要添加的途经点，单次添加不可超过20个，总数不能超过50|

##### LngLat参数说明（类型）

|参数名称|类型|说明|
|:--|:--:|:--|
|LngLat|[number, number]|经纬度坐标|


当路径规划失败时，规划的途经点、避让区域会恢复至最近一次规划成功的值。

### 示例


```javascript
kmap.addWayPoint({
    id: 'minTimeRoute',
    // point: [100, 120]  单个途经点，
    point: [ // 多个途经点
      [100, 120],
      [100, 120]
    ]
});
```


## addAvoidArea

### 描述

路径规划添加障碍区域。

### 参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|opts|true|[AddAvoidAreaOptions](#addavoidareaoptions参数说明)|-|-|

#### AddAvoidAreaOptions参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|id|true|string|-|创建路径规划返回的id|
|polygon|true|Array&lt;[LngLat](#lnglat参数说明（类型）)&gt;\|Array&lt;Array&lt;[LngLat](#lnglat参数说明（类型）)&gt;&gt;|-|需要添加的障碍区域面（支持单面和多面)|

##### LngLat参数说明（类型）

|参数名称|类型|说明|
|:--|:--:|:--|
|LngLat|[number, number]|经纬度坐标|


当路径规划失败时，规划的途经点、避让区域会恢复至最近一次规划成功的值。

### 示例


```javascript
kmap.addAvoidArea({
    id: 'minTimeRoute',
    polygon: [
                [120.34503664667449, 31.332756999114864],
                [120.34503664667449, 31.331517959850586],
                [120.3492315328009, 31.331517959850586],
                [120.3492315328009, 31.332756999114864],
                [120.34503664667449, 31.332756999114864]
            ], // 单面
    polygon: [
                [
                    [120.34503664667449, 31.332756999114864],
                    [120.34503664667449, 31.331517959850586],
                    [120.3492315328009, 31.331517959850586],
                    [120.3492315328009, 31.332756999114864],
                    [120.34503664667449, 31.332756999114864]
                ],
                [
                    [120.37267127917039, 31.327222977620366],
                    [120.37267127917039, 31.3248135541579],
                    [120.37842128872796, 31.3248135541579],
                    [120.37842128872796, 31.327222977620366],
                    [120.37267127917039, 31.327222977620366]
                ]
            ] // 多面
});
```


## addEventOnRoutePlanning

### 描述

路径规划添加路径事件。

### 参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|opts|true|[AddEventOnRoutePlanningOptions](#addeventonrouteplanningoptions参数说明)|-|-|

#### AddEventOnRoutePlanningOptions参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|id|true|string|-|创建路径规划返回的id|
|eventType|true|[RouteEventType](#routeeventtype参数说明)|-|路径事件类型|
|handler|true|[Function](#handler函数参数说明)|-|事件回调函数，回调参数是事件相关信息|

##### RouteEventType参数说明

|描述|实际值|
|:--|:--:|
|鼠标按下|mousedown|
|鼠标弹起|mouseup|
|点击|click|
|双击|dblclick|
|右键|contextmenu|
|鼠标移动|mousemove|
|鼠标进入|mouseenter|
|鼠标离开|mouseleave|
|鼠标悬浮|mouseover|
|鼠标移出|mouseout|

##### handler函数参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|event|[HandlerEvent](#handlerevent参数说明)|-|相关信息|

###### HandlerEvent参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|lngLat|object|-|经纬度|
|point|object|-|像素坐标|
|type|object|-|事件类型|
|originalEvent|object|-|原生事件对象|

### 示例


```javascript
kmap.addEventOnRoutePlanning({
    id: 'minTimeRoute',
    eventType: 'click',
    handler: function (res) {
        console.log(res);
    }
});
```


## removeEventOnRoutePlanning

### 描述

路径规划删除路径事件。

### 参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|opts|true|[RemoveEventOnRoutePlanningOptions](#removeeventonrouteplanningoptions参数说明)|-|-|

#### RemoveEventOnRoutePlanningOptions参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|id|true|string|-|创建路径规划返回的id|
|eventType|true|[RouteEventType](#routeeventtype参数说明)|-|路径事件类型|

##### RouteEventType参数说明

|描述|实际值|
|:--|:--:|
|鼠标按下|mousedown|
|鼠标弹起|mouseup|
|点击|click|
|双击|dblclick|
|右键|contextmenu|
|鼠标移动|mousemove|
|鼠标进入|mouseenter|
|鼠标离开|mouseleave|
|鼠标悬浮|mouseover|
|鼠标移出|mouseout|

### 示例


```javascript
* kmap.removeEventOnRoutePlanning({
    id: 'minTimeRoute',
    eventType: 'click'
});
```


## 货车路径规划

## createMinTimeTruckRoutePlanning

### 描述

创建时间最短路径规划(货车)。

### 参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|opts|true|[CreateMinTimeTruckRoutePlanningOptions](#createmintimetruckrouteplanningoptions参数说明)|-|-|

#### CreateMinTimeTruckRoutePlanningOptions参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|startPoint|true|[LngLat](#lnglat参数说明（类型）)|-|起点位置经纬度坐标|
|endPoint|true|[LngLat](#lnglat参数说明（类型）)|-|终点位置经纬度坐标|
|wayPoints|false|Array&lt;[LngLat](#lnglat参数说明（类型）)&gt;|-|途经点坐标集合，单次/总数不能超过16个|
|avoidArea|false|Array&lt;Array&lt;[LngLat](#lnglat参数说明（类型）)&gt;&gt;|-|避让区域|
|url|false|string|从云平台读取|高德路径规划服务地址|
|token|false|string|从云平台读取|高德路径规划token|
|st|false|number|11|规划策略。1：躲避拥堵，2：不走高速，3：避免收费，4：躲避拥堵+不走高速，5：避免收费+不走高速，6：躲避拥堵+避免收费，7：躲避拥堵+避免收费+不走高速，8：高速优先，9：躲避拥堵+高速优先，10：无路况速度优先，11：考虑路况，躲避拥堵，速度优先以及费用优先，12：无路况+不走高速|
|size|false|number|2|车辆大小。1：微型车，2：轻型车，3：中型车，4：重型车|
|height|false|number|1.6|车辆高度，单位米。取值[0-25.5]米|
|width|false|number|2.5|车辆宽度，单位米。取值[0-25.5]米|
|load|false|number|10|车辆总重，单位吨。取值[0-100]吨|
|weight|false|number|0.9|核定载重，单位吨。取值[0-100]吨|
|axis|false|number|2|车辆轴数，单位个。取值[0-255]|
|province|false|string|-|车牌省份，用汉字填入车牌省份缩写|
|number|false|string|-|车牌详情。除省份和标点之外的字母和数字（需大写）|
|lineColor|false|string|'red'|渲染轨迹的颜色，支持 rgb,rgba,16 进制色值,颜色名称|
|lineStyle|false|number|-|0（蓝色箭头），1(红色箭头)，2（黄色箭头），3（绿色箭头）不可以与lineColor同时作用，若同时存在，优先取此值|
|lineWidth|false|number|6|轨迹宽度，单位px|
|offset|false|[Offset](#offset参数说明（类型）)|[0, 0]|起点,终点,途径点标记的偏移量|
|markerVisible|false|boolean|true|是否显示起始点图标|
|showType|false|number|1|起始点和途经点样式风格：1文字形式，2数字形式|
|roadCondition|false|boolean|false|是否需要显示拥堵程度（红、黄、绿）,设置true后会导致lineColor、lineStyle失效|
|connectingLine|false|boolean|false|当起、终点不在路径规划线上时，是否使用虚线进行链接。true-连接，false-不连接|
|pointStyle|false|[RouteDrivePointStyle](#routedrivepointstyle参数说明)|-|起点、终点、途径点的样式|
|error|false|[Function](#error函数参数说明)|-|规划失败的错误回调函数，回调参数为错误信息|
|updateHandler|false|[Function](#updatehandler函数参数说明)|-|路径规划获取到数据的回调函数，第一个回调参数是获取到的规划结果信息，第二个回调参数是请求规划的相关信息|
|ended|false|[Function](#ended函数参数说明)|-|路径规划回调函数|

##### LngLat参数说明（类型）

|参数名称|类型|说明|
|:--|:--:|:--|
|LngLat|[number, number]|经纬度坐标|

##### Offset参数说明（类型）

|参数名称|类型|说明|
|:--|:--:|:--|
|Offset|[number, number]|相对于锚点偏移量|

##### RouteDrivePointStyle参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|startPoint|false|[RoutePointItemStyle](#routepointitemstyle参数说明)|-|起点的样式|
|endPoint|false|[RoutePointItemStyle](#routepointitemstyle参数说明)|-|起点的样式|
|wayPoints|false|[RoutePointItemStyle](#routepointitemstyle参数说明)|-|途径点的样式|

###### RoutePointItemStyle参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|iconName|true|string|-|图标名称|
|iconScale|false|number|1|图标缩放比例|
|anchor|false|[Anchor](#anchor参数说明)|KMap.ANCHOR.BOTTOM|图标的锚点|
|offset|false|[Offset](#offset参数说明（类型）)|[0, 0]|图标的偏移量|

###### Anchor参数说明

|参数名称|描述|实际值|
|:--|:--|:--:|
|KMap.ANCHOR.CENTER|中心|center|
|KMap.ANCHOR.TOP|顶部|top|
|KMap.ANCHOR.BOTTOM|底部|bottom|
|KMap.ANCHOR.LEFT|左侧|left|
|KMap.ANCHOR.RIGHT|右侧|right|
|KMap.ANCHOR.TOP_LEFT|左上方|top-left|
|KMap.ANCHOR.TOP_RIGHT|右上方|top-right|
|KMap.ANCHOR.BOTTOM_LEFT|左下方|bottom-left|
|KMap.ANCHOR.BOTTOM_RIGHT|右下方|bottom-right|

##### error函数参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|event|string\|[Error](#error参数说明)|-|错误信息|

##### updateHandler函数参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|event|Object|-|规划结果|
|info|[UpdateHandlerInfo](#updatehandlerinfo参数说明)|-|规划相关信息|

###### UpdateHandlerInfo参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|startPoint|[LngLat](#lnglat参数说明（类型）)|-|起点经纬度|
|endPoint|[LngLat](#lnglat参数说明（类型）)|-|终点经纬度|
|waypoints|Array&lt;[LngLat](#lnglat参数说明（类型）)&gt;|-|途经点信息|
|avoidAreas|Array&lt;Array&lt;[LngLat](#lnglat参数说明（类型）)&gt;&gt;|-|避让区域信息|

###### LngLat参数说明（类型）

|参数名称|类型|说明|
|:--|:--:|:--|
|LngLat|[number, number]|经纬度坐标|

##### ended函数参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|event|[EndedEvent](#endedevent参数说明)|-|结束回调信息|

###### EndedEvent参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|status|number|-|10-成功,20-失败|
|data|string|-|路径规划id，用于绑定事件，更新、移除规划等操作|

### 示例


```javascript
kmap.createMinTimeTruckRoutePlanning({
    startPoint:[123.45 , 23.23],
    endPoint: [123.45, 23.23],
    wayPoints: [
       [123.45, 23.23],
       [123.45, 23.23]
    ],
    avoidArea: [
       [
          [120.38423274781258, 31.32880134474928],
          [120.38423274781258, 31.333168717037566],
          [120.38910650009751, 31.333168717037566],
          [120.38910650009751, 31.32880134474928],
          [120.38423274781258, 31.32880134474928]
       ],
       [
          [120.38423274781258, 31.32880134474928],
          [120.38423274781258, 31.333168717037566],
          [120.38910650009751, 31.333168717037566],
          [120.38910650009751, 31.32880134474928],
          [120.38423274781258, 31.32880134474928]
       ]
    ],
    ended:function(res){
        console.log(res.data);
    }
});
```


## removeTruckRoutePlanning

### 描述

删除货车路径规划。

### 参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|opts|true|[RemoveTruckRoutePlanningOptions](#removetruckrouteplanningoptions参数说明)|-|-|

#### RemoveTruckRoutePlanningOptions参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|id|true|string|-|创建路径规划返回的id|


当路径规划失败时，规划的途经点、避让区域会恢复至最近一次规划成功的值。

### 示例


```javascript
kmap.removeTruckRoutePlanning({
    id: '路径规划对象ID'
});
```


## resetTruckRoutePlanning

### 描述

重新进行货车路径规划。

### 参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|opts|true|[ResetTruckRoutePlanningOptions](#resettruckrouteplanningoptions参数说明)|-|-|

#### ResetTruckRoutePlanningOptions参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|id|true|string|-|创建路径规划返回的id|
|startPoint|false|[LngLat](#lnglat参数说明（类型）)|-|起点位置经纬度|
|endPoint|false|[LngLat](#lnglat参数说明（类型）)|-|终点位置经纬度|
|wayPoints|false|Array&lt;[LngLat](#lnglat参数说明（类型）)&gt;|-|途经点坐标集合，单次/总数不能超过16个|
|avoidArea|false|Array&lt;Array&lt;[LngLat](#lnglat参数说明（类型）)&gt;&gt;|-|避让区域|
|lineColor|false|string|'red'|渲染轨迹的颜色，支持 rgb,rgba,16 进制色值,颜色名称|
|connectingLine|false|boolean|false|当起、终点不在路径规划线上时，是否使用虚线进行链接。true-连接，false-不连接|

##### LngLat参数说明（类型）

|参数名称|类型|说明|
|:--|:--:|:--|
|LngLat|[number, number]|经纬度坐标|


当路径规划失败时，规划的途经点、避让区域会恢复至最近一次规划成功的值。

### 示例


```javascript
kmap.resetTruckRoutePlanning({
    id: 'minTimeRoute',
    startPoint:[123.45 , 23.23],
    endPoint: [123.45, 23.23],
    wayPoints: [
       [123.45, 23.23],
       [123.45, 23.23]
    ],
    avoidArea: [
       [
          [120.38423274781258, 31.32880134474928],
          [120.38423274781258, 31.333168717037566],
          [120.38910650009751, 31.333168717037566],
          [120.38910650009751, 31.32880134474928],
          [120.38423274781258, 31.32880134474928]
       ],
       [
          [120.38423274781258, 31.32880134474928],
          [120.38423274781258, 31.333168717037566],
          [120.38910650009751, 31.333168717037566],
          [120.38910650009751, 31.32880134474928],
          [120.38423274781258, 31.32880134474928]
       ]
    ],
});
```


## addTruckWayPoint

### 描述

货车路径规划添加途经点。

### 参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|opts|true|[AddTruckWayPointOptions](#addtruckwaypointoptions参数说明)|-|-|

#### AddTruckWayPointOptions参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|id|true|string|-|创建路径规划返回的id|
|point|true|[LngLat](#lnglat参数说明（类型）)\|Array&lt;[LngLat](#lnglat参数说明（类型）)&gt;|-|添加的点坐标/集合,单次/总数不能超过16个|

##### LngLat参数说明（类型）

|参数名称|类型|说明|
|:--|:--:|:--|
|LngLat|[number, number]|经纬度坐标|


当路径规划失败时，规划的途经点、避让区域会恢复至最近一次规划成功的值。

### 示例


```javascript
kmap.addTruckWayPoint({
    id: 'minTimeRoute',
    // point: [120, 30]  单个途经点，
    point: [ // 多个途经点
      [120, 30],
      [120, 30]
    ]
});
```


## addTruckAvoidArea

### 描述

货车路径规划添加障碍区域。

### 参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|opts|true|[AddTruckAvoidAreaOptions](#addtruckavoidareaoptions参数说明)|-|-|

#### AddTruckAvoidAreaOptions参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|id|true|string|-|创建路径规划返回的id|
|polygon|true|Array&lt;[LngLat](#lnglat参数说明（类型）)&gt;\|Array&lt;Array&lt;[LngLat](#lnglat参数说明（类型）)&gt;&gt;|-|需要添加的障碍区域面（支持单面和多面)|

##### LngLat参数说明（类型）

|参数名称|类型|说明|
|:--|:--:|:--|
|LngLat|[number, number]|经纬度坐标|


当路径规划失败时，规划的途经点、避让区域会恢复至最近一次规划成功的值。

### 示例


```javascript
kmap.addTruckAvoidArea({
    id: 'minTimeRoute',
    polygon: [
                    [120.34503664667449, 31.332756999114864],
                    [120.34503664667449, 31.331517959850586],
                    [120.3492315328009, 31.331517959850586],
                    [120.3492315328009, 31.332756999114864],
                    [120.34503664667449, 31.332756999114864]
            ], // 单面
    polygon: [
                [
                    [120.34503664667449, 31.332756999114864],
                    [120.34503664667449, 31.331517959850586],
                    [120.3492315328009, 31.331517959850586],
                    [120.3492315328009, 31.332756999114864],
                    [120.34503664667449, 31.332756999114864]
                ],
                [
                    [120.37267127917039, 31.327222977620366],
                    [120.37267127917039, 31.3248135541579],
                    [120.37842128872796, 31.3248135541579],
                    [120.37842128872796, 31.327222977620366],
                    [120.37267127917039, 31.327222977620366]
                ]
            ] // 多面
});
```


## addEventOnTruckRoutePlanning

### 描述

货车路径规划添加路径事件。

### 参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|opts|true|[AddEventOnTruckRoutePlanningOptions](#addeventontruckrouteplanningoptions参数说明)|-|-|

#### AddEventOnTruckRoutePlanningOptions参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|id|true|string|-|创建路径规划返回的id|
|eventType|true|[RouteEventType](#routeeventtype参数说明)|-|路径事件类型|
|handler|true|[Function](#handler函数参数说明)|-|事件回调函数，回调参数是事件相关信息|

##### RouteEventType参数说明

|描述|实际值|
|:--|:--:|
|鼠标按下|mousedown|
|鼠标弹起|mouseup|
|点击|click|
|双击|dblclick|
|右键|contextmenu|
|鼠标移动|mousemove|
|鼠标进入|mouseenter|
|鼠标离开|mouseleave|
|鼠标悬浮|mouseover|
|鼠标移出|mouseout|

##### handler函数参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|event|[HandlerEvent](#handlerevent参数说明)|-|相关信息|

###### HandlerEvent参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|lngLat|object|-|经纬度|
|point|object|-|像素坐标|
|type|object|-|事件类型|
|originalEvent|object|-|原生事件对象|

### 示例


```javascript
kmap.addEventOnTruckRoutePlanning({
    id: 'minTimeRoute',
    eventType: 'click',
    handler: function (res) {
        console.log(res);
    }
});
```


## removeEventOnTruckRoutePlanning

### 描述

货车路径规划删除路径事件。

### 参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|opts|true|[RemoveEventOnTruckRoutePlanningOptions](#removeeventontruckrouteplanningoptions参数说明)|-|-|

#### RemoveEventOnTruckRoutePlanningOptions参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|id|true|string|-|创建路径规划返回的id|
|eventType|true|[RouteEventType](#routeeventtype参数说明)|-|路径事件类型|

##### RouteEventType参数说明

|描述|实际值|
|:--|:--:|
|鼠标按下|mousedown|
|鼠标弹起|mouseup|
|点击|click|
|双击|dblclick|
|右键|contextmenu|
|鼠标移动|mousemove|
|鼠标进入|mouseenter|
|鼠标离开|mouseleave|
|鼠标悬浮|mouseover|
|鼠标移出|mouseout|

### 示例


```javascript
kmap.removeEventOnTruckRoutePlanning({
    id: 'planId',
    eventType: 'click'
});
```


# 路径规划服务Pro

## 驾车路径规划Pro

## createRoutePlanningPro

### 描述

创建驾车路径规划，能够返回文字导航信息以及多条备选路线。使用此功能需要部署路径规划服务Pro。

### 参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|opts|true|[CreateRoutePlanningProOptions](#createrouteplanningprooptions参数说明)|-|-|

#### CreateRoutePlanningProOptions参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|startPoint|true|[LngLat](#lnglat参数说明（类型）)|-|起点位置经纬度坐标|
|endPoint|true|[LngLat](#lnglat参数说明（类型）)|-|终点位置经纬度坐标|
|wayPoints|false|Array&lt;[LngLat](#lnglat参数说明（类型）)&gt;|-|途经点坐标集合，单次添加不可超过20个，总数不能超过100（若在路径规划统一配置中修改过，则是修改后的值）|
|avoidArea|false|Array&lt;Array&lt;[LngLat](#lnglat参数说明（类型）)&gt;&gt;|-|避让区域, 默认最大支持100个避障区域，建议不超过32个避障区域（若在路径规划统一配置中修改过，则是修改后的值）|
|policy|false|string|'leastTime'|规划策略，leastTime-最短时间，leastDistance-最短距离，avoidHighWay-避开高速，avoidFastWay-避开高速与快速路，roadFirst-大路优先|
|ferry|false|boolean|false|是否允许轮渡，true-允许，false-不允许，默认不支持轮渡，如需支持，需要申请相匹配的数据|
|alternativeRoute|false|boolean|false|是否需要备选路线（默认最多3条路线，若在路径规划统一配置中修改过，则是修改后的值），false-不需要，true-需要，传入途经点时会使此参数转为false|
|solutionMarker|false|boolean|false|是否需要备选路线覆盖物，仅在路线多于一条时显示，用于点击切换路线，false-不需要，true-需要|
|routeDetail|false|Array&lt;string&gt;|-|规划结果是否需要展示摘要，可选值streetName-道路名称，maxSpeed-限速值，如果传入该值，会在updateHandler方法中的第一个回调参数中返回showFields.max_speed/showFields.street_name字段，数组中第三项为详情值，第一二项为详情值的坐标区间|
|lineColor|false|string|'red'|渲染轨迹的颜色，支持 rgb,rgba,16 进制色值,颜色名称|
|lineStyle|false|string\|number|-|0（蓝色箭头），1(红色箭头)，2（黄色箭头），3（绿色箭头），也可以使用字符串自定义雪碧图，不可以与lineColor同时作用，若同时存在，优先取此值|
|linePatternFlowable|false|boolean|-|在使用 lineStyle 设置线路纹理的时候，是否显示流动线|
|customFlowPatterns|false|Array&lt;string&gt;|-|自定义流动线纹理样式，传入多个雪碧图名称，组成流动线效果|
|lineWidth|false|number|6|轨迹宽度，单位px|
|offset|false|[Offset](#offset参数说明（类型）)|[0, 0]|起点,终点,途径点标记的偏移量|
|markerVisible|false|boolean|true|是否显示起始点图标|
|showType|false|number|1|起始点和途经点样式风格：1文字形式，2数字形式|
|draggablePoints|false|boolean|true|是否可以拖拽起终点、途径点|
|draggableWayPoints|false|boolean|false|是否启用拖拽的方式创建途经点，true-开启，false-关闭；启用后可以通过拖拽规划线以添加途经点，同时会使鼠标移动类事件失效|
|deletableWayPoints|false|boolean|true|途径点是否显示删除按钮，默认是显示的|
|connectingLine|false|boolean|false|当起、终点不在路径规划线上时，是否使用虚线进行链接。true-连接，false-不连接|
|pointStyle|false|[RouteDrivePointStyle](#routedrivepointstyle参数说明)|-|起点、终点、途径点的样式|
|onError|false|[Function](#onerror函数参数说明)|-|规划失败的错误回调函数，回调参数包含错误码及错误信息|
|error|false|[Function](#error函数参数说明)|-|规划失败的错误回调函数，回调参数为错误信息|
|updateHandler|false|[Function](#updatehandler函数参数说明)|-|路径规划获取到数据的回调函数，第一个回调参数是获取到的规划结果信息，第二个回调参数是请求规划的相关信息|
|ended|false|[Function](#ended函数参数说明)|-|路径规划回调函数|

##### LngLat参数说明（类型）

|参数名称|类型|说明|
|:--|:--:|:--|
|LngLat|[number, number]|经纬度坐标|

##### Offset参数说明（类型）

|参数名称|类型|说明|
|:--|:--:|:--|
|Offset|[number, number]|相对于锚点偏移量|

##### RouteDrivePointStyle参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|startPoint|false|[RoutePointItemStyle](#routepointitemstyle参数说明)|-|起点的样式|
|endPoint|false|[RoutePointItemStyle](#routepointitemstyle参数说明)|-|起点的样式|
|wayPoints|false|[RoutePointItemStyle](#routepointitemstyle参数说明)|-|途径点的样式|

###### RoutePointItemStyle参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|iconName|true|string|-|图标名称|
|iconScale|false|number|1|图标缩放比例|
|anchor|false|[Anchor](#anchor参数说明)|KMap.ANCHOR.BOTTOM|图标的锚点|
|offset|false|[Offset](#offset参数说明（类型）)|[0, 0]|图标的偏移量|

###### Anchor参数说明

|参数名称|描述|实际值|
|:--|:--|:--:|
|KMap.ANCHOR.CENTER|中心|center|
|KMap.ANCHOR.TOP|顶部|top|
|KMap.ANCHOR.BOTTOM|底部|bottom|
|KMap.ANCHOR.LEFT|左侧|left|
|KMap.ANCHOR.RIGHT|右侧|right|
|KMap.ANCHOR.TOP_LEFT|左上方|top-left|
|KMap.ANCHOR.TOP_RIGHT|右上方|top-right|
|KMap.ANCHOR.BOTTOM_LEFT|左下方|bottom-left|
|KMap.ANCHOR.BOTTOM_RIGHT|右下方|bottom-right|

##### onError函数参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|event|[OnErrorEvent](#onerrorevent参数说明)|-|错误信息|

###### OnErrorEvent参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|code|string|-|错误码|
|message|string|-|错误信息|

##### error函数参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|event|string\|[Error](#error参数说明)|-|错误信息|

##### updateHandler函数参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|event|Object|-|规划结果|
|info|[UpdateHandlerInfo](#updatehandlerinfo参数说明)|-|-|

###### UpdateHandlerInfo参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|startPoint|[LngLat](#lnglat参数说明（类型）)|-|起点经纬度|
|endPoint|[LngLat](#lnglat参数说明（类型）)|-|终点经纬度|
|waypoints|Array&lt;[LngLat](#lnglat参数说明（类型）)&gt;|-|途经点信息|
|avoidAreas|Array&lt;Array&lt;[LngLat](#lnglat参数说明（类型）)&gt;&gt;|-|避让区域信息|

###### LngLat参数说明（类型）

|参数名称|类型|说明|
|:--|:--:|:--|
|LngLat|[number, number]|经纬度坐标|

##### ended函数参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|event|[EndedEvent](#endedevent参数说明)|-|结束回调信息|

###### EndedEvent参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|status|number|-|10-成功,20-失败|
|data|string|-|路径规划id，用于绑定事件，更新、移除规划等操作|


当路径规划失败时，规划的途经点、避让区域会恢复至最近一次规划成功的值。

相较于路径规划服务1.0版本，有以下优点：

1.部署层面。服务不依赖pg数据库等其他三方组件，部署简单（路径规划服务1.0版本依赖postgresql数据库版本）。

2.性能层面。同等硬件资源和测试场景下，路径规划服务Pro效率明显优于路径规划服务1.0版本，测试报告详见：https://oa.kedacom.com/confluence/pages/viewpage.action?pageId=228889326

3.功能层面。①覆盖原有途经点、避障区域服务场景，同时新增文字导航功能；②优化跨省及全国路径规划，支持跨省、全国场景200个途经点100个避障区域，50并发，3S响应；③可基于交通态势数据，做基于实时路况的路径规划。

### 示例


```javascript
kmap.createRoutePlanningPro({
    startPoint: [120.464, 31.325],
    endPoint: [120.468, 31.391],
    draggableWayPoints: true,
    lineColor: 'black',
    // anchor: 'top',
    // lineStyle: 3,
    // markerVisible: false,    // 是否显示起始和结束点marker
    // lineWidth: 10,
    // offset: [20, 20],
    // showType: 2,    // 起始点和途经点样式风格:1文字、2数字
    // wayPoints: [
    //     [120.3849932747812, 31.32880134474928],
    //     [120.384992747812, 31.333168717037566]
    // ],
    // policy: 'roadFirst',
    // ferry: false,
    // alternativeRoute: true,
    encryption: false,
    routeDetail: ['maxSpeed', 'streetName'],
    // avoidArea: [
    //     [
    //         [120.38423274781258, 31.32880134474928],
    //         [120.38423274781258, 31.333168717037566],
    //         [120.38910650009751, 31.333168717037566],
    //         [120.38910650009751, 31.32880134474928],
    //         [120.38423274781258, 31.32880134474928]
    //     ],
    //     [
    //         [120.38423274781258, 31.32880134474928],
    //         [120.38423274781258, 31.333168717037566],
    //         [120.38910650009751, 31.333168717037566],
    //         [120.38910650009751, 31.32880134474928],
    //         [120.38423274781258, 31.32880134474928]
    //     ]
    // ],
    updateHandler(response, info) {
        console.log('update', response, info);
    },
    error(err) {
        console.log('error', err);
    },
    onError(errorInfo) {
        console.log('onError', errorInfo);
    },
    ended(res) {
        console.log('ended', res);
        min_dis_route = res.data;
    }
});
```


## removeRoutePlanningPro

### 描述

删除路径规划Pro。

### 参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|opts|true|[RemoveRoutePlanningOptions](#removerouteplanningoptions参数说明)|-|-|

#### RemoveRoutePlanningOptions参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|id|true|string|-|路径规划id|

### 示例


```javascript
kmap.removeRoutePlanningPro({
    id: '路径规划对象ID'
});
```


## resetRoutePlanningPro

### 描述

重新进行路径规划Pro

### 参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|opts|true|[ResetRoutePlanningProOptions](#resetrouteplanningprooptions参数说明)|-|-|

#### ResetRoutePlanningProOptions参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|id|true|string|-|创建路径规划返回的id|
|startPoint|false|[LngLat](#lnglat参数说明（类型）)|-|起点位置经纬度|
|endPoint|false|[LngLat](#lnglat参数说明（类型）)|-|终点位置经纬度|
|wayPoints|false|Array&lt;[LngLat](#lnglat参数说明（类型）)&gt;|[]|途经点坐标集合，单次添加不可超过20个，总数不能超过100（若在路径规划统一配置中修改过，则是修改后的值）|
|avoidArea|false|Array&lt;Array&lt;[LngLat](#lnglat参数说明（类型）)&gt;&gt;|[]|避让区域|
|lineColor|false|string|'red'|渲染轨迹的颜色，支持 rgb,rgba,16 进制色值,颜色名称|
|connectingLine|false|boolean|false|当起、终点不在路径规划线上时，是否使用虚线进行链接。true-连接，false-不连接|
|draggableWayPoints|false|boolean|-|是否启用可拖拽的途经点，true-开启，false-关闭；启用后可以通过拖拽规划线以添加途经点，同时会使鼠标移动类事件失效|

##### LngLat参数说明（类型）

|参数名称|类型|说明|
|:--|:--:|:--|
|LngLat|[number, number]|经纬度坐标|


当路径规划失败时，规划的途经点、避让区域会恢复至最近一次规划成功的值。

### 示例


```javascript
kmap.resetRoutePlanningPro({
    id: 'planId',
    startPoint:[123.45 , 23.23],
    endPoint: [123.45, 23.23]
});
```


## addWayPointPro

### 描述

路径规划Pro添加途经点。

### 参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|opts|true|[AddWayPointProOptions](#addwaypointprooptions参数说明)|-|-|

#### AddWayPointProOptions参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|id|true|string|-|创建路径规划返回的id|
|point|true|[LngLat](#lnglat参数说明（类型）)\|Array&lt;[LngLat](#lnglat参数说明（类型）)&gt;|-|途经点坐标集合，单次添加不可超过20个，总数不能超过100（若在路径规划统一配置中修改过，则是修改后的值）|

##### LngLat参数说明（类型）

|参数名称|类型|说明|
|:--|:--:|:--|
|LngLat|[number, number]|经纬度坐标|


当路径规划失败时，规划的途经点、避让区域会恢复至最近一次规划成功的值。

### 示例


```javascript
kmap.addWayPointPro({
    id: 'minTimeRoute',
    // point: [100, 120]  单个途经点，
    point: [ // 多个途经点
      [100, 120],
      [100, 120]
    ]
});
```


## addAvoidAreaPro

### 描述

路径规划添加障碍区域Pro。

### 参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|opts|true|[AddAvoidAreaOptions](#addavoidareaoptions参数说明)|-|-|

#### AddAvoidAreaOptions参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|id|true|string|-|创建路径规划返回的id|
|polygon|true|Array&lt;[LngLat](#lnglat参数说明（类型）)&gt;\|Array&lt;Array&lt;[LngLat](#lnglat参数说明（类型）)&gt;&gt;|-|需要添加的障碍区域面（支持单面和多面)|

##### LngLat参数说明（类型）

|参数名称|类型|说明|
|:--|:--:|:--|
|LngLat|[number, number]|经纬度坐标|


当路径规划失败时，规划的途经点、避让区域会恢复至最近一次规划成功的值。

### 示例


```javascript
kmap.addAvoidAreaPro({
    id: 'minTimeRoute',
    polygon: [
                [120.34503664667449, 31.332756999114864],
                [120.34503664667449, 31.331517959850586],
                [120.3492315328009, 31.331517959850586],
                [120.3492315328009, 31.332756999114864],
                [120.34503664667449, 31.332756999114864]
            ], // 单面
    polygon: [
                [
                    [120.34503664667449, 31.332756999114864],
                    [120.34503664667449, 31.331517959850586],
                    [120.3492315328009, 31.331517959850586],
                    [120.3492315328009, 31.332756999114864],
                    [120.34503664667449, 31.332756999114864]
                ],
                [
                    [120.37267127917039, 31.327222977620366],
                    [120.37267127917039, 31.3248135541579],
                    [120.37842128872796, 31.3248135541579],
                    [120.37842128872796, 31.327222977620366],
                    [120.37267127917039, 31.327222977620366]
                ]
            ] // 多面
});
```


## addEventOnRoutePlanningPro

### 描述

路径规划Pro添加路径事件。

### 参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|opts|true|[AddEventOnRoutePlanningOptions](#addeventonrouteplanningoptions参数说明)|-|-|

#### AddEventOnRoutePlanningOptions参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|id|true|string|-|创建路径规划返回的id|
|eventType|true|[RouteEventType](#routeeventtype参数说明)|-|路径事件类型|
|handler|true|[Function](#handler函数参数说明)|-|事件回调函数，回调参数是事件相关信息|

##### RouteEventType参数说明

|描述|实际值|
|:--|:--:|
|鼠标按下|mousedown|
|鼠标弹起|mouseup|
|点击|click|
|双击|dblclick|
|右键|contextmenu|
|鼠标移动|mousemove|
|鼠标进入|mouseenter|
|鼠标离开|mouseleave|
|鼠标悬浮|mouseover|
|鼠标移出|mouseout|

##### handler函数参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|event|[HandlerEvent](#handlerevent参数说明)|-|相关信息|

###### HandlerEvent参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|lngLat|object|-|经纬度|
|point|object|-|像素坐标|
|type|object|-|事件类型|
|originalEvent|object|-|原生事件对象|

### 示例


```javascript
kmap.addEventOnRoutePlanningPro({
    id: 'minTimeRoute',
    eventType: 'click',
    handler: function (res) {
        console.log(res);
    }
});
```


## removeEventOnRoutePlanningPro

### 描述

路径规划Pro删除路径事件。

### 参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|opts|true|[RemoveEventOnRoutePlanningOptions](#removeeventonrouteplanningoptions参数说明)|-|-|

#### RemoveEventOnRoutePlanningOptions参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|id|true|string|-|创建路径规划返回的id|
|eventType|true|[RouteEventType](#routeeventtype参数说明)|-|路径事件类型|

##### RouteEventType参数说明

|描述|实际值|
|:--|:--:|
|鼠标按下|mousedown|
|鼠标弹起|mouseup|
|点击|click|
|双击|dblclick|
|右键|contextmenu|
|鼠标移动|mousemove|
|鼠标进入|mouseenter|
|鼠标离开|mouseleave|
|鼠标悬浮|mouseover|
|鼠标移出|mouseout|

### 示例


```javascript
* kmap.removeEventOnRoutePlanningPro({
    id: 'minTimeRoute',
    eventType: 'click'
});
```


## 步行路径规划Pro

## createWalkingRoutePlanningPro

### 描述

创建步行路径规划，能够返回文字导航信息以及多条备选路线。使用此功能需要部署路径规划服务Pro。

### 参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|opts|true|[CreateWalkingRoutePlanningProOptions](#createwalkingrouteplanningprooptions参数说明)|-|-|

#### CreateWalkingRoutePlanningProOptions参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|startPoint|true|[LngLat](#lnglat参数说明（类型）)|-|起点位置经纬度坐标|
|endPoint|true|[LngLat](#lnglat参数说明（类型）)|-|终点位置经纬度坐标|
|alternativeRoute|false|boolean|false|是否需要备选路线（一共最多3条路线），false-不需要，true-需要，传入途经点时会使此参数转为false|
|solutionMarker|false|boolean|false|是否需要备选路线覆盖物，仅在路线多于一条时显示，用于点击切换路线，false-不需要，true-需要|
|routeDetail|false|Array&lt;string&gt;|-|规划结果是否需要展示摘要，可选值streetName-道路名称，maxSpeed-限速值，如果传入该值，会在updateHandler方法中的第一个回调参数中返回showFields.max_speed/showFields.street_name字段，数组中第三项为详情值，第一二项为详情值的坐标区间|
|lineColor|false|string|'red'|渲染轨迹的颜色，支持 rgb,rgba,16 进制色值,颜色名称|
|lineStyle|false|string\|number|-|0（蓝色箭头），1(红色箭头)，2（黄色箭头），3（绿色箭头），也可以使用字符串自定义雪碧图，不可以与lineColor同时作用，若同时存在，优先取此值|
|linePatternFlowable|false|boolean|-|在使用 lineStyle 设置线路纹理的时候，是否显示流动线|
|customFlowPatterns|false|Array&lt;string&gt;|-|自定义流动线纹理样式，传入多个雪碧图名称，组成流动线效果|
|lineWidth|false|number|6|轨迹宽度，单位px|
|offset|false|[Offset](#offset参数说明（类型）)|[0, 0]|起点,终点,途径点标记的偏移量|
|markerVisible|false|boolean|true|是否显示起始点图标|
|showType|false|number|1|起始点和途经点样式风格：1文字形式，2数字形式|
|connectingLine|false|boolean|false|当起、终点不在路径规划线上时，是否使用虚线进行链接。true-连接，false-不连接|
|pointStyle|false|[RouteWalkPointStyle](#routewalkpointstyle参数说明)|-|起点、终点、途径点的样式|
|onError|false|[Function](#onerror函数参数说明)|-|规划失败的错误回调函数，回调参数包含错误码及错误信息|
|error|false|[Function](#error函数参数说明)|-|规划失败的错误回调函数，回调参数为错误信息|
|updateHandler|false|[Function](#updatehandler函数参数说明)|-|路径规划获取到数据的回调函数，第一个回调参数是获取到的规划结果信息，第二个回调参数是请求规划的相关信息|
|ended|false|[Function](#ended函数参数说明)|-|路径规划回调函数|

##### LngLat参数说明（类型）

|参数名称|类型|说明|
|:--|:--:|:--|
|LngLat|[number, number]|经纬度坐标|

##### Offset参数说明（类型）

|参数名称|类型|说明|
|:--|:--:|:--|
|Offset|[number, number]|相对于锚点偏移量|

##### RouteWalkPointStyle参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|startPoint|false|[RoutePointItemStyle](#routepointitemstyle参数说明)|-|起点的样式|
|endPoint|false|[RoutePointItemStyle](#routepointitemstyle参数说明)|-|起点的样式|

###### RoutePointItemStyle参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|iconName|true|string|-|图标名称|
|iconScale|false|number|1|图标缩放比例|
|anchor|false|[Anchor](#anchor参数说明)|KMap.ANCHOR.BOTTOM|图标的锚点|
|offset|false|[Offset](#offset参数说明（类型）)|[0, 0]|图标的偏移量|

###### Anchor参数说明

|参数名称|描述|实际值|
|:--|:--|:--:|
|KMap.ANCHOR.CENTER|中心|center|
|KMap.ANCHOR.TOP|顶部|top|
|KMap.ANCHOR.BOTTOM|底部|bottom|
|KMap.ANCHOR.LEFT|左侧|left|
|KMap.ANCHOR.RIGHT|右侧|right|
|KMap.ANCHOR.TOP_LEFT|左上方|top-left|
|KMap.ANCHOR.TOP_RIGHT|右上方|top-right|
|KMap.ANCHOR.BOTTOM_LEFT|左下方|bottom-left|
|KMap.ANCHOR.BOTTOM_RIGHT|右下方|bottom-right|

##### onError函数参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|event|[OnErrorEvent](#onerrorevent参数说明)|-|错误信息|

###### OnErrorEvent参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|code|string|-|错误码|
|message|string|-|错误信息|

##### error函数参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|event|string\|[Error](#error参数说明)|-|错误信息|

##### updateHandler函数参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|event|Object|-|规划结果|
|info|[UpdateHandlerInfo](#updatehandlerinfo参数说明)|-|规划相关信息|

###### UpdateHandlerInfo参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|startPoint|[LngLat](#lnglat参数说明（类型）)|-|起点经纬度|
|endPoint|[LngLat](#lnglat参数说明（类型）)|-|终点经纬度|
|waypoints|Array&lt;[LngLat](#lnglat参数说明（类型）)&gt;|-|途经点信息|
|avoidAreas|Array&lt;Array&lt;[LngLat](#lnglat参数说明（类型）)&gt;&gt;|-|避让区域信息|

###### LngLat参数说明（类型）

|参数名称|类型|说明|
|:--|:--:|:--|
|LngLat|[number, number]|经纬度坐标|

##### ended函数参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|event|[EndedEvent](#endedevent参数说明)|-|结束回调信息|

###### EndedEvent参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|status|number|-|10-成功,20-失败|
|data|string|-|路径规划id，用于绑定事件，更新、移除规划等操作|


相较于路径规划服务1.0版本，有以下优点：

1.部署层面。服务不依赖pg数据库等其他三方组件，部署简单（路径规划服务1.0版本依赖postgresql数据库版本）。

2.性能层面。同等硬件资源和测试场景下，路径规划服务Pro效率明显优于路径规划服务1.0版本，测试报告详见：https://oa.kedacom.com/confluence/pages/viewpage.action?pageId=228889326

3.功能层面。①覆盖原有途经点、避障区域服务场景，同时新增文字导航功能；②优化跨省及全国路径规划，支持跨省、全国场景200个途经点100个避障区域，50并发，3S响应；③可基于交通态势数据，做基于实时路况的路径规划。

### 示例


```javascript
kmap.createWalkingRoutePlanningPro({
    startPoint: [120.464, 31.325],
    endPoint: [120.468, 31.391],
    lineColor: 'green',
    // anchor: 'top',
    lineStyle: 3,
    // markerVisible: false,    // 是否显示起始和结束点marker
    // lineWidth: 10,
    // offset: [20, 20],
    // showType: 2,    // 起始点和途经点样式风格:1文字、2数字
    // alternativeRoute: true,  // 启用备选路线
    // encryption: false,
    // routeDetail: ['maxSpeed', 'streetName'],
    updateHandler(response, info) {
        console.log('update', response, info);
    },
    error(err) {
        console.log('error', err);
    },
    onError(errorInfo) {
        console.log('onError', errorInfo);
    },
    ended: function (res) {
        console.log('ended', res)
    }
});
```


## removeWalkingRoutePlanningPro

### 描述

删除步行路径规划Pro。

### 参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|opts|true|[RemoveWalkingRoutePlanningOptions](#removewalkingrouteplanningoptions参数说明)|-|-|

#### RemoveWalkingRoutePlanningOptions参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|id|true|string|-|步行路径规划id|

### 示例


```javascript
kmap.removeWalkingRoutePlanningPro({
    id: '步行路径规划id'
});
```


## resetWalkingRoutePlanningPro

### 描述

重新进行步行路径规划Pro。

### 参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|opts|true|[ResetWalkingRoutePlanningOptions](#resetwalkingrouteplanningoptions参数说明)|-|-|

#### ResetWalkingRoutePlanningOptions参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|id|true|string|-|创建路径规划返回的id|
|startPoint|false|[LngLat](#lnglat参数说明（类型）)|-|起点位置经纬度|
|endPoint|false|[LngLat](#lnglat参数说明（类型）)|-|终点位置经纬度|
|lineColor|false|string|'red'|渲染轨迹的颜色，支持 rgb,rgba,16 进制色值,颜色名称|
|connectingLine|false|boolean|false|当起、终点不在路径规划线上时，是否使用虚线进行链接。true-连接，false-不连接|

##### LngLat参数说明（类型）

|参数名称|类型|说明|
|:--|:--:|:--|
|LngLat|[number, number]|经纬度坐标|

### 示例


```javascript
kmap.resetWalkingRoutePlanningPro({
    id: 'planId',
    startPoint:[123.45, 23.23],
    endPoint: [123.45, 23.23]
});
```


## addEventOnWalkingRoutePlanningPro

### 描述

步行路径规划Pro添加路径事件。

### 参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|opts|true|[AddEventOnWalkingRoutePlanningOptions](#addeventonwalkingrouteplanningoptions参数说明)|-|-|

#### AddEventOnWalkingRoutePlanningOptions参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|id|true|string|-|创建路径规划返回的id|
|eventType|true|[RouteEventType](#routeeventtype参数说明)|-|路径事件类型|
|handler|true|[Function](#handler函数参数说明)|-|事件回调函数，回调参数是事件相关信息|

##### RouteEventType参数说明

|描述|实际值|
|:--|:--:|
|鼠标按下|mousedown|
|鼠标弹起|mouseup|
|点击|click|
|双击|dblclick|
|右键|contextmenu|
|鼠标移动|mousemove|
|鼠标进入|mouseenter|
|鼠标离开|mouseleave|
|鼠标悬浮|mouseover|
|鼠标移出|mouseout|

##### handler函数参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|event|[HandlerEvent](#handlerevent参数说明)|-|事件对象|

###### HandlerEvent参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|lngLat|object|-|经纬度|
|point|object|-|像素坐标|
|type|object|-|事件类型|
|originalEvent|object|-|原生事件对象|

### 示例


```javascript
kmap.addEventOnWalkingRoutePlanningPro({
    id: 'walking',
    eventType: 'click',
    handler: function (res) {
        console.log(res);
    }
});
```


## removeEventOnWalkingRoutePlanningPro

### 描述

步行路径规划删除路径事件Pro。

### 参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|opts|true|[RemoveEventOnWalkingRoutePlanningOptions](#removeeventonwalkingrouteplanningoptions参数说明)|-|-|

#### RemoveEventOnWalkingRoutePlanningOptions参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|id|true|string|-|创建路径规划返回的id|
|eventType|true|[RouteEventType](#routeeventtype参数说明)|-|路径事件类型|

##### RouteEventType参数说明

|描述|实际值|
|:--|:--:|
|鼠标按下|mousedown|
|鼠标弹起|mouseup|
|点击|click|
|双击|dblclick|
|右键|contextmenu|
|鼠标移动|mousemove|
|鼠标进入|mouseenter|
|鼠标离开|mouseleave|
|鼠标悬浮|mouseover|
|鼠标移出|mouseout|

### 示例


```javascript
kmap.removeEventOnWalkingRoutePlanningPro({
    id: 'walking',
    eventType: 'click'
});
```

# 动态绑定

## 主载体追踪

## createMainCarrierTracking

### 描述

创建主载体追踪

### 参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|opts|true|[CreateMainCarrierTrackingOptions](#createmaincarriertrackingoptions参数说明)|-|-|

#### CreateMainCarrierTrackingOptions参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|serviceName|true|string|-|图层标识|
|targetType|false|[ActorTargetType](#actortargettype参数说明)|KMap.ACTOR_TARGET_TYPE.DEVICE|运动对象类型，详情参考下方运动对象类型常量表|
|gbids|false|Array&lt;string&gt;|-|设备gbid列表,如果通过gbids指定订阅列表,terms和businessTerms过滤将失效|
|terms|false|Array&lt;[Term](#term参数说明)&gt;|-|数据过滤条件|
|businessTerms|false|Array&lt;[Term](#term参数说明)&gt;|-|关联私有空间过滤条件,如果未关联私有空间不需要指定该参数|
|clusterLayerProps|true|Object|-|具体参数与自有数据图层保持一致,serviceNames,isPublic,clustered,dynamic,maxZoom,maxClusteredZoom,terms,privateTerms参数不需要重复指定,程序内部处理与追踪模式保持一致.|
|clusterZoom|false|number|15|聚合图层模式与追踪模式临界层级|
|animation|false|boolean|true|设备是否以动画形式平滑过渡|
|maxDuration|false|number|5000|相邻两次推送最大时间间隔，超过该值，此段数据将不渲染轨迹|
|maxDistance|false|number|-|相邻两次推送最大距离间隔，单位 km，超过该值，此段数据将不渲染轨迹|
|autoDirection|false|boolean|false|运动对象是否根据运行方向改变旋转角|
|icons|true|Array&lt;[CarrierActorIconStyle](#carrieractoriconstyle参数说明)&gt;|-|多图标过滤条件,至少要指定一个图标|
|pointRadius|false|number|4|关键节点的半径|
|pointColor|false|string|'gray'|关键节点的颜色，支持 rgb,rgba,16 进制色值,颜色名称|
|trackWidth|false|number|6|轨迹宽度|
|trackColor|false|string|'gray'|轨迹颜色,支持 rgb,rgba,16 进制色值,颜色名称|
|trackIsSolid|false|boolean|true|轨迹是否为虚线|
|trackPattern|false|string\|[TrackLinePattern](#tracklinepattern参数说明)|-|轨迹箭头样式，详情参考下方轨迹线纹理样式常量表格，也可以使用字符串自定义雪碧图|
|onkeypointchange|false|[Function](#onkeypointchange函数参数说明)|-|关键节点变更回调函数|
|ontrackerschange|false|[Function](#ontrackerschange函数参数说明)|-|运行时,列表发生变化时触发|
|onerror|false|[Function](#onerror函数参数说明)|-|运行时任何异常将会触发,返回错误信息，为了兼容旧版本，暂时保留，尽量避免使用，统一使用 onError 错误回调函数|
|onError|false|[Function](#onerror函数参数说明)|-|错误回调函数|
|ended|false|[Function](#ended函数参数说明)|-|结束回调|

##### ActorTargetType参数说明

|参数名称|描述|实际值|
|:--|:--|:--:|
|KMap.ACTOR_TARGET_TYPE.DEVICE|设备|0|
|KMap.ACTOR_TARGET_TYPE.ACCOUNT|人员账号|1|
|KMap.ACTOR_TARGET_TYPE.KEY_PERSONNEL|重点人员|2|

##### Term参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|column|true|string|-|过滤字段，对于人员账号，需要传 targetType 值为 5；对于重点人员，需要传 targetType 值为 27；其它情况默认无需填写|
|termType|true|string|-|过滤条件,例如eq,neq,like,nlike,gt,lt,gte,lte,in,nin,prefix,subfix,isnull,notnull,should。其中like、nlike、prefix、subfix只能用于过滤值为字符串类型。|
|value|true|string\|number\|Array&lt;number&gt;\|Array&lt;string&gt;|-|过滤值|
|type|false|string|'and'|term之间的过滤关系.可选"and"和"or",如果存在至少一个and,过滤所有and对应的并集,如果全部是or,返回所有数据， 如果要过滤某个条件可以匹配多个值中的任何一个， 可以使用termType="in".|
|filterType|false|number|0|公有属性及私有属性标记，0为私有属性，1为公有属性，在查询公有图层数据时，根据该字段区分公私有属性，不填默认为私有|
|analyzeEnum|false|string|'not_analyze'|userId、deptId、roleId必须设置成default_analyze,上传数据指定的拼音分词需要设置成pinyin_analyze,默认不分词|
|terms|false|Array&lt;[Term](#term参数说明)&gt;|-|即当前Term，支持循环使用|

##### CarrierActorIconStyle参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|actorTemplate|false|string|-|运动对象显示内容|
|actorWidth|false|number|20|运动对象容器宽度|
|actorHeight|false|number|20|运动对象容器高度|
|actorRotation|false|number|0|运动对象旋转角度,以正北方向为准|
|actorIcon|false|string|-|雪碧图图标名称， 如果设置了该参数， actorContent, actorWidth, actorHeight, actorRotation 将失效|
|actorIconText|false|string|-|指定数据源中的属性显示为文本，使用私有属性时，要加前缀 private_ ，支持指定单个属性如：'name'，也支持指定多个属性如：'设备名称：{name}，设备id：{gbid}|
|actorNonBackground|false|boolean|false|雪碧图图标是否取消组合背景图标，默认不取消组合背景图标|
|actorIconBackground|false|string|'direction'|自定义运动对象背景图标，在 actorNonBackground 为 false 时该参数有效|
|actorScale|false|number|1|雪碧图图标缩放比例，该参数针对 actorIcon 生效|
|actorOffset|false|[Offset](#offset参数说明（类型）)|[0,0]|动对象位置偏移|
|filter|false|Array&lt;[FilterObject](#filterobject参数说明)&gt;|-|过滤条件|

###### Offset参数说明（类型）

|参数名称|类型|说明|
|:--|:--:|:--|
|Offset|[number, number]|相对于锚点偏移量|

###### FilterObject参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|key|true|string|-|过滤字段|
|value|true|string|-|过滤值|

##### TrackLinePattern参数说明

|参数名称|描述|实际值|
|:--|:--|:--:|
|KMap.TRACK_LINE_PATTERN.BLUE|蓝色纹理|0|
|KMap.TRACK_LINE_PATTERN.RED|红色纹理|1|
|KMap.TRACK_LINE_PATTERN.YELLOW|黄色纹理|2|
|KMap.TRACK_LINE_PATTERN.GREEN|绿色纹理|3|

##### onkeypointchange函数参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|res|[OnkeypointchangeRes](#onkeypointchangeres参数说明)|-|当前设备所在点位的要素信息|

###### OnkeypointchangeRes参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|gbid|string|-|设备 gbid|
|properties|[MessageData](#messagedata参数说明)|-|设备当前所在点位的要素信息|

###### MessageData参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|longitude|number|-|经度|
|latitude|number|-|纬度|
|timestamp|string|-|时间|
|direction|number|-|运动方向|
|keyPoint|Object|-|关键节点信息|

##### ontrackerschange函数参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|data|Object|-|关联设备的当前点位的要素信息|

##### onerror函数参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|error|[IErrorCodeInfo](#ierrorcodeinfo参数说明)|-|错误信息|

###### IErrorCodeInfo参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|code|string|-|错误码编号|
|message|string|-|错误信息|

##### onError函数参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|error|[IErrorCodeInfo](#ierrorcodeinfo参数说明)|-|错误信息|

##### ended函数参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|res|[EndedRes](#endedres参数说明)|-|结束回调信息|

###### EndedRes参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|status|number|-|10-成功,20-失败|
|data|string|-|主载体追踪 id|

### 示例


```javascript
kmap.createMainCarrierTracking({
   serviceName: '{{创建主载体追踪的serviceName}}',
   clusterLayerProps: '{{自有数据图层渲染配置}}',
   icons: [
       {
           actorContent: {{图标内容}},
           actorWidth: {{图标宽度}},
           actorHeight: {{图标高度}},
           actorRotation: {{图标初始旋转角度}},
           actorOffset: {{图标旋转角度}},
           filter: [
               {
                   key: {{过滤字段}},
                   value: {{过滤字段的值}}
               }
           ]
       }
   ],
   gbids: [
       '{{主载体国标id}}',
       '{{主载体国标id}}',
       .....
   ],
   clusterZoom: 15,
   trackPattern: {{轨迹样式}},
   trackWidth: {{轨迹宽度}},
   trackColor: {{轨迹颜色}},
   ended: function(res) { }
});
```


## removeMainCarrierTracking

### 描述

删除主载体追踪

### 参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|opts|true|[RemoveMainCarrierTrackingOptions](#removemaincarriertrackingoptions参数说明)|-|-|

#### RemoveMainCarrierTrackingOptions参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|id|true|string|-|创建主载体追踪时返回的id|

### 示例


```javascript
kmap.removeMainCarrierTracking({
   id: {{主载体追踪ID}}
});
```


## addMainCarrierTrackingEvent

### 描述

绑定主载体追踪事件，包括运动对象事件,轨迹事件和图层事件。

### 参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|opts|true|[AddMainCarrierTrackingEventOptions](#addmaincarriertrackingeventoptions参数说明)|-|-|

#### AddMainCarrierTrackingEventOptions参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|id|true|string|-|创建主载体追踪时返回的id|
|type|true|number|-|0=关键节点，1=运动对象，2=轨迹，3=图层事件|
|event|true|[TrackOverlayEventType](#trackoverlayeventtype参数说明)\|[TrackLayerEventType](#tracklayereventtype参数说明)|-|事件类型|
|handler|true|[Function](#function参数说明)|-|事件回调函数|

##### TrackOverlayEventType参数说明

|描述|实际值|
|:--|:--:|
|点击|click|
|双击|dblclick|
|右键|contextmenu|
|鼠标按下|mousedown|
|鼠标弹起|mouseup|
|鼠标进入|mouseenter|
|鼠标悬浮|mouseover|
|鼠标移动|mousemove|
|鼠标移出|mouseout|
|鼠标离开|mouseleave|

##### TrackLayerEventType参数说明

|描述|实际值|
|:--|:--:|
|鼠标按下|mousedown|
|鼠标弹起|mouseup|
|点击|click|
|双击|dblclick|
|右键|contextmenu|
|鼠标移动|mousemove|
|鼠标进入|mouseenter|
|鼠标离开|mouseleave|
|鼠标悬浮|mouseover|
|鼠标移出|mouseout|

### 示例


```javascript
kmap.addMainCarrierTrackingEvent({
   id: {{主载体追踪ID}},
   type: 1,
   event: 'click',
   handler: function() {

   }
});
```


## removeMainCarrierTrackingEvent

### 描述

删除主载体追踪事件，包括运动对象事件,轨迹事件和图层事件。

### 参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|opts|true|[RemoveMainCarrierTrackingEventOptions](#removemaincarriertrackingeventoptions参数说明)|-|-|

#### RemoveMainCarrierTrackingEventOptions参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|id|true|string|-|创建主载体追踪时返回的id|
|type|true|number|-|0=关键节点，1=运动对象，2=轨迹，3=图层事件|
|event|true|[TrackOverlayEventType](#trackoverlayeventtype参数说明)\|[TrackLayerEventType](#tracklayereventtype参数说明)|-|事件类型|

##### TrackOverlayEventType参数说明

|描述|实际值|
|:--|:--:|
|点击|click|
|双击|dblclick|
|右键|contextmenu|
|鼠标按下|mousedown|
|鼠标弹起|mouseup|
|鼠标进入|mouseenter|
|鼠标悬浮|mouseover|
|鼠标移动|mousemove|
|鼠标移出|mouseout|
|鼠标离开|mouseleave|

##### TrackLayerEventType参数说明

|描述|实际值|
|:--|:--:|
|鼠标按下|mousedown|
|鼠标弹起|mouseup|
|点击|click|
|双击|dblclick|
|右键|contextmenu|
|鼠标移动|mousemove|
|鼠标进入|mouseenter|
|鼠标离开|mouseleave|
|鼠标悬浮|mouseover|
|鼠标移出|mouseout|

### 示例


```javascript
kmap.removeMainCarrierTrackingEvent({
   id: {{主载体追踪ID}},
   type: 1,
   event: 'click'
});
```


## setMainCarrierActor

### 描述

设置主载体运动对象

### 参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|opts|true|[SetMainCarrierActorOptions](#setmaincarrieractoroptions参数说明)|-|-|

#### SetMainCarrierActorOptions参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|id|true|string|-|创建主载体追踪时返回的id|
|gbid|true|string|-|设备国标id|
|actorTemplate|false|string|-|运动对象内容，html字符串|
|actorWidth|false|number|-|运动对象容器宽度|
|actorHeight|false|number|-|运动对象容器高度|
|actorVisible|false|boolean|-|运动对象是否显示|
|actorIcon|false|string|-|雪碧图图标名称|

### 示例


```javascript
kmap.setMainCarrierActor({
   id: {{主载体追踪id}},
   gbid: {{主载体gbid}},
   actorVisible: true
});
```


## setMainCarrierTrack

### 描述

设置主载体轨迹

### 参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|opts|true|[SetMainCarrierTrackOptions](#setmaincarriertrackoptions参数说明)|-|-|

#### SetMainCarrierTrackOptions参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|id|true|string|-|创建主载体追踪时返回的id|
|gbid|true|string|-|设备国标id|
|trackVisible|true|boolean|-|轨迹是否显示|

### 示例


```javascript
kmap.setMainCarrierTrack({
   id: {{主载体追踪id}},
   gbid: {{主载体gbid}},
   trackVisible: true
});
```


## setMainCarrierSlot

### 描述

设置主载体容器

### 参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|opts|true|[SetMainCarrierSlotOptions](#setmaincarrierslotoptions参数说明)|-|-|

#### SetMainCarrierSlotOptions参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|id|true|string|-|创建主载体追踪时返回的id|
|gbid|true|string|-|设备国标id|
|type|true|[CarrierSlotPosition](#carrierslotposition参数说明)|-|容器类型|
|slotTemplate|false|string|-|容器内容|
|slotVisible|false|boolean|-|容器是否显示|

##### CarrierSlotPosition参数说明

|参数名称|描述|实际值|
|:--|:--|:--:|
|KMap.CARRIER_SLOT_POSITION.TOP|上方|0|
|KMap.CARRIER_SLOT_POSITION.BOTTOM|下方|1|

### 示例


```javascript
kmap.setMainCarrierSlot({
   id: {{主载体追踪id}},
   gbid: {{主载体gbid}},
   type: 0,
   slotTemplate: {{容器内容}},
   slotVisible: true
});
```

## setMainCarrierPoint

### 描述

设置主载体关键节点

### 参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|opts|true|[SetMainCarrierPointOptions](#setmaincarrierpointoptions参数说明)|-|-|

#### SetMainCarrierPointOptions参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|id|true|string|-|创建主载体追踪时返回的id|
|gbid|true|string|-|设备国标id|
|pointVisible|true|boolean|-|关键节点是否显示|

### 示例


```javascript
kmap.setMainCarrierPoint({
   id: {{主载体追踪id}},
   gbid: {{主载体gbid}},
   pointVisible: true
});
```


## 副载体追踪

## createDeputyCarrierTracking

### 描述

创建副载体追踪

### 参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|opts|true|[CreateDeputyCarrierTrackingOptions](#createdeputycarriertrackingoptions参数说明)|-|-|

#### CreateDeputyCarrierTrackingOptions参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|serviceName|true|string|-|图层标识|
|targetType|false|[ActorTargetType](#actortargettype参数说明)|KMap.ACTOR_TARGET_TYPE.DEVICE|运动对象类型，详情参考下方运动对象类型常量表|
|gbids|false|Array&lt;string&gt;|-|设备gbid列表,如果通过gbids指定订阅列表,terms和businessTerms过滤将失效|
|terms|false|Array&lt;[Term](#term参数说明)&gt;|-|数据过滤条件|
|businessTerms|false|Array&lt;[Term](#term参数说明)&gt;|-|关联私有空间过滤条件,如果未关联私有空间不需要指定该参数|
|clusterLayerProps|true|Object|-|具体参数与自有数据图层保持一致,serviceNames,isPublic,clustered,dynamic,maxZoom,maxClusteredZoom,terms,privateTerms参数不需要重复指定,程序内部处理与追踪模式保持一致.|
|clusterZoom|false|number|15|聚合图层模式与追踪模式临界层级|
|animation|false|boolean|true|设备是否以动画形式平滑过渡|
|maxDuration|false|number|5000|相邻两次推送最大时间间隔，超过该值，此段数据将不渲染轨迹|
|maxDistance|false|number|-|相邻两次推送最大距离间隔，单位 km，超过该值，此段数据将不渲染轨迹|
|autoDirection|false|boolean|false|运动对象是否根据运行方向改变旋转角|
|icons|true|Array&lt;[CarrierActorIconStyle](#carrieractoriconstyle参数说明)&gt;|-|多图标过滤条件,至少要指定一个图标|
|pointRadius|false|number|4|关键节点的半径|
|pointColor|false|string|'gray'|关键节点的颜色，支持 rgb,rgba,16 进制色值,颜色名称|
|trackWidth|false|number|6|轨迹宽度|
|trackColor|false|string|'gray'|轨迹颜色,支持 rgb,rgba,16 进制色值,颜色名称|
|trackIsSolid|false|boolean|true|轨迹是否为虚线|
|trackPattern|false|string\|[TrackLinePattern](#tracklinepattern参数说明)|-|轨迹箭头样式，详情参考下方轨迹线纹理样式常量表格，也可以使用字符串自定义雪碧图|
|onkeypointchange|false|[Function](#onkeypointchange函数参数说明)|-|关键节点变更回调函数|
|ontrackerschange|false|[Function](#ontrackerschange函数参数说明)|-|运行时,列表发生变化时触发|
|onerror|false|[Function](#onerror函数参数说明)|-|运行时任何异常将会触发,返回错误信息，为了兼容旧版本，暂时保留，尽量避免使用，统一使用 onError 错误回调函数|
|onError|false|[Function](#onerror函数参数说明)|-|错误回调函数|
|ended|false|[Function](#ended函数参数说明)|-|结束回调|

##### ActorTargetType参数说明

|参数名称|描述|实际值|
|:--|:--|:--:|
|KMap.ACTOR_TARGET_TYPE.DEVICE|设备|0|
|KMap.ACTOR_TARGET_TYPE.ACCOUNT|人员账号|1|
|KMap.ACTOR_TARGET_TYPE.KEY_PERSONNEL|重点人员|2|

##### Term参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|column|true|string|-|过滤字段，对于人员账号，需要传 targetType 值为 5；对于重点人员，需要传 targetType 值为 27；其它情况默认无需填写|
|termType|true|string|-|过滤条件,例如eq,neq,like,nlike,gt,lt,gte,lte,in,nin,prefix,subfix,isnull,notnull,should。其中like、nlike、prefix、subfix只能用于过滤值为字符串类型。|
|value|true|string\|number\|Array&lt;number&gt;\|Array&lt;string&gt;|-|过滤值|
|type|false|string|'and'|term之间的过滤关系.可选"and"和"or",如果存在至少一个and,过滤所有and对应的并集,如果全部是or,返回所有数据， 如果要过滤某个条件可以匹配多个值中的任何一个， 可以使用termType="in".|
|filterType|false|number|0|公有属性及私有属性标记，0为私有属性，1为公有属性，在查询公有图层数据时，根据该字段区分公私有属性，不填默认为私有|
|analyzeEnum|false|string|'not_analyze'|userId、deptId、roleId必须设置成default_analyze,上传数据指定的拼音分词需要设置成pinyin_analyze,默认不分词|
|terms|false|Array&lt;[Term](#term参数说明)&gt;|-|即当前Term，支持循环使用|

##### CarrierActorIconStyle参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|actorTemplate|false|string|-|运动对象显示内容|
|actorWidth|false|number|20|运动对象容器宽度|
|actorHeight|false|number|20|运动对象容器高度|
|actorRotation|false|number|0|运动对象旋转角度,以正北方向为准|
|actorIcon|false|string|-|雪碧图图标名称， 如果设置了该参数， actorContent, actorWidth, actorHeight, actorRotation 将失效|
|actorIconText|false|string|-|指定数据源中的属性显示为文本，使用私有属性时，要加前缀 private_ ，支持指定单个属性如：'name'，也支持指定多个属性如：'设备名称：{name}，设备id：{gbid}|
|actorNonBackground|false|boolean|false|雪碧图图标是否取消组合背景图标，默认不取消组合背景图标|
|actorIconBackground|false|string|'direction'|自定义运动对象背景图标，在 actorNonBackground 为 false 时该参数有效|
|actorScale|false|number|1|雪碧图图标缩放比例，该参数针对 actorIcon 生效|
|actorOffset|false|[Offset](#offset参数说明（类型）)|[0,0]|动对象位置偏移|
|filter|false|Array&lt;[FilterObject](#filterobject参数说明)&gt;|-|过滤条件|

###### Offset参数说明（类型）

|参数名称|类型|说明|
|:--|:--:|:--|
|Offset|[number, number]|相对于锚点偏移量|

###### FilterObject参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|key|true|string|-|过滤字段|
|value|true|string|-|过滤值|

##### TrackLinePattern参数说明

|参数名称|描述|实际值|
|:--|:--|:--:|
|KMap.TRACK_LINE_PATTERN.BLUE|蓝色纹理|0|
|KMap.TRACK_LINE_PATTERN.RED|红色纹理|1|
|KMap.TRACK_LINE_PATTERN.YELLOW|黄色纹理|2|
|KMap.TRACK_LINE_PATTERN.GREEN|绿色纹理|3|

##### onkeypointchange函数参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|res|[OnkeypointchangeRes](#onkeypointchangeres参数说明)|-|当前设备所在点位的要素信息|

###### OnkeypointchangeRes参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|gbid|string|-|设备 gbid|
|properties|[MessageData](#messagedata参数说明)|-|设备当前所在点位的要素信息|

###### MessageData参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|longitude|number|-|经度|
|latitude|number|-|纬度|
|timestamp|string|-|时间|
|direction|number|-|运动方向|
|keyPoint|Object|-|关键节点信息|

##### ontrackerschange函数参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|data|Object|-|关联设备的当前点位的要素信息|

##### onerror函数参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|error|[IErrorCodeInfo](#ierrorcodeinfo参数说明)|-|错误信息|

###### IErrorCodeInfo参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|code|string|-|错误码编号|
|message|string|-|错误信息|

##### onError函数参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|error|[IErrorCodeInfo](#ierrorcodeinfo参数说明)|-|错误信息|

##### ended函数参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|res|[EndedRes](#endedres参数说明)|-|结束回调信息|

###### EndedRes参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|status|number|-|10-成功,20-失败|
|data|string|-|副载体追踪 id|

### 示例


```javascript
kmap.createDeputyCarrierTracking({
   serviceName: '{{创建副载体追踪的serviceName}}',
   clusterLayerProps: '{{自有数据图层渲染配置}}',
   icons: [
       {
           actorContent: {{图标内容}},
           actorWidth: {{图标宽度}},
           actorHeight: {{图标高度}},
           actorRotation: {{图标初始旋转角度}},
           actorOffset: {{图标旋转角度}},
           filter: [
               {
                   key: {{过滤字段}},
                   value: {{过滤字段的值}}
               }
           ]
       }
   ],
   gbids: [
       '{{副载体国标id}}',
       '{{副载体国标id}}',
       .....
   ],
   clusterZoom: 15,
   trackPattern: {{轨迹样式}},
   trackWidth: {{轨迹宽度}},
   trackColor: {{轨迹颜色}},
   ended: function(res) { }
});
```


## removeDeputyCarrierTracking

### 描述

删除副载体追踪

### 参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|opts|true|[RemoveDeputyCarrierTrackingOptions](#removedeputycarriertrackingoptions参数说明)|-|-|

#### RemoveDeputyCarrierTrackingOptions参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|id|true|string|-|创建副载体追踪时返回的id|

### 示例


```javascript
kmap.removeDeputyCarrierTracking({
   id: {{副载体追踪ID}}
});
```


## addDeputyCarrierTrackingEvent

### 描述

绑定副载体追踪事件，包括运动对象事件,轨迹事件和图层事件。

### 参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|opts|true|[AddDeputyCarrierTrackingEventOptions](#adddeputycarriertrackingeventoptions参数说明)|-|-|

#### AddDeputyCarrierTrackingEventOptions参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|id|true|string|-|创建副载体追踪时返回的id|
|type|true|number|-|0=关键节点，1=运动对象，2=轨迹，3=图层事件|
|event|true|[TrackOverlayEventType](#trackoverlayeventtype参数说明)\|[TrackLayerEventType](#tracklayereventtype参数说明)|-|事件类型|
|handler|true|[Function](#function参数说明)|-|事件回调函数|

##### TrackOverlayEventType参数说明

|描述|实际值|
|:--|:--:|
|点击|click|
|双击|dblclick|
|右键|contextmenu|
|鼠标按下|mousedown|
|鼠标弹起|mouseup|
|鼠标进入|mouseenter|
|鼠标悬浮|mouseover|
|鼠标移动|mousemove|
|鼠标移出|mouseout|
|鼠标离开|mouseleave|

##### TrackLayerEventType参数说明

|描述|实际值|
|:--|:--:|
|鼠标按下|mousedown|
|鼠标弹起|mouseup|
|点击|click|
|双击|dblclick|
|右键|contextmenu|
|鼠标移动|mousemove|
|鼠标进入|mouseenter|
|鼠标离开|mouseleave|
|鼠标悬浮|mouseover|
|鼠标移出|mouseout|

### 示例


```javascript
kmap.addDeputyCarrierTrackingEvent({
   id: {{副载体追踪ID}},
   type: 1,
   event: 'click',
   handler: function() {
   }
});
```


## removeDeputyCarrierTrackingEvent

### 描述

删除副载体追踪事件，包括运动对象事件,轨迹事件和图层事件。

### 参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|opts|true|[RemoveDeputyCarrierTrackingEventOptions](#removedeputycarriertrackingeventoptions参数说明)|-|-|

#### RemoveDeputyCarrierTrackingEventOptions参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|id|true|string|-|创建副载体追踪时返回的id|
|type|true|number|-|0=关键节点，1=运动对象，2=轨迹，3=图层事件|
|event|true|[TrackOverlayEventType](#trackoverlayeventtype参数说明)\|[TrackLayerEventType](#tracklayereventtype参数说明)|-|事件类型|

##### TrackOverlayEventType参数说明

|描述|实际值|
|:--|:--:|
|点击|click|
|双击|dblclick|
|右键|contextmenu|
|鼠标按下|mousedown|
|鼠标弹起|mouseup|
|鼠标进入|mouseenter|
|鼠标悬浮|mouseover|
|鼠标移动|mousemove|
|鼠标移出|mouseout|
|鼠标离开|mouseleave|

##### TrackLayerEventType参数说明

|描述|实际值|
|:--|:--:|
|鼠标按下|mousedown|
|鼠标弹起|mouseup|
|点击|click|
|双击|dblclick|
|右键|contextmenu|
|鼠标移动|mousemove|
|鼠标进入|mouseenter|
|鼠标离开|mouseleave|
|鼠标悬浮|mouseover|
|鼠标移出|mouseout|

### 示例


```javascript
kmap.removeDeputyCarrierTrackingEvent({
   id: {{副载体追踪ID}},
   type: 1,
   event: 'click'
});
```


## setDeputyCarrierActor

### 描述

设置副载体运动对象

### 参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|opts|true|[SetDeputyCarrierActorOptions](#setdeputycarrieractoroptions参数说明)|-|-|

#### SetDeputyCarrierActorOptions参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|id|true|string|-|创建副载体追踪时返回的id|
|gbid|true|string|-|设备国标id|
|actorTemplate|false|string|-|运动对象内容，html字符串|
|actorWidth|false|number|-|运动对象容器宽度|
|actorHeight|false|number|-|运动对象容器高度|
|actorVisible|false|boolean|-|运动对象是否显示|
|actorIcon|false|string|-|雪碧图图标名称|

### 示例


```javascript
kmap.setDeputyCarrierActor({
   id: {{副载体追踪id}},
   gbid: {{副载体gbid}},
   actorVisible: true
});
```


## setDeputyCarrierTrack

### 描述

设置副载体轨迹

### 参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|opts|true|[SetDeputyCarrierTrackOptions](#setdeputycarriertrackoptions参数说明)|-|-|

#### SetDeputyCarrierTrackOptions参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|id|true|string|-|创建副载体追踪时返回的id|
|gbid|true|string|-|设备国标id|
|trackVisible|true|boolean|-|轨迹是否显示|

### 示例


```javascript
kmap.setDeputyCarrierTrack({
   id: {{副载体追踪id}},
   gbid: {{副载体gbid}},
   trackVisible: true
});
```


## setDeputyCarrierSlot

### 描述

设置副载体容器

### 参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|opts|true|[SetDeputyCarrierSlotOptions](#setdeputycarrierslotoptions参数说明)|-|-|

#### SetDeputyCarrierSlotOptions参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|id|true|string|-|创建副载体追踪时返回的id|
|gbid|true|string|-|设备国标id|
|type|true|[CarrierSlotPosition](#carrierslotposition参数说明)|-|容器类型|
|slotTemplate|false|string|-|容器内容|
|slotVisible|false|boolean|-|容器是否显示|

##### CarrierSlotPosition参数说明

|参数名称|描述|实际值|
|:--|:--|:--:|
|KMap.CARRIER_SLOT_POSITION.TOP|上方|0|
|KMap.CARRIER_SLOT_POSITION.BOTTOM|下方|1|

### 示例


```javascript
kmap.setDeputyCarrierSlot({
   id: {{副载体追踪id}},
   gbid: {{副载体gbid}},
   type: 0,
   slotTemplate: {{容器内容}},
   slotVisible: true
});
```

## setDeputyCarrierPoint

### 描述

设置副载体关键节点

### 参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|opts|true|[SetDeputyCarrierPointOptions](#setdeputycarrierpointoptions参数说明)|-|-|

#### SetDeputyCarrierPointOptions参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|id|true|string|-|创建副载体追踪时返回的id|
|gbid|true|string|-|设备国标id|
|pointVisible|true|boolean|-|关键节点是否显示|

### 示例


```javascript
kmap.setDeputyCarrierPoint({
   id: {{副载体追踪id}},
   gbid: {{副载体gbid}},
   pointVisible: true
});
```


## 设备追踪

## createDeviceTracking

### 描述

创建设备追踪

### 参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|opts|true|[CreateDeviceTrackingOptions](#createdevicetrackingoptions参数说明)|-|-|

#### CreateDeviceTrackingOptions参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|serviceName|true|string|-|图层标识|
|targetType|false|[ActorTargetType](#actortargettype参数说明)|KMap.ACTOR_TARGET_TYPE.DEVICE|运动对象类型，详情参考下方运动对象类型常量表|
|gbids|false|Array&lt;string&gt;|-|设备gbid列表,如果通过gbids指定订阅列表,terms和businessTerms过滤将失效|
|terms|false|Array&lt;[Term](#term参数说明)&gt;|-|数据过滤条件|
|businessTerms|false|Array&lt;[Term](#term参数说明)&gt;|-|关联私有空间过滤条件,如果未关联私有空间不需要指定该参数|
|clusterLayerProps|true|Object|-|具体参数与自有数据图层保持一致,serviceNames,isPublic,clustered,dynamic,maxZoom,maxClusteredZoom,terms,privateTerms参数不需要重复指定,程序内部处理与追踪模式保持一致.|
|clusterZoom|false|number|15|聚合图层模式与追踪模式临界层级|
|animation|false|boolean|true|设备是否以动画形式平滑过渡|
|maxDuration|false|number|5000|相邻两次推送最大时间间隔，超过该值，此段数据将不渲染轨迹|
|maxDistance|false|number|-|相邻两次推送最大距离间隔，单位 km，超过该值，此段数据将不渲染轨迹|
|autoDirection|false|boolean|false|运动对象是否根据运行方向改变旋转角|
|icons|true|Array&lt;[CarrierActorIconStyle](#carrieractoriconstyle参数说明)&gt;|-|多图标过滤条件,至少要指定一个图标|
|pointRadius|false|number|4|关键节点的半径|
|pointColor|false|string|'gray'|关键节点的颜色，支持 rgb,rgba,16 进制色值,颜色名称|
|trackWidth|false|number|6|轨迹宽度|
|trackColor|false|string|'gray'|轨迹颜色,支持 rgb,rgba,16 进制色值,颜色名称|
|trackIsSolid|false|boolean|true|轨迹是否为虚线|
|trackPattern|false|string\|[TrackLinePattern](#tracklinepattern参数说明)|-|轨迹箭头样式，详情参考下方轨迹线纹理样式常量表格，也可以使用字符串自定义雪碧图|
|onkeypointchange|false|[Function](#onkeypointchange函数参数说明)|-|关键节点变更回调函数|
|ontrackerschange|false|[Function](#ontrackerschange函数参数说明)|-|运行时,列表发生变化时触发|
|onerror|false|[Function](#onerror函数参数说明)|-|运行时任何异常将会触发,返回错误信息，为了兼容旧版本，暂时保留，尽量避免使用，统一使用 onError 错误回调函数|
|onError|false|[Function](#onerror函数参数说明)|-|错误回调函数|
|ended|false|[Function](#ended函数参数说明)|-|结束回调|

##### ActorTargetType参数说明

|参数名称|描述|实际值|
|:--|:--|:--:|
|KMap.ACTOR_TARGET_TYPE.DEVICE|设备|0|
|KMap.ACTOR_TARGET_TYPE.ACCOUNT|人员账号|1|
|KMap.ACTOR_TARGET_TYPE.KEY_PERSONNEL|重点人员|2|

##### Term参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|column|true|string|-|过滤字段，对于人员账号，需要传 targetType 值为 5；对于重点人员，需要传 targetType 值为 27；其它情况默认无需填写|
|termType|true|string|-|过滤条件,例如eq,neq,like,nlike,gt,lt,gte,lte,in,nin,prefix,subfix,isnull,notnull,should。其中like、nlike、prefix、subfix只能用于过滤值为字符串类型。|
|value|true|string\|number\|Array&lt;number&gt;\|Array&lt;string&gt;|-|过滤值|
|type|false|string|'and'|term之间的过滤关系.可选"and"和"or",如果存在至少一个and,过滤所有and对应的并集,如果全部是or,返回所有数据， 如果要过滤某个条件可以匹配多个值中的任何一个， 可以使用termType="in".|
|filterType|false|number|0|公有属性及私有属性标记，0为私有属性，1为公有属性，在查询公有图层数据时，根据该字段区分公私有属性，不填默认为私有|
|analyzeEnum|false|string|'not_analyze'|userId、deptId、roleId必须设置成default_analyze,上传数据指定的拼音分词需要设置成pinyin_analyze,默认不分词|
|terms|false|Array&lt;[Term](#term参数说明)&gt;|-|即当前Term，支持循环使用|

##### CarrierActorIconStyle参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|actorTemplate|false|string|-|运动对象显示内容|
|actorWidth|false|number|20|运动对象容器宽度|
|actorHeight|false|number|20|运动对象容器高度|
|actorRotation|false|number|0|运动对象旋转角度,以正北方向为准|
|actorIcon|false|string|-|雪碧图图标名称， 如果设置了该参数， actorContent, actorWidth, actorHeight, actorRotation 将失效|
|actorIconText|false|string|-|指定数据源中的属性显示为文本，使用私有属性时，要加前缀 private_ ，支持指定单个属性如：'name'，也支持指定多个属性如：'设备名称：{name}，设备id：{gbid}|
|actorNonBackground|false|boolean|false|雪碧图图标是否取消组合背景图标，默认不取消组合背景图标|
|actorIconBackground|false|string|'direction'|自定义运动对象背景图标，在 actorNonBackground 为 false 时该参数有效|
|actorScale|false|number|1|雪碧图图标缩放比例，该参数针对 actorIcon 生效|
|actorOffset|false|[Offset](#offset参数说明（类型）)|[0,0]|动对象位置偏移|
|filter|false|Array&lt;[FilterObject](#filterobject参数说明)&gt;|-|过滤条件|

###### Offset参数说明（类型）

|参数名称|类型|说明|
|:--|:--:|:--|
|Offset|[number, number]|相对于锚点偏移量|

###### FilterObject参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|key|true|string|-|过滤字段|
|value|true|string|-|过滤值|

##### TrackLinePattern参数说明

|参数名称|描述|实际值|
|:--|:--|:--:|
|KMap.TRACK_LINE_PATTERN.BLUE|蓝色纹理|0|
|KMap.TRACK_LINE_PATTERN.RED|红色纹理|1|
|KMap.TRACK_LINE_PATTERN.YELLOW|黄色纹理|2|
|KMap.TRACK_LINE_PATTERN.GREEN|绿色纹理|3|

##### onkeypointchange函数参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|res|[OnkeypointchangeRes](#onkeypointchangeres参数说明)|-|当前设备所在点位的要素信息|

###### OnkeypointchangeRes参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|gbid|string|-|设备 gbid|
|properties|[MessageData](#messagedata参数说明)|-|设备当前所在点位的要素信息|

###### MessageData参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|longitude|number|-|经度|
|latitude|number|-|纬度|
|timestamp|string|-|时间|
|direction|number|-|运动方向|
|keyPoint|Object|-|关键节点信息|

##### ontrackerschange函数参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|data|Object|-|关联设备的当前点位的要素信息|

##### onerror函数参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|error|[IErrorCodeInfo](#ierrorcodeinfo参数说明)|-|错误信息|

###### IErrorCodeInfo参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|code|string|-|错误码编号|
|message|string|-|错误信息|

##### onError函数参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|error|[IErrorCodeInfo](#ierrorcodeinfo参数说明)|-|错误信息|

##### ended函数参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|res|[EndedRes](#endedres参数说明)|-|结束回调信息|

###### EndedRes参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|status|number|-|10-成功,20-失败|
|data|string|-|设备追踪 id|

### 示例


```javascript
kmap.createDeviceTracking({
   serviceName: '{{创建设备追踪的serviceName}}',
   clusterLayerProps: '{{自有数据图层渲染配置}}',
   icons: [
       {
           actorContent: {{图标内容}},
           actorWidth: {{图标宽度}},
           actorHeight: {{图标高度}},
           actorRotation: {{图标初始旋转角度}},
           actorOffset: {{图标旋转角度}},
           filter: [
               {
                   key: {{过滤字段}},
                   value: {{过滤字段的值}}
               }
           ]
       }
   ],
   gbids: [
       '{{设备国标id}}',
       '{{设备国标id}}',
       .....
   ],
   clusterZoom: 15,
   trackPattern: {{轨迹样式}},
   trackWidth: {{轨迹宽度}},
   trackColor: {{轨迹颜色}},
   ended: function(res) { }
});
```


## removeDeviceTracking

### 描述

删除设备追踪

### 参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|opts|true|[RemoveDeviceTrackingOptions](#removedevicetrackingoptions参数说明)|-|-|

#### RemoveDeviceTrackingOptions参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|id|true|string|-|创建设备追踪时返回的id|

### 示例


```javascript
kmap.removeDeviceTracking({
   id: {{设备追踪ID}}
});
```


## addDeviceTrackingEvent

### 描述

绑定设备追踪事件，包括运动对象事件,轨迹事件和图层事件。

### 参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|opts|true|[AddDeviceTrackingEventOptions](#adddevicetrackingeventoptions参数说明)|-|-|

#### AddDeviceTrackingEventOptions参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|id|true|string|-|创建设备追踪时返回的id|
|type|true|number|-|0=关键节点，1=运动对象，2=轨迹，3=图层事件|
|event|true|[TrackOverlayEventType](#trackoverlayeventtype参数说明)\|[TrackLayerEventType](#tracklayereventtype参数说明)|-|事件类型|
|handler|true|[Function](#function参数说明)|-|事件回调函数|

##### TrackOverlayEventType参数说明

|描述|实际值|
|:--|:--:|
|点击|click|
|双击|dblclick|
|右键|contextmenu|
|鼠标按下|mousedown|
|鼠标弹起|mouseup|
|鼠标进入|mouseenter|
|鼠标悬浮|mouseover|
|鼠标移动|mousemove|
|鼠标移出|mouseout|
|鼠标离开|mouseleave|

##### TrackLayerEventType参数说明

|描述|实际值|
|:--|:--:|
|鼠标按下|mousedown|
|鼠标弹起|mouseup|
|点击|click|
|双击|dblclick|
|右键|contextmenu|
|鼠标移动|mousemove|
|鼠标进入|mouseenter|
|鼠标离开|mouseleave|
|鼠标悬浮|mouseover|
|鼠标移出|mouseout|

### 示例


```javascript
kmap.addDeviceTrackingEvent({
   id: {{设备追踪ID}},
   type: 1,
   event: 'click',
   handler: function() {

   }
});
```


## removeDeviceTrackingEvent

### 描述

删除设备追踪事件，包括运动对象事件,轨迹事件和图层事件。

### 参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|opts|true|[RemoveDeviceTrackingEventOptions](#removedevicetrackingeventoptions参数说明)|-|-|

#### RemoveDeviceTrackingEventOptions参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|id|true|string|-|创建设备追踪时返回的id|
|type|true|number|-|0=关键节点，1=运动对象，2=轨迹，3=图层事件|
|event|true|[TrackOverlayEventType](#trackoverlayeventtype参数说明)\|[TrackLayerEventType](#tracklayereventtype参数说明)|-|事件类型|

##### TrackOverlayEventType参数说明

|描述|实际值|
|:--|:--:|
|点击|click|
|双击|dblclick|
|右键|contextmenu|
|鼠标按下|mousedown|
|鼠标弹起|mouseup|
|鼠标进入|mouseenter|
|鼠标悬浮|mouseover|
|鼠标移动|mousemove|
|鼠标移出|mouseout|
|鼠标离开|mouseleave|

##### TrackLayerEventType参数说明

|描述|实际值|
|:--|:--:|
|鼠标按下|mousedown|
|鼠标弹起|mouseup|
|点击|click|
|双击|dblclick|
|右键|contextmenu|
|鼠标移动|mousemove|
|鼠标进入|mouseenter|
|鼠标离开|mouseleave|
|鼠标悬浮|mouseover|
|鼠标移出|mouseout|

### 示例


```javascript
kmap.removeDeviceTrackingEvent({
   id: {{设备追踪ID}},
   type: 1,
   event: 'click'
});
```


## setDeviceActor

### 描述

设置设备运动对象

### 参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|opts|true|[SetDeviceActorOptions](#setdeviceactoroptions参数说明)|-|-|

#### SetDeviceActorOptions参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|id|true|string|-|创建设备追踪时返回的id|
|gbid|true|string|-|设备国标id|
|actorTemplate|false|string|-|运动对象内容，html字符串|
|actorWidth|false|number|-|运动对象容器宽度|
|actorHeight|false|number|-|运动对象容器高度|
|actorVisible|false|boolean|-|运动对象是否显示|
|actorIcon|false|string|-|雪碧图图标名称|

### 示例


```javascript
kmap.setDeviceActor({
   id: {{设备追踪id}},
   gbid: {{设备gbid}},
   actorVisible: true
});
```


## setDeviceTrack

### 描述

设置容器轨迹

### 参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|opts|true|[SetDeviceTrackOptions](#setdevicetrackoptions参数说明)|-|-|

#### SetDeviceTrackOptions参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|id|true|string|-|创建设备追踪时返回的id|
|gbid|true|string|-|设备国标id|
|trackVisible|true|boolean|-|轨迹是否显示|

### 示例


```javascript
kmap.setDeviceTrack({
   id: {{容器追踪id}},
   gbid: {{容器gbid}},
   trackVisible: true
});
```


## setDeviceSlot

### 描述

设置设备容器

### 参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|opts|true|[SetDeviceSlotOptions](#setdeviceslotoptions参数说明)|-|-|

#### SetDeviceSlotOptions参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|id|true|string|-|创建设备追踪时返回的id|
|gbid|true|string|-|设备国标id|
|type|true|[CarrierSlotPosition](#carrierslotposition参数说明)|-|容器类型|
|slotTemplate|false|string|-|容器内容|
|slotVisible|false|boolean|-|容器是否显示|

##### CarrierSlotPosition参数说明

|参数名称|描述|实际值|
|:--|:--|:--:|
|KMap.CARRIER_SLOT_POSITION.TOP|上方|0|
|KMap.CARRIER_SLOT_POSITION.BOTTOM|下方|1|

### 示例


```javascript
kmap.setDeviceSlot({
   id: {{设备追踪id}},
   gbid: {{设备gbid}},
   type: 0,
   slotTemplate: {{容器内容}},
   slotVisible: true
});
```

## setDevicePoint

### 描述

设置设备关键节点

### 参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|opts|true|[SetDevicePointOptions](#setdevicepointoptions参数说明)|-|-|

#### SetDevicePointOptions参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|id|true|string|-|创建设备追踪时返回的id|
|gbid|true|string|-|设备国标id|
|pointVisible|true|boolean|-|关键节点是否显示|

### 示例


```javascript
kmap.setDevicePoint({
   id: {{容器追踪id}},
   gbid: {{容器gbid}},
   pointVisible: true
});
```


# 交通路线

## createTrafficRoute

### 描述

接收指定线数据，根据指定的样式绘制交通路线。

### 参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|opts|true|[CreateTrafficRouteOptions](#createtrafficrouteoptions参数说明)|-|-|

#### CreateTrafficRouteOptions参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|data|true|[LineFeatureCollectionType](#linefeaturecollectiontype参数说明)|-|线类型的geojson数据|
|routePattern|false|string\|[TrackLinePattern](#tracklinepattern参数说明)|-|轨迹箭头样式，详情参考下方轨迹线纹理样式常量表格，也可以使用字符串自定义雪碧图|
|routePatternFlowable|false|boolean|-|是否显示流动线|
|customFlowPatterns|false|Array&lt;string&gt;|-|自定义流动线纹理样式，传入多个雪碧图名称，组成流动线效果|
|routeWidth|false|number|6|轨迹宽度|
|ended|false|[Function](#ended函数参数说明)|-|结束回调|

##### LineFeatureCollectionType参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|type|true|固定值(string)-FeatureCollection|-|要素类型|
|features|true|Array&lt;[LineFeatureType](#linefeaturetype参数说明)&gt;|-|线要素集合|

###### LineFeatureType参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|type|true|固定值(string)-Feature|-|要素类型|
|properties|true|Object|-|要素自定义属性|
|geometry|true|[LineStringGeometry](#linestringgeometry参数说明)|-|要素空间信息|

###### LineStringGeometry参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|type|true|固定值(string)-LineString|-|要素图形类型|
|coordinates|true|Array&lt;[LngLat](#lnglat参数说明（类型）)&gt;|-|要素空间信息|

###### LngLat参数说明（类型）

|参数名称|类型|说明|
|:--|:--:|:--|
|LngLat|[number, number]|经纬度坐标|

##### TrackLinePattern参数说明

|参数名称|描述|实际值|
|:--|:--|:--:|
|KMap.TRACK_LINE_PATTERN.BLUE|蓝色纹理|0|
|KMap.TRACK_LINE_PATTERN.RED|红色纹理|1|
|KMap.TRACK_LINE_PATTERN.YELLOW|黄色纹理|2|
|KMap.TRACK_LINE_PATTERN.GREEN|绿色纹理|3|

##### ended函数参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|res|[EndedRes](#endedres参数说明)|-|结束回调信息|

###### EndedRes参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|status|number|-|10-成功,20-失败|
|data|string|-|返回的交通路线 id|

### 示例


```javascript
kmap.createTrafficRoute({
   data: '{geojson数据}'
});
```


## removeTrafficRoute

### 描述

删除已经创建的交通路线

### 参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|opts|true|[RemoveTrafficRouteOptions](#removetrafficrouteoptions参数说明)|-|-|

#### RemoveTrafficRouteOptions参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|id|true|string|-|创建交通路线时返回的id|

### 示例


```javascript
kmap.removeTrafficRoute({
   id: '{交通路线id}'
});
```

# VIP路线

## createVIPRoute

### 描述

创建VIP路线

### 参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|opts|true|[CreateVIPRouteOptions](#createviprouteoptions参数说明)|-|-|

#### CreateVIPRouteOptions参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|routeId|true|string|-|VIP路线ID|
|gbid|true|string|-|关联GPS设备的gbid|
|autoDirection|false|boolean|true|运动对象是否根据运行方向改变旋转角|
|actorTemplate|false|string|-|运动对象显示内容|
|actorWidth|false|number|20|运动对象容器宽度|
|actorHeight|false|number|20|运动对象容器高度|
|actorRotation|false|number|0|运动对象旋转角度,以正北方向为准|
|actorIcon|false|string|-|雪碧图图标名称， 如果设置了该参数， actorContent, actorWidth, actorHeight, actorRotation 将失效|
|actorIconText|false|string|-|指定数据源中的属性显示为文本，使用私有属性时，要加前缀 private_ ，支持指定单个属性如：'name'，也支持指定多个属性如：'设备名称：{name}，设备id：{gbid}|
|actorNonBackground|false|boolean|false|雪碧图图标是否取消组合背景图标，默认不取消组合背景图标|
|actorIconBackground|false|string|'direction'|自定义运动对象背景图标，在 actorNonBackground 为 false 时该参数有效|
|actorScale|false|number|1|雪碧图图标缩放比例，该参数针对 actorIcon 生效|
|actorDirection|false|number|0|运动对象指北旋转角度|
|actorOffset|false|[Offset](#offset参数说明（类型）)|[0,0]|动对象位置偏移|
|actorBufferVisible|false|boolean|false|是否显示运动对象缓冲区,该属性设置为true时,actorBufferRadius,actorBufferFillColor,actorBufferStrokeColor才会生效,该功能对性能消耗较大,建议使用该功能时,不要创建多个实时轨迹|
|actorBufferRadius|false|number|1000|运动对象显示缓冲区的半径,单位是米|
|actorBufferFillColor|false|string|'rgba(255,0,0,0.5)'|运动对象缓冲区颜色，支持 rgb,rgba,16 进制色值,颜色名称，透明度使用rgba格式来设置|
|actorBufferStrokeColor|false|string|'rgba(255,0,0,0.7)'|运动对象缓冲区边框颜色,，支持 rgb,rgba,16 进制色值,颜色名称，透明度使用rgba格式来设置|
|trackVisible|false|boolean|false|轨迹是否显示，默认显示|
|trackWidth|false|number|6|轨迹宽度|
|trackColor|false|string|'gray'|轨迹颜色,支持 rgb,rgba,16 进制色值,颜色名称|
|trackPattern|false|string\|[TrackLinePattern](#tracklinepattern参数说明)|-|轨迹箭头样式，详情参考下方轨迹线纹理样式常量表格，也可以使用字符串自定义雪碧图|
|routeVisible|false|boolean|true|是否显示vip路线|
|routeWidth|false|number|6|vip路线宽度|
|routeColor|false|string|'gray'|vip路线颜色,支持 rgb,rgba,16 进制色值,颜色名称|
|routePattern|false|string\|[TrackLinePattern](#tracklinepattern参数说明)|-|vip路线箭头样式，详情参考下方轨迹线纹理样式常量表格，也可以使用字符串自定义雪碧图|
|ipcBufferVisible|false|boolean|false|是否显示IPC设备缓冲区|
|ipcBufferFillColor|false|string|'rgba(255,0,0,0.5)'|IPC设备缓冲区填充颜色，支持 rgb,rgba,16 进制色值,颜色名称|
|ipcBufferStrokeColor|false|string|'rgba(255,0,0,0.7)'|IPC设备缓冲区边框颜色，支持 rgb,rgba,16 进制色值,颜色名称|
|ipcIcon|true|string|-|IPC设备图标|
|ipcCoverageVisible|false|boolean|false|是否显示IPC设备可视区域|
|ipcCoverageFillColor|false|string|'rgba(255,0,0,0.5)'|IPC设备可视区域填充颜色|
|ipcCoverageStrokeColor|false|string|'rgba(255,0,0,0.7)'|IPC设备可视区域边框颜色|
|onkeypointchange|false|[Function](#onkeypointchange函数参数说明)|-|关键节点变更回调函数|
|onError|false|[Function](#onerror函数参数说明)|-|错误回调函数|
|ended|false|[Function](#ended函数参数说明)|-|结束回调|

##### Offset参数说明（类型）

|参数名称|类型|说明|
|:--|:--:|:--|
|Offset|[number, number]|相对于锚点偏移量|

##### TrackLinePattern参数说明

|参数名称|描述|实际值|
|:--|:--|:--:|
|KMap.TRACK_LINE_PATTERN.BLUE|蓝色纹理|0|
|KMap.TRACK_LINE_PATTERN.RED|红色纹理|1|
|KMap.TRACK_LINE_PATTERN.YELLOW|黄色纹理|2|
|KMap.TRACK_LINE_PATTERN.GREEN|绿色纹理|3|

##### onkeypointchange函数参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|res|[OnkeypointchangeRes](#onkeypointchangeres参数说明)|-|当前设备所在点位的要素信息|

###### OnkeypointchangeRes参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|gbid|string|-|设备 gbid|
|properties|Object|-|设备当前所在点位的要素信息，其中包含 keyPoint 属性，表示关键节点信息，当前所处 ipc 设备范围的ipc列表保存在 res.properties.__ipcList__ 属性中,该属性可能不存在|

##### onError函数参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|error|[IErrorCodeInfo](#ierrorcodeinfo参数说明)|-|错误信息|

###### IErrorCodeInfo参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|code|string|-|错误码编号|
|message|string|-|错误信息|

##### ended函数参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|res|[EndedRes](#endedres参数说明)|-|结束回调信息|

###### EndedRes参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|status|number|-|10-成功,20-失败|
|data|string|-|创建 VIP 路线 返回的 id|

### 示例


```javascript
kmap.createVIPRoute({
   routeId: {VIP路线ID},
   gbid: {关联GPS设备对应的gbid},
   actorTemplate: {运动对象DOM字符串},
   ipcIcon: {IPC设备显示的雪碧图标名称},
   ended: function() { }
});
```


## removeVIPRoute

### 描述

删除VIP路线

### 参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|opts|true|[RemoveVIPRouteOptions](#removeviprouteoptions参数说明)|-|-|

#### RemoveVIPRouteOptions参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|id|true|string|-|创建 VIP 路线 返回的 id|

### 示例


```javascript
kmap.removeVIPRoute({
   id: {创建VIP路线返回的唯一标识}
});
```


## switchVIPRoute

### 描述

切换VIP路线

### 参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|opts|true|[SwitchVIPRouteOptions](#switchviprouteoptions参数说明)|-|-|

#### SwitchVIPRouteOptions参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|id|true|string|-|创建 VIP 路线 返回的 id|
|routeId|true|string|-|VIP 路线 id|
|gbid|false|string|-|关联 GPS 设备的 gbid|

### 示例


```javascript
kmap.switchVIPRoute({
   id: {创建VIP路线返回的唯一标识},
   routeId: {vip路线id}
});
```

# 智能感知设备

## createIntelliSenseDeviceTrack

### 描述

创建智能感知设备，通过订阅智能设备，实时推送识别到的车辆数据，在地图上实时渲染，以及实现车辆平滑移动。

### 参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|opts|true|[CreateIntelliSenseDeviceTrackOptions](#createintellisensedevicetrackoptions参数说明)|-|-|

#### CreateIntelliSenseDeviceTrackOptions参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|gbids|true|Array&lt;string&gt;|-|需要订阅的智能感知设备gbid列表|
|attentions|false|Array&lt;string&gt;|-|关注的车辆车牌号列表|
|icons|true|Array&lt;[iconsObject](#iconsobject参数说明)&gt;|-|车辆图标配置，按顺序匹配,优渲染优先匹配到的图标|
|objAngleType|false|number|0|目标对象自身的角度，0：ws 数据返回的角度作为目标对象自身的角度，1：前端计算前后两点的角度作为目标对象自身的角度|
|minDisplayZoom|false|number|-|用来设置低于该层级时，不显示车辆以及信息窗体，默认是显示车辆及信息窗体|
|scaleBaseZoom|false|number|19|车辆图标缩放比例为1:1所在层级,其他层级按照地图层级自动调整缩放比例|
|onmessage|false|[Function](#onmessage函数参数说明)|-|每次消息推送的回调函数，可以获得当前的所有车辆信息|
|onError|false|[Function](#onerror函数参数说明)|-|错误回调函数|
|ended|false|[Function](#ended函数参数说明)|-|结束回调|

##### iconsObject参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|iconImage|true|string|-|雪碧图标名称|
|filter|false|[FilterObject](#filterobject参数说明)|-|图标过滤条件|

###### FilterObject参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|key|true|string|-|过滤字段|
|value|true|string|-|过滤值|

##### onmessage函数参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|data|[OnmessageData](#onmessagedata参数说明)|-|回调信息|

###### OnmessageData参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|objPlaceLatitude|number|-|目标纬度|
|objPlaceLongitude|number|-|目标经度|
|objAngle|number|-|目标角度|
|objID|string|-|目标ID|
|objSpeed|number|-|目标速度|
|objType|number|-|目标类型,0未知,1行人,2非机动车,3摩托车,4小轿车,5三轮车,6公共汽车,7货车,8卡车|
|plateColor|number|-|车牌颜色,0白色,1黄色,2蓝色,3黑色,4未知,5渐变绿,6黄绿|
|vehicleColor|number|-|车身颜色,A白,B灰,C黄,D粉,E红,F紫,G绿,H蓝,I棕,J黑,K橙,L青,M银,N银,白Z,其他|
|plateNo|string|-|车牌号码|

##### onError函数参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|error|[IErrorCodeInfo](#ierrorcodeinfo参数说明)|-|错误信息|

###### IErrorCodeInfo参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|code|string|-|错误码编号|
|message|string|-|错误信息|

##### ended函数参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|res|[EndedRes](#endedres参数说明)|-|结束回调信息|

###### EndedRes参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|status|number|-|10-成功,20-失败|
|data|[dataObject](#dataobject参数说明)|-|返回的数据|

###### dataObject参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|id|string|-|创建成功返回智能感知设备 id|

### 示例


```javascript
kmap.createIntelliSenseDeviceTrack({
   gbids: {智能感知设备gbid列表}
   icons: [
       {
           iconImage: {雪碧图标名称}
       }
   ],
   scaleBaseZoom: 19,
   onmessage: (data) => {
   },
   ended: (res) => {
       // 成功,res.data是创建的智能感知设备id
   }
});
```


## removeIntelliSenseDeviceTrack

### 描述

删除智能感知设备

### 参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|opts|true|[RemoveIntelliSenseDeviceTrackOptions](#removeintellisensedevicetrackoptions参数说明)|-|-|

#### RemoveIntelliSenseDeviceTrackOptions参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|id|true|string|-|创建智能感知设备返回的id|

### 示例


```javascript
kmap.removeIntelliSenseDeviceTrack({
   id: {创建智能感知设备时返回的id}
});
```


## showIntelliSenseDeviceTrackAttentions

### 描述

仅显示智能感知设备关注车辆

### 参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|opts|true|[ShowIntelliSenseDeviceTrackAttentionsOptions](#showintellisensedevicetrackattentionsoptions参数说明)|-|-|

#### ShowIntelliSenseDeviceTrackAttentionsOptions参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|id|true|string|-|创建智能感知设备返回的id|

### 示例


```javascript
kmap.showIntelliSenseDeviceTrackAttentions({
   id: {创建智能感知设备时返回的id}
});
```


## showAllIntelliSenseDeviceTrack

### 描述

显示智能感知设备全部车辆

### 参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|opts|true|[ShowAllIntelliSenseDeviceTrackOptions](#showallintellisensedevicetrackoptions参数说明)|-|-|

#### ShowAllIntelliSenseDeviceTrackOptions参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|id|true|string|-|创建智能感知设备返回的id|

### 示例


```javascript
kmap.showAllIntelliSenseDeviceTrack({
   id: {创建智能感知设备时返回的id}
});
```


## addIntelliSenseDeviceTrackEvent

### 描述

添加智能感知设备事件

### 参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|opts|true|[AddIntelliSenseDeviceTrackEventOptions](#addintellisensedevicetrackeventoptions参数说明)|-|-|

#### AddIntelliSenseDeviceTrackEventOptions参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|id|true|string|-|创建智能感知设备返回的id|
|event|true|[TrackLayerEventType](#tracklayereventtype参数说明)|-|事件类型|
|handler|true|[Function](#handler函数参数说明)|-|回调函数，接收的第一个参数为事件对象，第二个参数是当前点位对应要素集信息|

##### TrackLayerEventType参数说明

|描述|实际值|
|:--|:--:|
|鼠标按下|mousedown|
|鼠标弹起|mouseup|
|点击|click|
|双击|dblclick|
|右键|contextmenu|
|鼠标移动|mousemove|
|鼠标进入|mouseenter|
|鼠标离开|mouseleave|
|鼠标悬浮|mouseover|
|鼠标移出|mouseout|

##### handler函数参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|event|[Event](#event参数说明)|-|-|
|info|[HandlerInfo](#handlerinfo参数说明)|-|-|

###### HandlerInfo参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|type|固定值(string)-details|-|-|
|location|[LngLat](#lnglat参数说明（类型）)|-|当前点位对应要素坐标|
|data|Array&lt;[Object](#object参数说明)&gt;|-|当前点位对应要素集|

###### LngLat参数说明（类型）

|参数名称|类型|说明|
|:--|:--:|:--|
|LngLat|[number, number]|经纬度坐标|

### 示例


```javascript
kmap.addIntelliSenseDeviceTrackEvent({
   id: {创建智能感知设备时返回的id},
   event: {事件名称},
   handler: {事件回调函数}
});
```


## removeIntelliSenseDeviceTrackEvent

### 描述

删除智能感知设备事件

### 参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|opts|true|[RemoveIntelliSenseDeviceTrackEventOptions](#removeintellisensedevicetrackeventoptions参数说明)|-|-|

#### RemoveIntelliSenseDeviceTrackEventOptions参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|id|true|string|-|创建智能感知设备返回的id|
|event|true|[TrackLayerEventType](#tracklayereventtype参数说明)|-|事件类型|

##### TrackLayerEventType参数说明

|描述|实际值|
|:--|:--:|
|鼠标按下|mousedown|
|鼠标弹起|mouseup|
|点击|click|
|双击|dblclick|
|右键|contextmenu|
|鼠标移动|mousemove|
|鼠标进入|mouseenter|
|鼠标离开|mouseleave|
|鼠标悬浮|mouseover|
|鼠标移出|mouseout|

### 示例


```javascript
kmap.removeIntelliSenseDeviceTrackEvent({
   id: {创建智能感知设备时返回的id},
   event: {事件名称}
});
```


## addIntelliSenseDeviceTrackPopup

### 描述

添加智能感知设备弹窗

### 参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|opts|true|[AddIntelliSenseDeviceTrackPopupOptions](#addintellisensedevicetrackpopupoptions参数说明)|-|-|

#### AddIntelliSenseDeviceTrackPopupOptions参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|id|true|string|-|创建智能感知设备返回的id|
|objID|false|string|-|添加弹窗的车辆的 id，参数 objID 和 vehPlate，根据需要，设置其中一个即可|
|vehPlate|false|string|-|添加弹窗的车辆车牌号|
|template|true|string|-|弹窗字符串模板|
|anchor|false|string|'top'| 窗体位置,可选值: 'top', 'right', 'bottom', 'left', 'top-left', 'top-right', 'bottom-left', 'bottom-right'|
|offset|false|[Offset](#offset参数说明（类型）)|[0, 0]|窗口偏移量|
|tipPosition|false|string|'top'|popup 箭头显示位置，可选值'top','left',right,'bottom'|
|class|false|string|-|自定义样式名称|

##### Offset参数说明（类型）

|参数名称|类型|说明|
|:--|:--:|:--|
|Offset|[number, number]|相对于锚点偏移量|

### 返回值

|类型|说明|
|:--|:--:|
|any|-|

### 示例


```javascript
kmap.addIntelliSenseDeviceTrackPopup({
   id: {创建智能感知设备时返回的id},
   vehPlate: {车牌号},
   template: {弹窗字符串模板}
});
```


## removeIntelliSenseDeviceTrackPopup

### 描述

删除智能感知设备弹窗

### 参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|opts|true|[RemoveIntelliSenseDeviceTrackPopupOptions](#removeintellisensedevicetrackpopupoptions参数说明)|-|-|

#### RemoveIntelliSenseDeviceTrackPopupOptions参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|id|true|string|-|创建智能感知设备返回的id|
|objID|false|string|-|添加弹窗的车辆的 id，参数 objID 和 vehPlate，根据需要，设置其中一个即可|
|vehPlate|false|string|-|添加弹窗的车辆车牌号，如果只传 vehPlate，不传 popupId，相当于删除该车牌对应的所有popup|
|popupId|false|string|-|弹窗的id|

### 示例


```javascript
kmap.removeIntelliSenseDeviceTrackPopup({
   id: {创建智能感知设备时返回的id},
   vehPlate: {车牌号}
});
```


## setIntelliSenseDeviceTrackPerspective

### 描述

根据车牌号指定的车辆设置地图中心点,如果处于视角跟随状态,设置视角不生效.如果指定的车牌号不存在,不生效

### 参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|opts|true|[SetIntelliSenseDeviceTrackPerspectiveOptions](#setintellisensedevicetrackperspectiveoptions参数说明)|-|-|

#### SetIntelliSenseDeviceTrackPerspectiveOptions参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|id|true|string|-|创建智能感知设备返回的id|
|vehPlate|true|string|-|车牌号|

### 示例


```javascript
kmap.setIntelliSenseDeviceTrackPerspective({
   id: {创建智能感知设备时返回的id},
   vehPlate: {车牌号}
});
```


## followIntelliSenseDeviceTrackPerspective

### 描述

根据指定车牌设置地图中心点,仅在车辆存在时生效,地图将根据车辆的位置持续更新地图中心点

### 参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|opts|true|[FollowIntelliSenseDeviceTrackPerspectiveOptions](#followintellisensedevicetrackperspectiveoptions参数说明)|-|-|

#### FollowIntelliSenseDeviceTrackPerspectiveOptions参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|id|true|string|-|创建智能感知设备返回的id|
|vehPlate|true|string|-|车牌号|

### 示例


```javascript
kmap.followIntelliSenseDeviceTrackPerspective({
   id: {创建智能感知设备时返回的id},
   vehPlate: {车牌号}
});
```


## setIntelliSenseDeviceTrackAttentions

### 描述

设置智能感知设备关注列表

### 参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|opts|true|[SetIntelliSenseDeviceTrackAttentionsOptions](#setintellisensedevicetrackattentionsoptions参数说明)|-|-|

#### SetIntelliSenseDeviceTrackAttentionsOptions参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|id|true|string|-|创建智能感知设备返回的id|
|attentions|true|Array&lt;string&gt;|-|关注车辆的车牌号列表|

### 示例


```javascript
kmap.setIntelliSenseDeviceTrackAttentions({
   id: {创建智能感知设备时返回的id},
   attentions: {车牌号列表}
});
```

## createHolographicRoadNetwork

### 描述

指定检测的摄像头列表和车辆车牌号,创建全息路网,当车辆驶入或驶离摄像头可视范围时,通过回调函数返回对应的关系

### 参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|opts|true|[CreateHolographicRoadNetworkOptions](#createholographicroadnetworkoptions参数说明)|-|-|

#### CreateHolographicRoadNetworkOptions参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|gbids|true|Array&lt;string&gt;|-|需要订阅的智能感知设备gbid列表|
|vehPlate|true|string|-|车牌号|
|onmessage|false|[Function](#onmessage函数参数说明)|-|每次消息推送的回调函数|
|onError|false|[Function](#onerror函数参数说明)|-|错误回调函数|
|ended|false|[Function](#ended函数参数说明)|-|结束回调|

##### onmessage函数参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|data|[OnmessageData](#onmessagedata参数说明)|-|结束回调信息|

###### OnmessageData参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|latitude|number|-|目标纬度|
|longitude|number|-|目标经度|
|carNo|number|-|车牌号|
|gbids|[gbidsObject](#gbidsobject参数说明)|-|目标ID|

###### gbidsObject参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|deviceType|string|-|目标ID|
|gbid|string|-|设备国标ID|

##### onError函数参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|error|[IErrorCodeInfo](#ierrorcodeinfo参数说明)|-|错误信息|

###### IErrorCodeInfo参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|code|string|-|错误码编号|
|message|string|-|错误信息|

##### ended函数参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|res|[EndedRes](#endedres参数说明)|-|结束回调信息|

###### EndedRes参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|status|number|-|10-成功,20-失败|
|data|[dataObject](#dataobject参数说明)|-|返回的数据|

###### dataObject参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|id|string|-|创建成功返回全息路网时 id|

### 示例


```javascript
kmap.createHolographicRoadNetwork({
   gbids: {摄像头gbid列表},
   vehPlate: {车牌号},
   onmessage : {回调函数},
   ended: {回调函数}
});
```


## removeHolographicRoadNetwork

### 描述

删除全息路网,取消监听

### 参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|opts|true|[RemoveHolographicRoadNetworkOptions](#removeholographicroadnetworkoptions参数说明)|-|-|

#### RemoveHolographicRoadNetworkOptions参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|id|true|string|-|创建全息路网返回的id|

### 示例


```javascript
kmap.removeHolographicRoadNetwork({
   id: {创建时返回的id}
});
```


## updateHolographicRoadNetworkGbids

### 描述

更新全息路网的设备

### 参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|opts|true|[UpdateHolographicRoadNetworkGbidsOptions](#updateholographicroadnetworkgbidsoptions参数说明)|-|-|

#### UpdateHolographicRoadNetworkGbidsOptions参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|id|true|string|-|创建全息路网返回的id|
|gbids|true|Array&lt;string&gt;|-|摄像头列表|
|ended|false|[Function](#ended函数参数说明)|-|结束回调|

##### ended函数参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|res|[EndedRes](#endedres参数说明)|-|结束回调信息|

###### EndedRes参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|status|number|-|10-成功,20-失败|

### 示例


```javascript
kmap.updateHolographicRoadNetworkGbids({
    id: {创建全息路网时返回的id}
   gbids: {摄像头gbid列表},
   ended: {回调函数}
});
```

## setIntelliSenseDeviceTrackIcon

### 描述

设置智能感知设备图标

### 参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|opts|true|[SetIntelliSenseDeviceTrackIconOptions](#setintellisensedevicetrackiconoptions参数说明)|-|-|

#### SetIntelliSenseDeviceTrackIconOptions参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|id|true|string|-|创建智能感知设备返回的id|
|icons|true|Array&lt;[iconsObject](#iconsobject参数说明)&gt;|-|车辆图标配置，按顺序匹配,优渲染优先匹配到的图标|

##### iconsObject参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|iconImage|true|string|-|雪碧图标名称|
|filter|false|[FilterObject](#filterobject参数说明)|-|图标过滤条件|

###### FilterObject参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|key|true|string|-|过滤字段|
|value|true|string|-|过滤值|

### 示例


```javascript
kmap.setIntelliSenseDeviceTrackIcon({
   id: {创建智能感知设备时返回的id},
   icons: [
       {
           iconImage: {雪碧图标名称}
           filter: [{
               key: {过滤字段}
               value: {过滤值}
           }]
       }
   ],
});
```


# 电子围栏

## createElectricFence

### 描述

创建电子围栏

### 参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|opts|true|[CreateElectricFenceOptions](#createelectricfenceoptions参数说明)|-|-|

#### CreateElectricFenceOptions参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|name|true|string|-|电子围栏名称，在同一个账号下，下不可重复，支持中文、英文大小字母、英文下划线"_"、英文横线"-"和数字，长度不大于128个字符|
|desc|false|string|-|电子围栏描述，支持中文、英文大小字母、英文下划线"_"、英文横线"-"和数字，长度不大于128个字符|
|points|true|Array&lt;[LngLat](#lnglat参数说明（类型）)&gt;|-|组成电子围栏的一些连续的点位坐标，顶点个数3-100个，外接矩形面积<100平方公里，超出这个范围，请与我们联系|
|callback|false|[Function](#callback函数参数说明)|-|回调函数|
|onError|false|[Function](#onerror函数参数说明)|-|错误回调函数|

##### LngLat参数说明（类型）

|参数名称|类型|说明|
|:--|:--:|:--|
|LngLat|[number, number]|经纬度坐标|

##### callback函数参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|res|[CallbackRes](#callbackres参数说明)|-|结束回调信息|

###### CallbackRes参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|status|number|-|10-成功,20-失败|
|data|[dataObject](#dataobject参数说明)|-|回调数据|

###### dataObject参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|gfid|string|-|创建成功后的电子围栏的 id|

##### onError函数参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|error|[IErrorCodeInfo](#ierrorcodeinfo参数说明)|-|-|

###### IErrorCodeInfo参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|code|string|-|错误码编号|
|message|string|-|错误信息|

### 示例


```
kmap.createElectricFence({
  name: '{围栏的名称}',
  desc: '{围栏的描述}',
  points: '{组成围栏的一些连续的点位坐标}',
  callback: function (res) {
    if (res.status === 10) {
      console.log(res);
    }
  },
});
```


## removeElectricFence

### 描述

删除电子围栏

### 参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|opts|true|[RemoveElectricFenceOptions](#removeelectricfenceoptions参数说明)|-|-|

#### RemoveElectricFenceOptions参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|gfid|true|string|-|电子围栏的 id|
|callback|false|[Function](#callback函数参数说明)|-|回调函数|
|onError|false|[Function](#onerror函数参数说明)|-|错误回调函数|

##### callback函数参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|res|[CallbackRes](#callbackres参数说明)|-|结束回调信息|

###### CallbackRes参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|status|number|-|10-成功,20-失败|

##### onError函数参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|error|[IErrorCodeInfo](#ierrorcodeinfo参数说明)|-|-|

###### IErrorCodeInfo参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|code|string|-|错误码编号|
|message|string|-|错误信息|

### 示例


```
kmap.removeElectricFence({
  gfid: '{电子围栏id}',
  callback: function (res) {
    if (res.status === 10) {
      console.log('删除成功');
    }
  },
});
```


## getElectricFenceList

### 描述

获取所有电子围栏列表

### 参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|opts|true|[GetElectricFenceListOptions](#getelectricfencelistoptions参数说明)|-|-|

#### GetElectricFenceListOptions参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|callback|true|[Function](#callback函数参数说明)|-|回调函数|
|onError|false|[Function](#onerror函数参数说明)|-|错误回调函数|

##### callback函数参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|res|[CallbackRes](#callbackres参数说明)|-|结束回调信息|

###### CallbackRes参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|status|number|-|10-成功,20-失败|
|data|Array&lt;[dataObject](#dataobject参数说明)&gt;|-|回调数据|

###### dataObject参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|gfid|string|-|电子围栏的 id|
|name|string|-|地理围栏名称|
|desc|string|-|地理围栏描述信息|
|points|Array&lt;[LngLat](#lnglat参数说明（类型）)&gt;|-|组成电子围栏的一些连续的点位坐标|
|createTime|number|-|围栏创建时间戳|

###### LngLat参数说明（类型）

|参数名称|类型|说明|
|:--|:--:|:--|
|LngLat|[number, number]|经纬度坐标|

##### onError函数参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|error|[IErrorCodeInfo](#ierrorcodeinfo参数说明)|-|-|

###### IErrorCodeInfo参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|code|string|-|错误码编号|
|message|string|-|错误信息|

### 示例


```
kmap.getElectricFenceList({
  callback: function (res) {
    if (res.status === 10) {
      console.log(res.data);
    }
  },
});
```


## subscribeElectricFence

### 描述

通过订阅一些电子围栏，实现设备和电子围栏的绑定，动态判断两者之间的空间关系

### 参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|opts|true|[SubscribeElectricFenceOptions](#subscribeelectricfenceoptions参数说明)|-|-|

#### SubscribeElectricFenceOptions参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|gfids|true|Array&lt;string&gt;|-|一些电子围栏的 id 列表|
|gtids|true|Array&lt;string&gt;|-|一些设备国标 id 列表|
|stoppingOption|false|[stoppingOptionObject](#stoppingoptionobject参数说明)|-|停留点事件选项|
|onmessage|false|[Function](#onmessage函数参数说明)|-|每次消息推送的回调函数，可以获得设备与围栏之间的空间关系|
|ended|false|[Function](#ended函数参数说明)|-|结束回调|
|onError|false|[Function](#onerror函数参数说明)|-|错误回调函数|

##### stoppingOptionObject参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|distance|true|number|-|停留点范围距离。单位：m|
|interval|true|number|-|停留点范围时间，单位：min|

##### onmessage函数参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|data|Array&lt;[SubscribeElectricFenceMessageItem](#subscribeelectricfencemessageitem参数说明)&gt;|-|回调信息|

###### SubscribeElectricFenceMessageItem参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|type|number|-|消息类型 1：推送围栏标准进出事件通知类型 2：推送扩展停留点事件消息类型|
|gfid|string|-|地理围栏 id|
|gtid|string|-|监控对象设备国标 id|
|action|number|-|动作，0：进入，1：离开，当 type 为 1 的时返回|
|eventPoint|[eventPointObject](#eventpointobject参数说明)|-|经纬度信息|
|startPoint|[startPointObject](#startpointobject参数说明)|-|开始点位，当 type 为 2 时返回|
|stayStatus|number|-|逗留状态，0：初始触发停留点；1：持续触发停留点；2：围栏内离开停留点范围|

###### eventPointObject参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|longitude|number|-|经度|
|latitude|number|-|纬度|
|gpsTimestamp|number|-|时间戳|

###### startPointObject参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|longitude|number|-|经度|
|latitude|number|-|纬度|
|gpsTimestamp|number|-|时间戳|

##### ended函数参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|res|[EndedRes](#endedres参数说明)|-|结束回调信息|

###### EndedRes参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|status|number|-|10-成功,20-失败|
|data|string|-|返回创建成功返回订阅电子围栏 id|

##### onError函数参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|error|[IErrorCodeInfo](#ierrorcodeinfo参数说明)|-|错误信息|

###### IErrorCodeInfo参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|code|string|-|错误码编号|
|message|string|-|错误信息|

### 示例


```javascript
kmap.subscribeElectricFence({
   gfids: '{一些电子围栏的 id}',
   gtids: '{一些设备的 gbid}',
   onmessage: function (data) {
       console.log(data);
   },
   ended: function (res) {
       if (res.status === 10) {
           console.log(res.data.id);
       }
   },
});
```


## unSubscribeElectricFence

### 描述

取消订阅电子围栏

### 参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|opts|true|[UnSubscribeElectricFenceOptions](#unsubscribeelectricfenceoptions参数说明)|-|-|

#### UnSubscribeElectricFenceOptions参数说明

|参数名称|必选|类型|默认值|说明|
|:--|:--:|:--:|:--:|:--|
|id|true|string|-|订阅电子围栏返回的 id|
|onError|false|[Function](#onerror函数参数说明)|-|错误回调函数|
|ended|false|[Function](#ended函数参数说明)|-|结束回调|

##### onError函数参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|error|[IErrorCodeInfo](#ierrorcodeinfo参数说明)|-|错误信息|

###### IErrorCodeInfo参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|code|string|-|错误码编号|
|message|string|-|错误信息|

##### ended函数参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|res|[EndedRes](#endedres参数说明)|-|结束回调信息|

###### EndedRes参数说明

|参数名称|类型|默认值|说明|
|:--|:--:|:--:|:--|
|status|number|-|10-成功,20-失败|
|data|string|-|成功 'Success'|

### 示例


```javascript
kmap.unSubscribeElectricFence({
   id: '{订阅电子围栏返回的 id}',
   ended: function(res) {
       if(res.status === 10) {
           console.log('取消订阅成功');
        }
   }
});
```


<!--stackedit_data:
eyJoaXN0b3J5IjpbLTY2ODYwMDc4MV19
-->